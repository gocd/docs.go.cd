<!DOCTYPE html>



<html>

<head>
  <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Policy in GoCD | GoCD User Documentation</title>

<meta name="description" content="GoCD authorization via policy"/>
<meta name="keywords" content="[GoCD configuration, authorization, administration, users, roles, role-based security, security, security configuration, user permissions, GoCD administration, role-based access control, rbac]"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="canonical" href="https://docs.gocd.org/current/configuration/policy_in_gocd.html"/>
<script src="../javascripts/vendor/jquery-3.6.4.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="../javascripts/vendor/lunr-2.3.9.min.js"></script>

<script type="text/javascript" src="../javascripts/search/search.js"></script>
<script type="text/javascript" src="../javascripts/navigation/navigation.js"></script>
<script src="../javascripts/_common-to-all-pages.js" type="text/javascript"></script>

<link href="../images/favicon.ico" rel="shortcut icon">

<link rel="stylesheet" href="../stylesheets/normalize.min.css"/>
<link rel="stylesheet" href="../stylesheets/website.css"/>

<link rel="stylesheet" href="../stylesheets/book.min.ac5a65903b18d3093416406608606b21fbe03e953e39276b6a84377495f3a79e.css"/>

  
</head>

<body data-rel-permalink="/configuration/policy_in_gocd.html">
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="main-container">

    <aside class="book-menu fixed">
      <nav role="navigation">
<a href="https://www.gocd.org"> <img src="../svg/product_ui_logo_go.svg" class="icon" /></a>


    



<script>
    (function() {
        var menu = document.querySelector('aside.book-menu nav')
        addEventListener('beforeunload', function(event) {
            localStorage.setItem('menu.scrollTop', menu.scrollTop)
        });
    })();
    function loadFunction(){
        var menu = document.querySelector('aside.book-menu nav')
        var top = parseInt(localStorage.getItem('menu.scrollTop'));
        $(menu).animate({
            scrollTop: top
        }, 10)
    }
    $(document).ready = loadFunction();
</script>


<style>
  nav ul a[href$="\2f configuration\2fpolicy_in_gocd.html"] {
  color: #004ed0;
  }
</style>

<div class="search-input-container">
  <input id="search" type="text" placeholder="Type to search">
</div>
<ul>
  <li class="level1">
    <a href="https://www.gocd.org/"><b>Go to GoCD.org</b></a>
  </li>
</ul>
<hr>
<ul>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Welcome</b></a>
    <ul>
      <li class="level2"><a href="../">Introduction</a></li>
      <li class="level2"><a href="../introduction/concepts_in_go.html">Concepts in GoCD</a></li>
      <li class="level2"><a href="../navigation/value_stream_map.html">Value Stream Map</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Installation</b></a>
    <ul>
      <li class="level2"><a href="../installation/">Installing GoCD</a></li>
      <li class="level2"><a href="../installation/system_requirements.html">System requirements</a></li>
      <li class="level2"><a href="../installation/installing_go_server.html">Installing GoCD Server</a>
        <ul>
          <li class="level3"><a href="../installation/install/server/linux.html">Linux</a></li>
          <li class="level3"><a href="../installation/install/server/windows.html">Windows</a></li>
          <li class="level3"><a href="../installation/install/server/osx.html">MacOS</a></li>
          <li class="level3"><a href="../installation/install/server/zip.html">Generic Zip</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/installing_go_agent.html">Installing GoCD Agent</a>
        <ul>
          <li class="level3"><a href="../installation/install/agent/linux.html">Linux</a></li>
          <li class="level3"><a href="../installation/install/agent/windows.html">Windows</a></li>
          <li class="level3"><a href="../installation/install/agent/osx.html">MacOS</a></li>
          <li class="level3"><a href="../installation/install/agent/zip.html">Generic Zip</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/configuring_database.html">Configuring GoCD Database</a></li>
        <ul>
          <li class="level3"><a href="../installation/configuring_database/h2.html">H2</a></li>
          <li class="level3"><a href="../installation/configuring_database/postgres.html">PostgreSQL</a></li>
          <li class="level3"><a href="../installation/configuring_database/mysql.html">MySQL</a></li>
          <li class="level3"><a href="../installation/configuring_database/connection-properties.html">Database Connection Properties</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/upgrading_go.html">Upgrading GoCD</a></li>
      <ul>
        <li class="level3"><a href="../installation/upgrading_go/upgrade_to_gocd_20.5.0.html">Upgrading to GoCD 20.5.0 and higher</a></li>
      </ul>
      <li class="level2"><a href="../installation/configuring_server_details.html">Configuring Server Details</a></li>
      <li class="level2"><a href="../installation/configure-reverse-proxy.html">Configure a Reverse Proxy</a></li>
      <li class="level2"><a href="../installation/configure-agent-proxy.html">Configure an agent with proxy</a></li>
      <li class="level2"><a href="../installation/ssl_tls_config.html">Configuring SSL/TLS</a>
        <ul>
          <li class="level3"><a href="../installation/ssl_tls/end_to_end_transport_security.html">End to end transport security</a></li>
          <li class="level3"><a href="../installation/ssl_tls/configuring_hsts_header.html">Configuring HSTS Header</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/performance_tuning.html">Performance Tuning</a></li>
      <li class="level2"><a href="../installation/hardware_specifications.html">Hardware Specifications</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Configuration</b></a>
    <ul>
      <li class="level2"><a href="../configuration/pipelines.html">Pipelines</a>
        <ul>
          <li class="level3"><a href="../configuration/quick_pipeline_setup.html">Add a New Pipeline</a></li>
          <li class="level3"><a href="../configuration/admin_add_material.html">Add Material to Existing Pipeline</a></li>
          <li class="level3"><a href="../configuration/admin_add_stage.html">Add Stage to Existing Pipeline</a></li>
          <li class="level3"><a href="../configuration/admin_add_job.html">Add Job to Existing Stage</a></li>
          <li class="level3"><a href="../configuration/admin_add_task.html">Add Task to Existing Job</a></li>
          <li class="level3"><a href="../configuration/pipeline_templates.html">Pipeline Templates</a></li>
          <li class="level3"><a href="../configuration/admin_use_parameters_in_configuration.html">Using parameters in Pipelines and Templates</a></li>
          <li class="level3"><a href="../configuration/pipeline_labeling.html">Pipeline Labeling</a></li>
          <li class="level3"><a href="../configuration/pipeline_scheduling.html">Pipeline Scheduling</a></li>
          <li class="level3"><a href="../configuration/dev_choose_when_stage_runs.html">Choose When a Stage Runs</a></li>
          <li class="level3"><a href="../configuration/admin_timer.html">Timer Trigger</a></li>
          <li class="level3"><a href="../configuration/admin_lock_pipelines.html">Lock a Pipeline</a></li>
          <li class="level3"><a href="../configuration/job_timeout.html">Job Timeout</a></li>
          <li class="level3"><a href="../configuration/deleting_pipelines.html">Deleting Pipelines</a></li>
          <li class="level3"><a href="../configuration/managing_dependencies.html">Managing Dependencies</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/managing_a_build_cloud.html">Managing Agents</a>
        <ul>
          <li class="level3"><a href="../configuration/elastic_agents.html">Elastic Agents</a></li>
          <li class="level3"><a href="../configuration/clone_existing_agents.html">Clone/Copy Existing Agents</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/managing_environments.html">Managing Environments</a></li>
      <li class="level2"><a href="../configuration/managing_users.html">Managing Users</a>
        <ul>
          <li class="level3"><a href="../configuration/dev_authentication.html">Authentication</a></li>
          <li class="level3"><a href="../configuration/access_tokens.html">Access Tokens</a></li>
          <li class="level3"><a href="../configuration/dev_authorization.html">Authorizing Users</a></li>
          <li class="level3"><a href="../configuration/delegating_group_administration.html">Delegating Group Administration</a></li>
          <li class="level3"><a href="../configuration/pipeline_group_admin_config.html">Pipeline Group Administration</a></li>
          <li class="level3"><a href="../configuration/policy_in_gocd.html">Policy in GoCD</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/secrets_management.html">Secrets Management</a>
      </li>
      <li class="level2">Artifacts
        <ul>
          <li class="level3"><a href="../configuration/dev_upload_test_report.html">Publish Reports and Artifacts</a></li>
          <li class="level3"><a href="../configuration/managing_artifacts_and_reports.html">Managing Artifacts and Reports</a></li>
          <li class="level3"><a href="../configuration/delete_artifacts.html">Auto Delete Artifacts</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/admin_mailhost_info.html">Email server configuration</a></li>
      <li class="level2"><a href="../configuration/dev_notifications.html">Notifications</a></li>
      <li class="level2"><a href="../configuration/configuration_reference.html">Reference</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Advanced Usage</b></a>
    <ul>
      <li class="level2"><a href="../advanced_usage/pipelines_as_code.html">Pipelines as code</a></li>
      <li class="level2"><a href="../advanced_usage/agent_auto_register.html">Auto Register a Remote Agent</a></li>
      <li class="level2"><a href="../advanced_usage/admin_spawn_multiple_jobs.html">Spawn multiple instances of a Job</a></li>
      <li class="level2"><a href="../advanced_usage/admin_install_multiple_agents.html">Multiple Agents on One Machine</a></li>
      <li class="level2"><a href="../advanced_usage/dev_clean_up_when_cancel.html">Clean on Task Cancel</a></li>
      <li class="level2"><a href="../advanced_usage/dev_conditional_task_execution.html">Conditional Task Execution</a></li>
      <li class="level2"><a href="../advanced_usage/trigger_with_options.html">Trigger With Options</a></li>
      <li class="level2"><a href="../advanced_usage/fan_in.html">Fan In</a></li>
      <li class="level2"><a href="../advanced_usage/logging.html">Logging</a></li>
      <li class="level2"><a href="../advanced_usage/ui_testing.html">UI Testing</a></li>
      <li class="level2"><a href="../advanced_usage/compare_pipelines.html">Compare Builds</a></li>
      <li class="level2"><a href="../advanced_usage/stage_duration_chart.html">Graphs</a></li>
      <li class="level2"><a href="../advanced_usage/one_click_backup.html">Backup GoCD Server</a></li>
      <li class="level2"><a href="../advanced_usage/cron_backup.html">Timer Based GoCD Server Backup</a></li>
      <li class="level2"><a href="../advanced_usage/config_repo.html">Config Repository</a></li>
      <li class="level2"><a href="../advanced_usage/other_config_options.html">Other Config Options</a></li>
      <li class="level2"><a href="../advanced_usage/agent-health-check-api.html">Agent Health Check API</a></li>
      <li class="level2"><a href="../advanced_usage/maintenance_mode.html">Maintenance Mode</a></li>
      <li class="level2"><a href="../advanced_usage/pipeline_activity.html">Pipeline activity</a></li>
      <li class="level2"><a href="../integration/">Integrating GoCD With Other Tools</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>GoCD on Kubernetes</b></a>
    <ul>
      <li class="level2"><a href="../gocd_on_kubernetes/introduction.html">Introduction</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/setup_and_configuration.html">Setup and configuration</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/helm_install.html">Install the GoCD Helm chart</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/importing_a_sample_workflow.html">Importing a sample workflow</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/sample_pipelines_explained.html">An explanation of the sample pipelines</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/docker_workflows.html">Docker workflows</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Plugins in GoCD</b></a>
    <ul>
      <li class="level2"><a href="../extension_points/">Available extension points</a></li>
      <li class="level2"><a href="../extension_points/plugin_user_guide.html">Plugin User Guide</a></li>
      <li class="level2"><a href="../extension_points/package_repository_extension.html">Package Repository Extension</a></li>
      <li class="level2"><a href="../extension_points/yum_repository_poller.html">Yum Repository Poller</a></li>
      <li class="level2"><a href="../extension_points/scm_extension.html">SCM Extension</a></li>
      <li class="level2"><a href="../extension_points/task_extension.html">Task Extension</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>FAQ/Troubleshooting</b></a>
    <ul>
      <li class="level2"><a href="../faq/fixing_common_issues.html">Fixing common issues</a></li>
      <li class="level2"><a href="../faq/artifact_integrity.html">Artifact integrity verification</a></li>
      <li class="level2"><a href="../faq/rm_what_is_deployed.html">Check What's Deployed</a></li>
      <li class="level2"><a href="../faq/concurrent_config_modifications.html">Concurrent Modifications to Config</a></li>
      <li class="level2"><a href="../faq/docker_container_ssh_keys.html">Configure SSH Keys for dockerized GoCD</a></li>
      <li class="level2"><a href="../faq/deploy_a_specific_build_to_an_environment.html">Deploy a Specific Build</a></li>
      <li class="level2"><a href="../faq/rm_deploy_to_environment.html">Deploy to an environment</a></li>
      <li class="level2"><a href="../faq/material_update_hung.html">GoCD unable to poll for changes</a></li>
      <li class="level2"><a href="../faq/stage_old_config.html">Historical Configuration</a></li>
      <li class="level2"><a href="../faq/job_rerun.html">How do I re-run jobs?</a></li>
      <li class="level2"><a href="../faq/ordering_of_pipelines.html">Ordering of Pipelines</a></li>
      <li class="level2"><a href="../faq/dependency_management.html">Run Tests against new Builds</a></li>
      <li class="level2"><a href="../faq/admin_out_of_disk_space.html">Running out of Disk Space</a></li>
      <li class="level2"><a href="../faq/dev_see_artifact_as_tab.html">See artifacts as sub-tabs</a></li>
      <li class="level2"><a href="../faq/tester_what_has_changed.html">See changes in new binary</a></li>
      <li class="level2"><a href="../faq/dev_use_current_revision_in_build.html">Using Environment variables</a></li>
      <li class="level2"><a href="../faq/dev_understand_why_build_broken.html">Why the Build is Broken?</a></li>
    </ul>
  </li>
</ul>




</nav>
    </aside>

    
    <div class="navigation-bar">
    <a href="#" class="navigation navigation-prev">
        <i class="fa fa-angle-left"></i> &lt; Previous Page
    </a>

    <a href="#" class="navigation navigation-next">
        <i class="fa fa-angle-right"></i> Next Page &gt;
    </a>
</div>

    <div class="book-page ">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="../svg/menu.svg" />
  </label>
  <strong>Policy in GoCD</strong>
</header>

      
<div class="has-results">
    <h1 id="searchResultTitle" class="search-results-title hide"></h1>
    <ul id="results"></ul>
</div>
<div class="no-results hide">
    Your query search resulted in no results.
</div>

      
<article class="markdown"><h1 id="policy">Policy</h1>
<p>A policy is a set of permissions for GoCD entities such as environments, configuration repositories, etc. The policy defines the access of a GoCD entity for the users in a role. GoCD supports a restrictive model of access i.e. until access is granted, the entity can&rsquo;t be accessed by anyone (except admins).</p>
<p>A permission consists of 3 values:</p>
<ol>
<li><strong>Type</strong>: The type of GoCD entity. Supported values are <code>environment, config_repo, cluster_profile, elastic_agent_profile</code>. Wildcard(<code>*</code>) is also permitted which means all supported values.</li>
<li><strong>Action</strong>: The action which is controlled. Supported values are <code>view</code> and <code>administer</code></li>
<li><strong>Resource</strong>: The resource can be the name of entity or a pattern consisting of wildcard (<code>*</code>) matching one or more entities and can optionally be namespaced within parent entity using <code>:</code> separator.</li>
</ol>
<p>Currently, GoCD has 2 types of permissions:</p>
<ul>
<li>Allow: The allow permission grants access to the specified entity for the specific action.</li>
<li>Deny: The deny permission restricts the access to the specified entity for the specific action.</li>
</ul>
<blockquote>
<p><strong>Note: If both the permission are specified for the same entity, the <code>deny</code> permission takes precendence.</strong></p>
</blockquote>
<h2 id="privilege-action-matrix">Privilege-Action Matrix</h2>
<p>Each GoCD entity has a set of actions which grants/restricts control on a granular level. The following matrix describes the same.</p>
<h3 id="environment">Environment</h3>
<ol>
<li>
<p>API</p>
<table>
<thead>
<tr>
<th></th>
<th>Index</th>
<th>Get</th>
<th>Create</th>
<th>Update</th>
<th>Patch</th>
<th>Delete</th>
</tr>
</thead>
<tbody>
<tr>
<td>View</td>
<td>✔</td>
<td>✔</td>
<td>✘</td>
<td>✘</td>
<td>✘</td>
<td>✘</td>
</tr>
<tr>
<td>Administer</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>UI</p>
<table>
<thead>
<tr>
<th></th>
<th>List</th>
<th>Create</th>
<th>Update</th>
<th>Delete</th>
</tr>
</thead>
<tbody>
<tr>
<td>View</td>
<td>✔</td>
<td>✘</td>
<td>✘</td>
<td>✘</td>
</tr>
<tr>
<td>Administer</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h3 id="config-repo">Config Repo</h3>
<ol>
<li>
<p>API</p>
<table>
<thead>
<tr>
<th></th>
<th>Index</th>
<th>Get</th>
<th>Create</th>
<th>Update</th>
<th>Delete</th>
</tr>
</thead>
<tbody>
<tr>
<td>View</td>
<td>✔</td>
<td>✔</td>
<td>✘</td>
<td>✘</td>
<td>✘</td>
</tr>
<tr>
<td>Administer</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>UI</p>
<table>
<thead>
<tr>
<th></th>
<th>List</th>
<th>Create</th>
<th>Refresh</th>
<th>Update</th>
<th>Delete</th>
</tr>
</thead>
<tbody>
<tr>
<td>View</td>
<td>✔</td>
<td>✘</td>
<td>✘</td>
<td>✘</td>
<td>✘</td>
</tr>
<tr>
<td>Administer</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h3 id="elastic-agent-configuration">Elastic Agent Configuration</h3>
<p>GoCD supports dynamic provisioning of agents using Elastic Agents. To Configure an elastic agent in GoCD, a user is required to configure Cluster Profiles and Elastic Agent Profiles.</p>
<p>In most cases, a single GoCD instance is being utilized by multiple teams.
Each team can have their own build environments e.g. development, staging, production, etc. Where each build environment is mapped to a cluster profile.
And the type and the configurations of the agent is specified as an elastic agent profile.</p>
<p>As Cluster Profiles and Elastic Agent Profiles are inter-dependent, a specific permission policy can be specified to provide granular access as per teams.</p>
<h4 id="basic-permissions">Basic Permissions</h4>
<h5 id="cluster-profile">Cluster Profile</h5>
<ol>
<li>
<p>API</p>
<table>
<thead>
<tr>
<th></th>
<th>Index</th>
<th>Get</th>
<th>Create</th>
<th>Update</th>
<th>Delete</th>
</tr>
</thead>
<tbody>
<tr>
<td>View</td>
<td>✔</td>
<td>✔</td>
<td>✘</td>
<td>✘</td>
<td>✘</td>
</tr>
<tr>
<td>Administer</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>UI</p>
<table>
<thead>
<tr>
<th></th>
<th>List</th>
<th>Create</th>
<th>Update</th>
<th>Delete</th>
<th>Cluster Status Report</th>
</tr>
</thead>
<tbody>
<tr>
<td>View</td>
<td>✔</td>
<td>✘</td>
<td>✘</td>
<td>✘</td>
<td>✔</td>
</tr>
<tr>
<td>Administer</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h5 id="elastic-agent-profile">Elastic Agent Profile</h5>
<ol>
<li>
<p>API</p>
<table>
<thead>
<tr>
<th></th>
<th>Index</th>
<th>Get</th>
<th>Create</th>
<th>Update</th>
<th>Delete</th>
</tr>
</thead>
<tbody>
<tr>
<td>View</td>
<td>✔</td>
<td>✔</td>
<td>✘</td>
<td>✘</td>
<td>✘</td>
</tr>
<tr>
<td>Administer</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>UI</p>
<table>
<thead>
<tr>
<th></th>
<th>List</th>
<th>Create</th>
<th>Update</th>
<th>Delete</th>
<th>Agent Status Report</th>
<th>Elastic Profiles Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>View</td>
<td>✔</td>
<td>✘</td>
<td>✘</td>
<td>✘</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td>Administer</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h4 id="implicit-permission">Implicit Permission</h4>
<ol>
<li>
<p>Any permission on the Cluster profile is implicitly applied to all the Elastic Agent Profiles of the same cluster.</p>
<p><em>Example</em>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;roles&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;role</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;frontend_team&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;users&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>Bob<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;/users&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;policy&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;cluster_profile&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>frontend_team_uat_cluster<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;/policy&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/roles&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;elastic&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;agentProfiles&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#008000;font-weight:bold">&lt;agentProfile</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;node6-agent&#34;</span> <span style="color:#b44">clusterProfileId=</span><span style="color:#b44">&#34;frontend_team_uat_cluster&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#008000;font-weight:bold">&lt;agentProfile</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;node8-agent&#34;</span> <span style="color:#b44">clusterProfileId=</span><span style="color:#b44">&#34;frontend_team_uat_cluster&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;/agentProfiles&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;clusterProfiles&gt;</span>
</span></span><span style="display:flex;"><span>               <span style="color:#008000;font-weight:bold">&lt;clusterProfile</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;frontend_team_uat_cluster&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;cd.go.contrib.docker&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;/clusterProfiles&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/elastic&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p>In the give role, The user <code>Bob</code> has given administrative access on the <code>frontend_team_uat_cluster</code> cluster.
With implicit permissions, the user <code>Bob</code> is allowed to administer <code>frontend_team_uat_cluster</code> cluster profile and <code>node6-agent</code>, <code>node8-agent</code> elastic agent profiles.</p>
</li>
<li>
<p>Any permission on the Elastic Agent profile provides the <strong>view</strong> permission to the associated Cluster Profile.</p>
<p><em>Example</em>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;roles&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;role</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;frontend_team&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;users&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>Bob<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;/users&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;policy&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;elastic_agent_profile&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>node6-agent<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;/policy&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/roles&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;elastic&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;agentProfiles&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#008000;font-weight:bold">&lt;agentProfile</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;node6-agent&#34;</span> <span style="color:#b44">clusterProfileId=</span><span style="color:#b44">&#34;frontend_team_uat_cluster&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;/agentProfiles&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;clusterProfiles&gt;</span>
</span></span><span style="display:flex;"><span>               <span style="color:#008000;font-weight:bold">&lt;clusterProfile</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;frontend_team_uat_cluster&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;cd.go.contrib.docker&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;/clusterProfiles&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/elastic&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p>In the give role, The user <code>Bob</code> has given administrative access on the <code>node6-agent</code> elastic agent profile.
With implicit permissions, the user <code>Bob</code> is allowed to administer <code>node6-agent</code> elastic agent profile and is also able to view <code>frontend_team_uat_cluster</code> cluster profile.</p>
</li>
</ol>
<h4 id="namespaced-permission">Namespaced Permission</h4>
<p>In a distributed teams setup, along with granting permissions to create GoCD entities, we often want to restrict users from performing certain operations.
Within namespaced resource permissions we can restrict user permissions to a particular entity.</p>
<p>Namespaced resource permissions can be specified using colon (<code>:</code>) separator. Example: <code>parent_entity:child_entity</code>.
This would enforce the given user has access to operate on <code>child_entity</code> only within <code>parent_entity</code>.</p>
<p>While creating elastic agent configurations we often to restrict users to to their team&rsquo;s cluster profiles and elastic profiles.
Following is the example which demonstrates permission restrictions using namespaced resource as per teams.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;roles&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;role</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;frontend_team&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;users&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>Bob<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/users&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;policy&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;elastic_agent_profiles&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>frontend_*:*<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/policy&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;role</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;backend_team&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;users&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>John<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/users&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;policy&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;elastic_agent_profiles&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>backend_*:*<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/policy&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;role</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;devops_team&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;users&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>Admin<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;/users&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;policy&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;elastic_agent_profiles&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*:*<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;/policy&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/roles&gt;</span>
</span></span></code></pre></div><p>In the given example:</p>
<ol>
<li>As part of role <code>frontend_team</code>, the user <code>Bob</code> has given administrative access on all the Elastic agent profiles which refers to the <code>frontend_*</code> cluster profile(s).</li>
<li>As part of role <code>backend_team</code>, the user <code>John</code> has given administrative access on all the Elastic agent profiles which refers to the <code>backend_*</code> cluster profile(s).</li>
<li>As part of role <code>devops_team</code>, the user <code>Admin</code> has given administrative access on all the Elastic agent profiles. This can also be achieved specifying <code>*</code> as resource.</li>
</ol>
<h2 id="configure-policy">Configure policy</h2>
<ol>
<li>
<p>Login into your GoCD server.</p>
</li>
<li>
<p>Go to <strong>Admin</strong> menu → <strong>Role Configuration</strong>.</p>
<p><img src="../images/configuration/policy/1_navigate_to_role_configuration.png" alt="&ldquo;Navigate to role configuration&rdquo;"></p>
</li>
<li>
<p>Click on <code>Add</code> button.</p>
<p><img src="../images/configuration/policy/2_click_on_add.png" alt="&ldquo;Add Role Button&rdquo;"></p>
</li>
<li>
<p>Enter a unique name for role configuration.</p>
</li>
<li>
<p>Click on <code>Add Permission</code> button.</p>
<p><img src="../images/configuration/policy/3_click_on_add_permission.png" alt="&ldquo;Add Permission Button&rdquo;"></p>
</li>
<li>
<p>Select permission as <code>Allow</code>, type as <code>Environment</code>, action as <code>View</code>. Enter <code>resource</code> value as <code>*</code>. This will grant view permission for all environments to the users which has this role.</p>
<p><img src="../images/configuration/policy/4_define_permission.png" alt="&ldquo;Define Permission&rdquo;"></p>
</li>
<li>
<p>Click on <code>Save</code> button.</p>
</li>
</ol>
<p>Once the role has been created, go ahead and add users to the same. The access to the GoCD entities for these users will governed as per permissions configured.</p>
</article>

      
<div class="align-center book-git-footer justify-between">
  

  
  <div>
    <a href="#" class="navigation navigation-prev">
      <i class="fa fa-angle-left"></i> &lt; Previous Page
    </a>
  </div>
  

  
  <div>
    <a id="suggest-edits" href="https://github.com/gocd/docs.go.cd/edit/master/content/configuration/policy_in_gocd.md" target="_blank" rel="noopener">
      <img src="../svg/code-fork.svg" /> Suggest edits to this page
    </a>
  </div>
  

  
  <div>
    <a href="#" class="navigation navigation-next">
      <i class="fa fa-angle-right"></i> Next Page &gt;
    </a>
  </div>
  

</div>


    </div>

    

  
  <aside class="book-toc fixed">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#privilege-action-matrix">Privilege-Action Matrix</a>
      <ul>
        <li><a href="#environment">Environment</a></li>
        <li><a href="#config-repo">Config Repo</a></li>
        <li><a href="#elastic-agent-configuration">Elastic Agent Configuration</a></li>
      </ul>
    </li>
    <li><a href="#configure-policy">Configure policy</a></li>
  </ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
