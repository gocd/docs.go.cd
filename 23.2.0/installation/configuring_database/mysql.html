<!DOCTYPE html>



<html>

<head>
  <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Enabling GoCD to use MySQL Database | GoCD User Documentation</title>

<meta name="description" content="GoCD is an open source continuous delivery server that helps organizations increase productivity and deliver high quality software through automation."/>
<meta name="keywords" content="continuous delivery, software, continuous integration, open source, blog, software development, tools, automation, deployment pipelines, devops, techniques"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="canonical" href="https://docs.gocd.org/current/installation/configuring_database/mysql.html"/>
<script src="../../javascripts/vendor/jquery-3.6.4.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="../../javascripts/vendor/lunr-2.3.6.min.js"></script>

<script type="text/javascript" src="../../javascripts/search/search.js"></script>
<script type="text/javascript" src="../../javascripts/navigation/navigation.js"></script>
<script src="../../javascripts/_common-to-all-pages.js" type="text/javascript"></script>

<link href="../../images/favicon.ico" rel="shortcut icon">

<link rel="stylesheet" href="../../stylesheets/normalize.min.css"/>
<link rel="stylesheet" href="../../stylesheets/website.css"/>

<link rel="stylesheet" href="../../stylesheets/book.min.ac5a65903b18d3093416406608606b21fbe03e953e39276b6a84377495f3a79e.css"/>

  
</head>

<body data-rel-permalink="/installation/configuring_database/mysql.html">
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="main-container">

    <aside class="book-menu fixed">
      <nav role="navigation">
<a href="https://www.gocd.org"> <img src="../../svg/product_ui_logo_go.svg" class="icon" /></a>


    



<script>
    (function() {
        var menu = document.querySelector('aside.book-menu nav')
        addEventListener('beforeunload', function(event) {
            localStorage.setItem('menu.scrollTop', menu.scrollTop)
        });
    })();
    function loadFunction(){
        var menu = document.querySelector('aside.book-menu nav')
        var top = parseInt(localStorage.getItem('menu.scrollTop'));
        $(menu).animate({
            scrollTop: top
        }, 10)
    }
    $(document).ready = loadFunction();
</script>


<style>
  nav ul a[href$="\2finstallation\2f configuring_database\2fmysql.html"] {
  color: #004ed0;
  }
</style>

<div class="search-input-container">
  <input id="search" type="text" placeholder="Type to search">
</div>
<ul>
  <li class="level1">
    <a href="https://www.gocd.org/"><b>Go to GoCD.org</b></a>
  </li>
</ul>
<hr>
<ul>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../../images/arrow.png"/>
    </figure>

    <a href="#"><b>Welcome</b></a>
    <ul>
      <li class="level2"><a href="../../">Introduction</a></li>
      <li class="level2"><a href="../../introduction/concepts_in_go.html">Concepts in GoCD</a></li>
      <li class="level2"><a href="../../navigation/value_stream_map.html">Value Stream Map</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../../images/arrow.png"/>
    </figure>

    <a href="#"><b>Installation</b></a>
    <ul>
      <li class="level2"><a href="../../installation/">Installing GoCD</a></li>
      <li class="level2"><a href="../../installation/system_requirements.html">System requirements</a></li>
      <li class="level2"><a href="../../installation/installing_go_server.html">Installing GoCD Server</a>
        <ul>
          <li class="level3"><a href="../../installation/install/server/linux.html">Linux</a></li>
          <li class="level3"><a href="../../installation/install/server/windows.html">Windows</a></li>
          <li class="level3"><a href="../../installation/install/server/osx.html">Mac OS X</a></li>
          <li class="level3"><a href="../../installation/install/server/zip.html">Generic Zip</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../installation/installing_go_agent.html">Installing GoCD Agent</a>
        <ul>
          <li class="level3"><a href="../../installation/install/agent/linux.html">Linux</a></li>
          <li class="level3"><a href="../../installation/install/agent/windows.html">Windows</a></li>
          <li class="level3"><a href="../../installation/install/agent/osx.html">Mac OS X</a></li>
          <li class="level3"><a href="../../installation/install/agent/zip.html">Generic Zip</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../installation/configuring_database.html">Configuring GoCD Database</a></li>
        <ul>
          <li class="level3"><a href="../../installation/configuring_database/h2.html">H2</a></li>
          <li class="level3"><a href="../../installation/configuring_database/postgres.html">PostgreSQL</a></li>
          <li class="level3"><a href="../../installation/configuring_database/mysql.html">MySQL</a></li>
          <li class="level3"><a href="../../installation/configuring_database/connection-properties.html">Database Connection Properties</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../installation/upgrading_go.html">Upgrading GoCD</a></li>
      <ul>
        <li class="level3"><a href="../../installation/upgrading_go/upgrade_to_gocd_20.5.0.html">Upgrading to GoCD 20.5.0 and higher</a></li>
      </ul>
      <li class="level2"><a href="../../installation/configuring_server_details.html">Configuring Server Details</a></li>
      <li class="level2"><a href="../../installation/configure-reverse-proxy.html">Configure a Reverse Proxy</a></li>
      <li class="level2"><a href="../../installation/configure-agent-proxy.html">Configure an agent with proxy</a></li>
      <li class="level2"><a href="../../installation/ssl_tls_config.html">Configuring SSL/TLS</a>
        <ul>
          <li class="level3"><a href="../../installation/ssl_tls/end_to_end_transport_security.html">End to end transport security</a></li>
          <li class="level3"><a href="../../installation/ssl_tls/configuring_hsts_header.html">Configuring HSTS Header</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../installation/performance_tuning.html">Performance Tuning</a></li>
      <li class="level2"><a href="../../installation/hardware_specifications.html">Hardware Specifications</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../../images/arrow.png"/>
    </figure>

    <a href="#"><b>Configuration</b></a>
    <ul>
      <li class="level2"><a href="../../configuration/pipelines.html">Pipelines</a>
        <ul>
          <li class="level3"><a href="../../configuration/quick_pipeline_setup.html">Add a New Pipeline</a></li>
          <li class="level3"><a href="../../configuration/admin_add_material.html">Add Material to Existing Pipeline</a></li>
          <li class="level3"><a href="../../configuration/admin_add_stage.html">Add Stage to Existing Pipeline</a></li>
          <li class="level3"><a href="../../configuration/admin_add_job.html">Add Job to Existing Stage</a></li>
          <li class="level3"><a href="../../configuration/admin_add_task.html">Add Task to Existing Job</a></li>
          <li class="level3"><a href="../../configuration/pipeline_templates.html">Pipeline Templates</a></li>
          <li class="level3"><a href="../../configuration/admin_use_parameters_in_configuration.html">Using parameters in Pipelines and Templates</a></li>
          <li class="level3"><a href="../../configuration/pipeline_labeling.html">Pipeline Labeling</a></li>
          <li class="level3"><a href="../../configuration/pipeline_scheduling.html">Pipeline Scheduling</a></li>
          <li class="level3"><a href="../../configuration/dev_choose_when_stage_runs.html">Choose When a Stage Runs</a></li>
          <li class="level3"><a href="../../configuration/admin_timer.html">Timer Trigger</a></li>
          <li class="level3"><a href="../../configuration/admin_lock_pipelines.html">Lock a Pipeline</a></li>
          <li class="level3"><a href="../../configuration/job_timeout.html">Job Timeout</a></li>
          <li class="level3"><a href="../../configuration/deleting_pipelines.html">Deleting Pipelines</a></li>
          <li class="level3"><a href="../../configuration/managing_dependencies.html">Managing Dependencies</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../configuration/managing_a_build_cloud.html">Managing Agents</a>
        <ul>
          <li class="level3"><a href="../../configuration/elastic_agents.html">Elastic Agents</a></li>
          <li class="level3"><a href="../../configuration/clone_existing_agents.html">Clone/Copy Existing Agents</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../configuration/managing_environments.html">Managing Environments</a></li>
      <li class="level2"><a href="../../configuration/managing_users.html">Managing Users</a>
        <ul>
          <li class="level3"><a href="../../configuration/dev_authentication.html">Authentication</a></li>
          <li class="level3"><a href="../../configuration/access_tokens.html">Access Tokens</a></li>
          <li class="level3"><a href="../../configuration/dev_authorization.html">Authorizing Users</a></li>
          <li class="level3"><a href="../../configuration/delegating_group_administration.html">Delegating Group Administration</a></li>
          <li class="level3"><a href="../../configuration/pipeline_group_admin_config.html">Pipeline Group Administration</a></li>
          <li class="level3"><a href="../../configuration/policy_in_gocd.html">Policy in GoCD</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../configuration/secrets_management.html">Secrets Management</a>
      </li>
      <li class="level2">Artifacts
        <ul>
          <li class="level3"><a href="../../configuration/dev_upload_test_report.html">Publish Reports and Artifacts</a></li>
          <li class="level3"><a href="../../configuration/managing_artifacts_and_reports.html">Managing Artifacts and Reports</a></li>
          <li class="level3"><a href="../../configuration/delete_artifacts.html">Auto Delete Artifacts</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../../configuration/admin_mailhost_info.html">Email server configuration</a></li>
      <li class="level2"><a href="../../configuration/dev_notifications.html">Notifications</a></li>
      <li class="level2"><a href="../../configuration/configuration_reference.html">Reference</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../../images/arrow.png"/>
    </figure>

    <a href="#"><b>Advanced Usage</b></a>
    <ul>
      <li class="level2"><a href="../../advanced_usage/pipelines_as_code.html">Pipelines as code</a></li>
      <li class="level2"><a href="../../advanced_usage/agent_auto_register.html">Auto Register a Remote Agent</a></li>
      <li class="level2"><a href="../../advanced_usage/admin_spawn_multiple_jobs.html">Spawn multiple instances of a Job</a></li>
      <li class="level2"><a href="../../advanced_usage/admin_install_multiple_agents.html">Multiple Agents on One Machine</a></li>
      <li class="level2"><a href="../../advanced_usage/dev_clean_up_when_cancel.html">Clean on Task Cancel</a></li>
      <li class="level2"><a href="../../advanced_usage/dev_conditional_task_execution.html">Conditional Task Execution</a></li>
      <li class="level2"><a href="../../advanced_usage/trigger_with_options.html">Trigger With Options</a></li>
      <li class="level2"><a href="../../advanced_usage/fan_in.html">Fan In</a></li>
      <li class="level2"><a href="../../advanced_usage/logging.html">Logging</a></li>
      <li class="level2"><a href="../../advanced_usage/ui_testing.html">UI Testing</a></li>
      <li class="level2"><a href="../../advanced_usage/compare_pipelines.html">Compare Builds</a></li>
      <li class="level2"><a href="../../advanced_usage/stage_duration_chart.html">Graphs</a></li>
      <li class="level2"><a href="../../advanced_usage/one_click_backup.html">Backup GoCD Server</a></li>
      <li class="level2"><a href="../../advanced_usage/cron_backup.html">Timer Based GoCD Server Backup</a></li>
      <li class="level2"><a href="../../advanced_usage/config_repo.html">Config Repository</a></li>
      <li class="level2"><a href="../../advanced_usage/other_config_options.html">Other Config Options</a></li>
      <li class="level2"><a href="../../advanced_usage/agent-health-check-api.html">Agent Health Check API</a></li>
      <li class="level2"><a href="../../advanced_usage/maintenance_mode.html">Maintenance Mode</a></li>
      <li class="level2"><a href="../../advanced_usage/pipeline_activity.html">Pipeline activity</a></li>
      <li class="level2"><a href="../../integration/">Integrating GoCD With Other Tools</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../../images/arrow.png"/>
    </figure>

    <a href="#"><b>GoCD on Kubernetes</b></a>
    <ul>
      <li class="level2"><a href="../../gocd_on_kubernetes/introduction.html">Introduction</a></li>
      <li class="level2"><a href="../../gocd_on_kubernetes/setup_and_configuration.html">Setup and configuration</a></li>
      <li class="level2"><a href="../../gocd_on_kubernetes/helm_install.html">Install the GoCD Helm chart</a></li>
      <li class="level2"><a href="../../gocd_on_kubernetes/importing_a_sample_workflow.html">Importing a sample workflow</a></li>
      <li class="level2"><a href="../../gocd_on_kubernetes/sample_pipelines_explained.html">An explanation of the sample pipelines</a></li>
      <li class="level2"><a href="../../gocd_on_kubernetes/docker_workflows.html">Docker workflows</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../../images/arrow.png"/>
    </figure>

    <a href="#"><b>Plugins in GoCD</b></a>
    <ul>
      <li class="level2"><a href="../../extension_points/">Available extension points</a></li>
      <li class="level2"><a href="../../extension_points/plugin_user_guide.html">Plugin User Guide</a></li>
      <li class="level2"><a href="../../extension_points/package_repository_extension.html">Package Repository Extension</a></li>
      <li class="level2"><a href="../../extension_points/yum_repository_poller.html">Yum Repository Poller</a></li>
      <li class="level2"><a href="../../extension_points/scm_extension.html">SCM Extension</a></li>
      <li class="level2"><a href="../../extension_points/task_extension.html">Task Extension</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../../images/arrow.png"/>
    </figure>

    <a href="#"><b>FAQ/Troubleshooting</b></a>
    <ul>
      <li class="level2"><a href="../../faq/fixing_common_issues.html">Fixing common issues</a></li>
      <li class="level2"><a href="../../faq/artifact_integrity.html">Artifact integrity verification</a></li>
      <li class="level2"><a href="../../faq/rm_what_is_deployed.html">Check What's Deployed</a></li>
      <li class="level2"><a href="../../faq/concurrent_config_modifications.html">Concurrent Modifications to Config</a></li>
      <li class="level2"><a href="../../faq/docker_container_ssh_keys.html">Configure SSH Keys for dockerized GoCD</a></li>
      <li class="level2"><a href="../../faq/deploy_a_specific_build_to_an_environment.html">Deploy a Specific Build</a></li>
      <li class="level2"><a href="../../faq/rm_deploy_to_environment.html">Deploy to an environment</a></li>
      <li class="level2"><a href="../../faq/material_update_hung.html">GoCD unable to poll for changes</a></li>
      <li class="level2"><a href="../../faq/stage_old_config.html">Historical Configuration</a></li>
      <li class="level2"><a href="../../faq/job_rerun.html">How do I re-run jobs?</a></li>
      <li class="level2"><a href="../../faq/ordering_of_pipelines.html">Ordering of Pipelines</a></li>
      <li class="level2"><a href="../../faq/dependency_management.html">Run Tests against new Builds</a></li>
      <li class="level2"><a href="../../faq/admin_out_of_disk_space.html">Running out of Disk Space</a></li>
      <li class="level2"><a href="../../faq/dev_see_artifact_as_tab.html">See artifacts as sub-tabs</a></li>
      <li class="level2"><a href="../../faq/tester_what_has_changed.html">See changes in new binary</a></li>
      <li class="level2"><a href="../../faq/dev_use_current_revision_in_build.html">Using Environment variables</a></li>
      <li class="level2"><a href="../../faq/dev_understand_why_build_broken.html">Why the Build is Broken?</a></li>
    </ul>
  </li>
</ul>




</nav>
    </aside>

    
    <div class="navigation-bar">
    <a href="#" class="navigation navigation-prev">
        <i class="fa fa-angle-left"></i> &lt; Previous Page
    </a>

    <a href="#" class="navigation navigation-next">
        <i class="fa fa-angle-right"></i> Next Page &gt;
    </a>
</div>

    <div class="book-page ">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="../../svg/menu.svg" />
  </label>
  <strong>Enabling GoCD to use MySQL Database</strong>
</header>

      
<div class="has-results">
    <h1 id="searchResultTitle" class="search-results-title hide"></h1>
    <ul id="results"></ul>
</div>
<div class="no-results hide">
    Your query search resulted in no results.
</div>

      
<article class="markdown"><h1 id="enabling-gocd-to-use-mysql">Enabling GoCD to use MySQL</h1>
<blockquote>
<p><strong>Note</strong>: Support for MySQL was added in GoCD <code>20.5.0</code> and while a basic round of migration tests was completed, the functional test suite does not regularly run against MySQL as a part of the build pipeline. This is something to be aware of if moving to MySQL. H2 and PostgreSQL are tested thoroughly as a part of GoCD&rsquo;s build pipelines.</p>
</blockquote>
<h3 id="step-1-install-mysql-server">Step 1: Install MySQL Server</h3>
<p>In order to use MySQL database with GoCD, an external MySQL database server is needed to host the GoCD Server&rsquo;s database.
Refer <a href="https://dev.mysql.com/doc/mysql-installation-excerpt/8.0/en/">MySQL Installation</a> documentation to install the latest MySQL Database Server based on your environment. GoCD supports MySQL version 8.0.</p>
<p><strong>Note</strong>: GoCD needs support for case-insensitive identifiers and on Unix systems at least this needs to be done <em>before</em> MySQL is installed! These pages from the MySQL documentation might be useful:</p>
<ul>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/identifier-case-sensitivity.html">MySQL case-sensitive identifiers</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_lower_case_table_names">The <code>lower_case_table_names</code> variable</a></li>
</ul>
<h3 id="step-2-create-an-empty-database">Step 2: Create an empty database</h3>
<p>Once the MySQL Server is started, an empty database can be created from the command-line using the <code>mysql</code> or <code>mysqladmin</code> utilities, which MySQL ships with.
Refer <a href="https://dev.mysql.com/doc/refman/8.0/en/create-database.html">create database</a> documentation to setup database.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">CREATE</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">DATABASE</span><span style="color:#bbb"> </span>gocd;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">CREATE</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">USER</span><span style="color:#bbb"> </span><span style="color:#b44">&#39;gocd_user&#39;</span><span style="color:#666">@</span><span style="color:#b44">&#39;localhost&#39;</span><span style="color:#bbb"> </span>IDENTIFIED<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">BY</span><span style="color:#bbb"> </span><span style="color:#b44">&#39;password&#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">GRANT</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">ALL</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">ON</span><span style="color:#bbb"> </span>gocd.<span style="color:#666">*</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">TO</span><span style="color:#bbb"> </span><span style="color:#b44">&#39;gocd_user&#39;</span><span style="color:#666">@</span><span style="color:#b44">&#39;localhost&#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">GRANT</span><span style="color:#bbb"> </span>SUPER<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">ON</span><span style="color:#bbb"> </span><span style="color:#666">*</span>.<span style="color:#666">*</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">TO</span><span style="color:#bbb"> </span><span style="color:#b44">&#39;gocd_user&#39;</span><span style="color:#666">@</span><span style="color:#b44">&#39;localhost&#39;</span>;<span style="color:#bbb">
</span></span></span></code></pre></div><p><strong>Note</strong>: You need to add the <code>SUPER</code> privilege for the first time, since there is a trigger created. MySQL doesn&rsquo;t allow that trigger to be created without the SUPER privilege and will fail with <a href="https://dev.mysql.com/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_binlog_create_routine_need_super">error 1419</a> if it is not provided. This privilege can be revoked after the first startup.</p>
<h3 id="step-3-configure-gocd-with-mysql-connection-details">Step 3: Configure GoCD with MySQL connection details</h3>
<p>A properties file with the name <code>db.properties</code> needs to be created in the GoCD&rsquo;s configuration directory (<code>config/</code>).
The location of GoCD&rsquo;s configuration directory varies per operating system. Refer <a href="../installing_go_server.html">GoCD server installation docs</a> to know the location of GoCD Server config directory.</p>
<p>This file should contain information about the database server, so that the GoCD Server can connect to it.</p>
<p>See <a href="connection-properties.html">GoCD Database Configuration Properties</a> to know the full list of configuration properties that can be specified under <code>db.properties</code>.</p>
<p>An example properties file to connect to MySQL database:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#b44">db.driver</span><span style="color:#666">=</span><span style="color:#b44">com.mysql.cj.jdbc.Driver</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">db.url</span><span style="color:#666">=</span><span style="color:#b44">jdbc:mysql://localhost:3306/gocd</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">db.user</span><span style="color:#666">=</span><span style="color:#b44">gocd_user</span>
</span></span><span style="display:flex;"><span><span style="color:#b44">db.password</span><span style="color:#666">=</span><span style="color:#b44">password</span>
</span></span></code></pre></div><h3 id="step-4-start-the-gocd-server">Step 4: Start the GoCD Server</h3>
<p>See <a href="https://docs.gocd.org/current/installation/installing_go_server.html">Managing the GoCD server process</a> to start your GoCD Server.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h4 id="mysql-identifier-case-senitivity">MySQL: Identifier case senitivity</h4>
<p>You might see a message such as this in the GoCD server logs, if you are using MySQL:</p>
<pre tabindex="0"><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.commons.dbcp2.BasicDataSource]: Factory method &#39;getDataSource&#39; threw exception; nested exception is java.sql.SQLException: Unable to migrate the database
        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)
        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)
        ... 73 common frames omitted
Caused by: java.sql.SQLException: Unable to migrate the database
        at com.thoughtworks.go.server.database.migration.DatabaseMigrator.migrate(DatabaseMigrator.java:68)
        at com.thoughtworks.go.server.database.Database.getDataSource(Database.java:63)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.base/java.lang.reflect.Method.invoke(Unknown Source)
        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)
        ... 74 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db-migration-scripts/initial/create-trigger.xml::107::gocd(generated):
     Reason: liquibase.exception.DatabaseException: Table &#39;gocd.buildStateTransitions&#39; doesn&#39;t exist [Failed SQL: (1146) CREATE TRIGGER lastTransitionedTimeUpdate
                AFTER INSERT ON buildStateTransitions
                FOR EACH ROW
                BEGIN
                    UPDATE stages SET lastTransitionedTime = NEW.statechangetime WHERE stages.id = NEW.stageid;
                END]
        at liquibase.changelog.ChangeSet.execute(ChangeSet.java:646)
        at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:53)
        at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:83)
        at liquibase.Liquibase.update(Liquibase.java:202)
        at liquibase.Liquibase.update(Liquibase.java:179)
        at liquibase.Liquibase.update(Liquibase.java:175)
        at com.thoughtworks.go.server.database.migration.DatabaseMigrator.migrate(DatabaseMigrator.java:54)
        ... 80 common frames omitted
Caused by: liquibase.exception.DatabaseException: Table &#39;gocd.buildStateTransitions&#39; doesn&#39;t exist [Failed SQL: (1146) CREATE TRIGGER lastTransitionedTimeUpdate
                AFTER INSERT ON buildStateTransitions
                FOR EACH ROW
                BEGIN
                    UPDATE stages SET lastTransitionedTime = NEW.statechangetime WHERE stages.id = NEW.stageid;
                END]
        at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:402)
        at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:59)
        at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:131)
        at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1276)
        at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1258)
        at liquibase.changelog.ChangeSet.execute(ChangeSet.java:609)
        ... 86 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Table &#39;gocd.buildStateTransitions&#39; doesn&#39;t exist
        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
        at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
        at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
        at org.apache.commons.dbcp2.DelegatingStatement.execute(DelegatingStatement.java:194)
        at org.apache.commons.dbcp2.DelegatingStatement.execute(DelegatingStatement.java:194)
        at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:398)
        ... 91 common frames omitted
</code></pre><p>If you see this, the most probable cause is that your MySQL instance has <a href="https://dev.mysql.com/doc/refman/8.0/en/identifier-case-sensitivity.html">case-sensitive identifiers</a> turned on. GoCD needs case-insensitive identifiers and you will need to change your MySQL instance to enable that. Please note that, according to the documentation, it is not possible to <a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_lower_case_table_names">change the <code>lower_case_table_names</code> variable</a> once the MySQL instance is initialized. You might need to recreate the instance.</p>

</article>

      
<div class="align-center book-git-footer justify-between">
  

  
  <div>
    <a href="#" class="navigation navigation-prev">
      <i class="fa fa-angle-left"></i> &lt; Previous Page
    </a>
  </div>
  

  
  <div>
    <a id="suggest-edits" href="https://github.com/gocd/docs.go.cd/edit/master/content/installation/configuring_database/mysql.md" target="_blank" rel="noopener">
      <img src="../../svg/code-fork.svg" /> Suggest edits to this page
    </a>
  </div>
  

  
  <div>
    <a href="#" class="navigation navigation-next">
      <i class="fa fa-angle-right"></i> Next Page &gt;
    </a>
  </div>
  

</div>


    </div>

    

  
  <aside class="book-toc fixed">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#step-1-install-mysql-server">Step 1: Install MySQL Server</a></li>
        <li><a href="#step-2-create-an-empty-database">Step 2: Create an empty database</a></li>
        <li><a href="#step-3-configure-gocd-with-mysql-connection-details">Step 3: Configure GoCD with MySQL connection details</a></li>
        <li><a href="#step-4-start-the-gocd-server">Step 4: Start the GoCD Server</a></li>
      </ul>
    </li>
    <li><a href="#troubleshooting">Troubleshooting</a></li>
  </ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
