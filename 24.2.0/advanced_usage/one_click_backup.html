<!DOCTYPE html>



<html>

<head>
  <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Backup GoCD Server | GoCD User Documentation</title>

<meta name="description" content="Use GoCD&#39;s administration interface or API to backup and restore GoCD server"/>
<meta name="keywords" content="[GoCD server, GoCD backup, administration interface, backup API]"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="canonical" href="https://docs.gocd.org/current/advanced_usage/one_click_backup.html"/>
<script src="../javascripts/vendor/jquery-3.6.4.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="../javascripts/vendor/lunr-2.3.9.min.js"></script>

<script type="text/javascript" src="../javascripts/search/search.js"></script>
<script type="text/javascript" src="../javascripts/navigation/navigation.js"></script>
<script src="../javascripts/_common-to-all-pages.js" type="text/javascript"></script>

<link href="../images/favicon.ico" rel="shortcut icon">

<link rel="stylesheet" href="../stylesheets/normalize.min.css"/>
<link rel="stylesheet" href="../stylesheets/website.css"/>

<link rel="stylesheet" href="../stylesheets/book.min.ac5a65903b18d3093416406608606b21fbe03e953e39276b6a84377495f3a79e.css"/>

  
</head>

<body data-rel-permalink="/advanced_usage/one_click_backup.html">
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="main-container">

    <aside class="book-menu fixed">
      <nav role="navigation">
<a href="https://www.gocd.org"> <img src="../svg/product_ui_logo_go.svg" class="icon" /></a>


    



<script>
    (function() {
        var menu = document.querySelector('aside.book-menu nav')
        addEventListener('beforeunload', function(event) {
            localStorage.setItem('menu.scrollTop', menu.scrollTop)
        });
    })();
    function loadFunction(){
        var menu = document.querySelector('aside.book-menu nav')
        var top = parseInt(localStorage.getItem('menu.scrollTop'));
        $(menu).animate({
            scrollTop: top
        }, 10)
    }
    $(document).ready = loadFunction();
</script>


<style>
  nav ul a[href$="\2f advanced_usage\2fone_click_backup.html"] {
  color: #004ed0;
  }
</style>

<div class="search-input-container">
  <input id="search" type="text" placeholder="Type to search">
</div>
<ul>
  <li class="level1">
    <a href="https://www.gocd.org/"><b>Go to GoCD.org</b></a>
  </li>
</ul>
<hr>
<ul>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Welcome</b></a>
    <ul>
      <li class="level2"><a href="../">Introduction</a></li>
      <li class="level2"><a href="../introduction/concepts_in_go.html">Concepts in GoCD</a></li>
      <li class="level2"><a href="../navigation/value_stream_map.html">Value Stream Map</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Installation</b></a>
    <ul>
      <li class="level2"><a href="../installation/">Installing GoCD</a></li>
      <li class="level2"><a href="../installation/system_requirements.html">System requirements</a></li>
      <li class="level2"><a href="../installation/installing_go_server.html">Installing GoCD Server</a>
        <ul>
          <li class="level3"><a href="../installation/install/server/linux.html">Linux</a></li>
          <li class="level3"><a href="../installation/install/server/windows.html">Windows</a></li>
          <li class="level3"><a href="../installation/install/server/osx.html">MacOS</a></li>
          <li class="level3"><a href="../installation/install/server/zip.html">Generic Zip</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/installing_go_agent.html">Installing GoCD Agent</a>
        <ul>
          <li class="level3"><a href="../installation/install/agent/linux.html">Linux</a></li>
          <li class="level3"><a href="../installation/install/agent/windows.html">Windows</a></li>
          <li class="level3"><a href="../installation/install/agent/osx.html">MacOS</a></li>
          <li class="level3"><a href="../installation/install/agent/zip.html">Generic Zip</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/configuring_database.html">Configuring GoCD Database</a></li>
        <ul>
          <li class="level3"><a href="../installation/configuring_database/h2.html">H2</a></li>
          <li class="level3"><a href="../installation/configuring_database/postgres.html">PostgreSQL</a></li>
          <li class="level3"><a href="../installation/configuring_database/mysql.html">MySQL</a></li>
          <li class="level3"><a href="../installation/configuring_database/connection-properties.html">Database Connection Properties</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/upgrading_go.html">Upgrading GoCD</a></li>
      <ul>
        <li class="level3"><a href="../installation/upgrading_go/upgrade_to_gocd_20.5.0.html">Upgrading to GoCD 20.5.0 and higher</a></li>
      </ul>
      <li class="level2"><a href="../installation/configuring_server_details.html">Configuring Server Details</a></li>
      <li class="level2"><a href="../installation/configure-reverse-proxy.html">Configure a Reverse Proxy</a></li>
      <li class="level2"><a href="../installation/configure-agent-proxy.html">Configure an agent with proxy</a></li>
      <li class="level2"><a href="../installation/ssl_tls_config.html">Configuring SSL/TLS</a>
        <ul>
          <li class="level3"><a href="../installation/ssl_tls/end_to_end_transport_security.html">End to end transport security</a></li>
          <li class="level3"><a href="../installation/ssl_tls/configuring_hsts_header.html">Configuring HSTS Header</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/performance_tuning.html">Performance Tuning</a></li>
      <li class="level2"><a href="../installation/hardware_specifications.html">Hardware Specifications</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Configuration</b></a>
    <ul>
      <li class="level2"><a href="../configuration/pipelines.html">Pipelines</a>
        <ul>
          <li class="level3"><a href="../configuration/quick_pipeline_setup.html">Add a New Pipeline</a></li>
          <li class="level3"><a href="../configuration/admin_add_material.html">Add Material to Existing Pipeline</a></li>
          <li class="level3"><a href="../configuration/admin_add_stage.html">Add Stage to Existing Pipeline</a></li>
          <li class="level3"><a href="../configuration/admin_add_job.html">Add Job to Existing Stage</a></li>
          <li class="level3"><a href="../configuration/admin_add_task.html">Add Task to Existing Job</a></li>
          <li class="level3"><a href="../configuration/pipeline_templates.html">Pipeline Templates</a></li>
          <li class="level3"><a href="../configuration/admin_use_parameters_in_configuration.html">Using parameters in Pipelines and Templates</a></li>
          <li class="level3"><a href="../configuration/pipeline_labeling.html">Pipeline Labeling</a></li>
          <li class="level3"><a href="../configuration/pipeline_scheduling.html">Pipeline Scheduling</a></li>
          <li class="level3"><a href="../configuration/dev_choose_when_stage_runs.html">Choose When a Stage Runs</a></li>
          <li class="level3"><a href="../configuration/admin_timer.html">Timer Trigger</a></li>
          <li class="level3"><a href="../configuration/admin_lock_pipelines.html">Lock a Pipeline</a></li>
          <li class="level3"><a href="../configuration/job_timeout.html">Job Timeout</a></li>
          <li class="level3"><a href="../configuration/deleting_pipelines.html">Deleting Pipelines</a></li>
          <li class="level3"><a href="../configuration/managing_dependencies.html">Managing Dependencies</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/managing_a_build_cloud.html">Managing Agents</a>
        <ul>
          <li class="level3"><a href="../configuration/elastic_agents.html">Elastic Agents</a></li>
          <li class="level3"><a href="../configuration/clone_existing_agents.html">Clone/Copy Existing Agents</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/managing_environments.html">Managing Environments</a></li>
      <li class="level2"><a href="../configuration/managing_users.html">Managing Users</a>
        <ul>
          <li class="level3"><a href="../configuration/dev_authentication.html">Authentication</a></li>
          <li class="level3"><a href="../configuration/access_tokens.html">Access Tokens</a></li>
          <li class="level3"><a href="../configuration/dev_authorization.html">Authorizing Users</a></li>
          <li class="level3"><a href="../configuration/delegating_group_administration.html">Delegating Group Administration</a></li>
          <li class="level3"><a href="../configuration/pipeline_group_admin_config.html">Pipeline Group Administration</a></li>
          <li class="level3"><a href="../configuration/policy_in_gocd.html">Policy in GoCD</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/secrets_management.html">Secrets Management</a>
      </li>
      <li class="level2">Artifacts
        <ul>
          <li class="level3"><a href="../configuration/dev_upload_test_report.html">Publish Reports and Artifacts</a></li>
          <li class="level3"><a href="../configuration/managing_artifacts_and_reports.html">Managing Artifacts and Reports</a></li>
          <li class="level3"><a href="../configuration/delete_artifacts.html">Auto Delete Artifacts</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/admin_mailhost_info.html">Email server configuration</a></li>
      <li class="level2"><a href="../configuration/dev_notifications.html">Notifications</a></li>
      <li class="level2"><a href="../configuration/configuration_reference.html">Reference</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Advanced Usage</b></a>
    <ul>
      <li class="level2"><a href="../advanced_usage/pipelines_as_code.html">Pipelines as code</a></li>
      <li class="level2"><a href="../advanced_usage/agent_auto_register.html">Auto Register a Remote Agent</a></li>
      <li class="level2"><a href="../advanced_usage/admin_spawn_multiple_jobs.html">Spawn multiple instances of a Job</a></li>
      <li class="level2"><a href="../advanced_usage/admin_install_multiple_agents.html">Multiple Agents on One Machine</a></li>
      <li class="level2"><a href="../advanced_usage/dev_clean_up_when_cancel.html">Clean on Task Cancel</a></li>
      <li class="level2"><a href="../advanced_usage/dev_conditional_task_execution.html">Conditional Task Execution</a></li>
      <li class="level2"><a href="../advanced_usage/trigger_with_options.html">Trigger With Options</a></li>
      <li class="level2"><a href="../advanced_usage/fan_in.html">Fan In</a></li>
      <li class="level2"><a href="../advanced_usage/logging.html">Logging</a></li>
      <li class="level2"><a href="../advanced_usage/ui_testing.html">UI Testing</a></li>
      <li class="level2"><a href="../advanced_usage/compare_pipelines.html">Compare Builds</a></li>
      <li class="level2"><a href="../advanced_usage/stage_duration_chart.html">Graphs</a></li>
      <li class="level2"><a href="../advanced_usage/one_click_backup.html">Backup GoCD Server</a></li>
      <li class="level2"><a href="../advanced_usage/cron_backup.html">Timer Based GoCD Server Backup</a></li>
      <li class="level2"><a href="../advanced_usage/config_repo.html">Config Repository</a></li>
      <li class="level2"><a href="../advanced_usage/other_config_options.html">Other Config Options</a></li>
      <li class="level2"><a href="../advanced_usage/agent-health-check-api.html">Agent Health Check API</a></li>
      <li class="level2"><a href="../advanced_usage/maintenance_mode.html">Maintenance Mode</a></li>
      <li class="level2"><a href="../advanced_usage/pipeline_activity.html">Pipeline activity</a></li>
      <li class="level2"><a href="../integration/">Integrating GoCD With Other Tools</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>GoCD on Kubernetes</b></a>
    <ul>
      <li class="level2"><a href="../gocd_on_kubernetes/introduction.html">Introduction</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/setup_and_configuration.html">Setup and configuration</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/helm_install.html">Install the GoCD Helm chart</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/importing_a_sample_workflow.html">Importing a sample workflow</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/sample_pipelines_explained.html">An explanation of the sample pipelines</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/docker_workflows.html">Docker workflows</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Plugins in GoCD</b></a>
    <ul>
      <li class="level2"><a href="../extension_points/">Available extension points</a></li>
      <li class="level2"><a href="../extension_points/plugin_user_guide.html">Plugin User Guide</a></li>
      <li class="level2"><a href="../extension_points/package_repository_extension.html">Package Repository Extension</a></li>
      <li class="level2"><a href="../extension_points/yum_repository_poller.html">Yum Repository Poller</a></li>
      <li class="level2"><a href="../extension_points/scm_extension.html">SCM Extension</a></li>
      <li class="level2"><a href="../extension_points/task_extension.html">Task Extension</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>FAQ/Troubleshooting</b></a>
    <ul>
      <li class="level2"><a href="../faq/fixing_common_issues.html">Fixing common issues</a></li>
      <li class="level2"><a href="../faq/artifact_integrity.html">Artifact integrity verification</a></li>
      <li class="level2"><a href="../faq/rm_what_is_deployed.html">Check What's Deployed</a></li>
      <li class="level2"><a href="../faq/concurrent_config_modifications.html">Concurrent Modifications to Config</a></li>
      <li class="level2"><a href="../faq/docker_container_ssh_keys.html">Configure SSH Keys for dockerized GoCD</a></li>
      <li class="level2"><a href="../faq/deploy_a_specific_build_to_an_environment.html">Deploy a Specific Build</a></li>
      <li class="level2"><a href="../faq/rm_deploy_to_environment.html">Deploy to an environment</a></li>
      <li class="level2"><a href="../faq/material_update_hung.html">GoCD unable to poll for changes</a></li>
      <li class="level2"><a href="../faq/stage_old_config.html">Historical Configuration</a></li>
      <li class="level2"><a href="../faq/job_rerun.html">How do I re-run jobs?</a></li>
      <li class="level2"><a href="../faq/ordering_of_pipelines.html">Ordering of Pipelines</a></li>
      <li class="level2"><a href="../faq/dependency_management.html">Run Tests against new Builds</a></li>
      <li class="level2"><a href="../faq/admin_out_of_disk_space.html">Running out of Disk Space</a></li>
      <li class="level2"><a href="../faq/dev_see_artifact_as_tab.html">See artifacts as sub-tabs</a></li>
      <li class="level2"><a href="../faq/tester_what_has_changed.html">See changes in new binary</a></li>
      <li class="level2"><a href="../faq/dev_use_current_revision_in_build.html">Using Environment variables</a></li>
      <li class="level2"><a href="../faq/dev_understand_why_build_broken.html">Why the Build is Broken?</a></li>
    </ul>
  </li>
</ul>




</nav>
    </aside>

    
    <div class="navigation-bar">
    <a href="#" class="navigation navigation-prev">
        <i class="fa fa-angle-left"></i> &lt; Previous Page
    </a>

    <a href="#" class="navigation navigation-next">
        <i class="fa fa-angle-right"></i> Next Page &gt;
    </a>
</div>

    <div class="book-page ">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="../svg/menu.svg" />
  </label>
  <strong>Backup GoCD Server</strong>
</header>

      
<div class="has-results">
    <h1 id="searchResultTitle" class="search-results-title hide"></h1>
    <ul id="results"></ul>
</div>
<div class="no-results hide">
    Your query search resulted in no results.
</div>

      
<article class="markdown"><h1 id="backup-gocd-server">Backup GoCD Server</h1>
<p>You can use GoCD&rsquo;s administration interface to perform an One-Click Backup of GoCD. You can also perform a backup <a href="https://api.gocd.org/current/#backups">using the API</a>.</p>
<h2 id="steps-to-initiate-backup">Steps to initiate backup</h2>
<ul>
<li>
<p>After you are logged into GoCD, click on the <em>Admin &gt; Backup</em> link, and click the <em>Perform Backup</em> button.</p>
<blockquote>
<p><strong>Note:</strong> GoCD will be unusable during the backup process.</p>
</blockquote>
</li>
<li>
<p>Backup time is proportional to the database and configuration size. We suggest you backup GoCD when the GoCD Server is idle. Users who are logged into the GoCD Dashboard will be redirected to a maintenance page during the backup. On completion of the backup they will be redirected to the page they were on.</p>
</li>
</ul>
<h3 id="what-is-backed-up">What is backed up?</h3>
<p>The backup will be performed into the <code>${ARTIFACT_REPOSITORY_LOCATION}/serverBackups</code> directory. <code>${ARTIFACT_REPOSITORY_LOCATION}</code> for your server can be found as mentioned <a href="../installation/configuring_server_details.html#artifact-repository-configuration">here</a>.</p>
<p>The backup directory will be named <code>backup_{TIMESTAMP}</code> where the <code>${TIMESTAMP}</code> is the time when the backup was initiated.</p>
<ul>
<li>
<p>Database - This depends on the kind of database being used:</p>
<ul>
<li>
<p>If you&rsquo;re using H2: This is in a zip called <code>db.zip</code>. The zip has a single DB file called <code>cruise.mv.db</code>.</p>
</li>
<li>
<p>If you&rsquo;re using PostgreSQL:</p>
<ul>
<li>The database backup is a single file called <code>db.DATABASE_NAME</code>, where <code>DATABASE_NAME</code> is the name of the database. For instance, it could be called: <code>db.gocd</code>.</li>
<li>See <a href="https://www.postgresql.org/docs/current/backup.html">PostgreSQL documentation</a> regarding backup and restoration.</li>
<li>Note that the configured <a href="../installation/configuring_database/connection-properties.html#gocd-database-extra-backup-command-arguments">PostgreSQL database connection properties</a> can affect the output and contents of the backup.</li>
</ul>
</li>
<li>
<p>If you&rsquo;re using MySQL:</p>
<ul>
<li>The database backup is a single file called <code>db.DATABASE_NAME</code>, where <code>DATABASE_NAME</code> is the name of the database. For instance, it could be called: <code>db.gocd</code>.</li>
<li>See <a href="https://dev.mysql.com/doc/refman/8.0/en/using-mysqldump.html">MySQL documentation</a> regarding backup and restore.</li>
<li>Note that the configured <a href="../installation/configuring_database/connection-properties.html#gocd-database-extra-backup-command-arguments">MySQL database connection properties</a> can affect the output and contents of the backup.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Configuration - This is in a zip called <code>config-dir.zip</code>. This zip contains the XML configuration, Jetty server configuration, Keystores and all other GoCD&rsquo;s internal configurations.</p>
</li>
<li>
<p>Wrapper Configuration - This is in a zip called <code>wrapper-config-dir.zip</code>. This zip contains configuration files for startup properties for the server.</p>
</li>
<li>
<p>XML Configuration Version Repo - This is in a zip called <code>config-repo.zip</code>. This zip contains the Git repository of the XML configuration file.</p>
</li>
<li>
<p>GoCD version - This is a file called <code>version.txt</code>. This file contains the version of the GoCD server when the backup was initiated</p>
</li>
</ul>
<h3 id="what-is-not-backed-up">What is not backed up?</h3>
<p>The following are not backed up as a part of the GoCD backup process. Please ensure that these are manually backed up regularly.</p>
<ul>
<li>Artifacts - Please refer to <a href="../faq/admin_out_of_disk_space.html#move-the-artifact-repository-to-a-new-larger-drive">this section</a> to find out how to deal with artifacts</li>
<li>Log Files</li>
<li>Plugins - These are found at <code>${SERVER_INSTALLATION_DIR}/plugins/</code>. This contains both the external and bundled plugins.</li>
<li>Addons - These are found at <code>${SERVER_INSTALLATION_DIR}/addons/</code>. This contains installed addons.</li>
</ul>
<h4 id="strategy-to-backup-artifacts-and-test-reporting-data">Strategy to backup Artifacts and Test Reporting Data</h4>
<p>Artifacts and the Test Reporting Data keep getting new files and directories added to them. So, it is a good idea to use <code>rsync</code> to copy the contents of these two into a backup location.</p>
<p><em>For Instance:</em> Lets say you have a copy of all the files till 12-02-2012 in a location. On 20-02-2012, you can do something like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>rsync -avzP <span style="color:#b68;font-weight:bold">${</span><span style="color:#b8860b">ARTIFACT_LOCATION</span><span style="color:#b68;font-weight:bold">}</span> <span style="color:#b68;font-weight:bold">${</span><span style="color:#b8860b">BACKUP_LOCATION</span><span style="color:#b68;font-weight:bold">}</span>
</span></span></code></pre></div><p>This makes sure that only the files and directories that got newly added will be synced to the <code>${BACKUP_LOCATION}</code> and not the entire contents.</p>
<h3 id="restoring-gocd-using-backup">Restoring GoCD using backup</h3>
<p>The restoration process is not automated and needs to be done manually. Please refer to the previous sections about the contents of the backup.</p>
<h4 id="steps-to-restore">Steps to restore</h4>
<ul>
<li>
<p>In order to restore the GoCD server from a backup, the server must first be stopped. Make sure the process is completely dead before starting the restoration.</p>
</li>
<li>
<p>Choose the backup directory that you want to restore from.</p>
<blockquote>
<p><strong>Note:</strong> Please ensure that you are not restoring a GoCD backup onto a GoCD version that is older than the one that was used to perform the backup.</p>
</blockquote>
<blockquote>
<p><em>For example:</em> A backup using GoCD version 19.3 cannot be restored onto GoCD version 19.2. See the file <code>version.txt</code> in the backup directory to know the version of GoCD that was used to perform the backup</p>
</blockquote>
</li>
<li>
<p>Database - This depends on the kind of database being used:</p>
<ul>
<li>
<p>If you&rsquo;re using H2: Unzip <code>db.zip</code> and copy the file <code>cruise.mv.db</code> found inside it to the directory <code>${SERVER_INSTALLATION_DIR}/db/h2db</code>.</p>
</li>
<li>
<p>If you&rsquo;re using PostgreSQL: Use <code>psql</code> to restore using the database backup file (for instance <code>db.gocd</code>). This depends on how you connect to the database. Example:</p>
<pre><code>psql -d my_new_db -h my.db.host.com --password &lt;db.gocd
</code></pre>
<p>See <a href="https://www.postgresql.org/docs/current/backup.html">PostgreSQL documentation</a> regarding backup and restoration.</p>
</li>
<li>
<p>If you&rsquo;re using MySQL: Use <code>mysql</code> to restore using the database backup file (for instance <code>db.gocd</code>). This depends on how you connect to the database. Example:</p>
<pre><code>mysql -D my_new_db -h my.db.host.com -u root -p &lt;db.gocd
</code></pre>
<p>See <a href="https://dev.mysql.com/doc/refman/8.0/en/using-mysqldump.html">MySQL documentation</a> regarding backup and restore.</p>
</li>
</ul>
</li>
<li>
<p>Configuration - Unzip the <code>config-dir.zip</code> into a temp directory. Copy all the files from this directory to <code>${SERVER_INSTALLATION_DIR}/config</code> directory on Windows and Mac or <code>/etc/go</code> on Linux.</p>
</li>
<li>
<p>Wrapper Configuration - Unzip the <code>wrapper-config-dir.zip</code> into a temp directory.</p>
<blockquote>
<p><strong>Note:</strong> If you are restoring a backup onto a different GoCD version, <em>or</em> you have modified the <code>${SERVER_INSTALLATION_DIR}/wrapper-config/wrapper.conf</code> please <code>diff</code> the backed up files with the pre-installed versions for any differences. Newer GoCD versions can change the default properties required to start GoCD correctly and your old configuration file may not work correctly.</p>
</blockquote>
<p>After reviewing (or merging changes into a third copy), copy all the files from your temp directory to <code>${SERVER_INSTALLATION_DIR}/wrapper-config</code> directory.</p>
</li>
<li>
<p>Configuration History - Unzip the <code>config-repo.zip</code> into temp directory. Recursively copy all the contents from this directory to <code>${SERVER_INSTALLATION_DIR}/db/config.git</code> .</p>
</li>
<li>
<p>Make sure the ownership of all the files that are restored are the same as the user running the Go server.</p>
<blockquote>
<p><strong>For example:</strong> Make sure you run a <code>chown -R go:go ${SERVER_INSTALLATION_DIR}/db/h2db</code> after Database restoration.</p>
</blockquote>
</li>
<li>
<p>Start the GoCD server</p>
</li>
</ul>
</article>

      
<div class="align-center book-git-footer justify-between">
  

  
  <div>
    <a href="#" class="navigation navigation-prev">
      <i class="fa fa-angle-left"></i> &lt; Previous Page
    </a>
  </div>
  

  
  <div>
    <a id="suggest-edits" href="https://github.com/gocd/docs.go.cd/edit/master/content/advanced_usage/one_click_backup.md" target="_blank" rel="noopener">
      <img src="../svg/code-fork.svg" /> Suggest edits to this page
    </a>
  </div>
  

  
  <div>
    <a href="#" class="navigation navigation-next">
      <i class="fa fa-angle-right"></i> Next Page &gt;
    </a>
  </div>
  

</div>


    </div>

    

  
  <aside class="book-toc fixed">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#steps-to-initiate-backup">Steps to initiate backup</a>
      <ul>
        <li><a href="#what-is-backed-up">What is backed up?</a></li>
        <li><a href="#what-is-not-backed-up">What is not backed up?</a></li>
        <li><a href="#restoring-gocd-using-backup">Restoring GoCD using backup</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
