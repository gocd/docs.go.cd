<!DOCTYPE html>



<html>

<head>
  <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Reference | GoCD User Documentation</title>

<meta name="description" content="GoCD configuration reference index"/>
<meta name="keywords" content="[GoCD configuration, reference index]"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="canonical" href="https://docs.gocd.org/current/configuration/configuration_reference.html"/>
<script src="../javascripts/vendor/jquery-3.6.4.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="../javascripts/vendor/lunr-2.3.9.min.js"></script>

<script type="text/javascript" src="../javascripts/search/search.js"></script>
<script type="text/javascript" src="../javascripts/navigation/navigation.js"></script>
<script src="../javascripts/_common-to-all-pages.js" type="text/javascript"></script>

<link href="../images/favicon.ico" rel="shortcut icon">

<link rel="stylesheet" href="../stylesheets/normalize.min.css"/>
<link rel="stylesheet" href="../stylesheets/website.css"/>

<link rel="stylesheet" href="../stylesheets/book.min.ac5a65903b18d3093416406608606b21fbe03e953e39276b6a84377495f3a79e.css"/>

  
</head>

<body data-rel-permalink="/configuration/configuration_reference.html">
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="main-container">

    <aside class="book-menu fixed">
      <nav role="navigation">
<a href="https://www.gocd.org"> <img src="../svg/product_ui_logo_go.svg" class="icon" /></a>


    



<script>
    (function() {
        var menu = document.querySelector('aside.book-menu nav')
        addEventListener('beforeunload', function(event) {
            localStorage.setItem('menu.scrollTop', menu.scrollTop)
        });
    })();
    function loadFunction(){
        var menu = document.querySelector('aside.book-menu nav')
        var top = parseInt(localStorage.getItem('menu.scrollTop'));
        $(menu).animate({
            scrollTop: top
        }, 10)
    }
    $(document).ready = loadFunction();
</script>


<style>
  nav ul a[href$="\2f configuration\2f configuration_reference.html"] {
  color: #004ed0;
  }
</style>

<div class="search-input-container">
  <input id="search" type="text" placeholder="Type to search">
</div>
<ul>
  <li class="level1">
    <a href="https://www.gocd.org/"><b>Go to GoCD.org</b></a>
  </li>
</ul>
<hr>
<ul>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Welcome</b></a>
    <ul>
      <li class="level2"><a href="../">Introduction</a></li>
      <li class="level2"><a href="../introduction/concepts_in_go.html">Concepts in GoCD</a></li>
      <li class="level2"><a href="../navigation/value_stream_map.html">Value Stream Map</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Installation</b></a>
    <ul>
      <li class="level2"><a href="../installation/">Installing GoCD</a></li>
      <li class="level2"><a href="../installation/system_requirements.html">System requirements</a></li>
      <li class="level2"><a href="../installation/installing_go_server.html">Installing GoCD Server</a>
        <ul>
          <li class="level3"><a href="../installation/install/server/linux.html">Linux</a></li>
          <li class="level3"><a href="../installation/install/server/windows.html">Windows</a></li>
          <li class="level3"><a href="../installation/install/server/osx.html">MacOS</a></li>
          <li class="level3"><a href="../installation/install/server/zip.html">Generic Zip</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/installing_go_agent.html">Installing GoCD Agent</a>
        <ul>
          <li class="level3"><a href="../installation/install/agent/linux.html">Linux</a></li>
          <li class="level3"><a href="../installation/install/agent/windows.html">Windows</a></li>
          <li class="level3"><a href="../installation/install/agent/osx.html">MacOS</a></li>
          <li class="level3"><a href="../installation/install/agent/zip.html">Generic Zip</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/configuring_database.html">Configuring GoCD Database</a></li>
        <ul>
          <li class="level3"><a href="../installation/configuring_database/h2.html">H2</a></li>
          <li class="level3"><a href="../installation/configuring_database/postgres.html">PostgreSQL</a></li>
          <li class="level3"><a href="../installation/configuring_database/mysql.html">MySQL</a></li>
          <li class="level3"><a href="../installation/configuring_database/connection-properties.html">Database Connection Properties</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/upgrading_go.html">Upgrading GoCD</a></li>
      <ul>
        <li class="level3"><a href="../installation/upgrading_go/upgrade_to_gocd_20.5.0.html">Upgrading to GoCD 20.5.0 and higher</a></li>
      </ul>
      <li class="level2"><a href="../installation/configuring_server_details.html">Configuring Server Details</a></li>
      <li class="level2"><a href="../installation/configure-reverse-proxy.html">Configure a Reverse Proxy</a></li>
      <li class="level2"><a href="../installation/configure-agent-proxy.html">Configure an agent with proxy</a></li>
      <li class="level2"><a href="../installation/ssl_tls_config.html">Configuring SSL/TLS</a>
        <ul>
          <li class="level3"><a href="../installation/ssl_tls/end_to_end_transport_security.html">End to end transport security</a></li>
          <li class="level3"><a href="../installation/ssl_tls/configuring_hsts_header.html">Configuring HSTS Header</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../installation/performance_tuning.html">Performance Tuning</a></li>
      <li class="level2"><a href="../installation/hardware_specifications.html">Hardware Specifications</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Configuration</b></a>
    <ul>
      <li class="level2"><a href="../configuration/pipelines.html">Pipelines</a>
        <ul>
          <li class="level3"><a href="../configuration/quick_pipeline_setup.html">Add a New Pipeline</a></li>
          <li class="level3"><a href="../configuration/admin_add_material.html">Add Material to Existing Pipeline</a></li>
          <li class="level3"><a href="../configuration/admin_add_stage.html">Add Stage to Existing Pipeline</a></li>
          <li class="level3"><a href="../configuration/admin_add_job.html">Add Job to Existing Stage</a></li>
          <li class="level3"><a href="../configuration/admin_add_task.html">Add Task to Existing Job</a></li>
          <li class="level3"><a href="../configuration/pipeline_templates.html">Pipeline Templates</a></li>
          <li class="level3"><a href="../configuration/admin_use_parameters_in_configuration.html">Using parameters in Pipelines and Templates</a></li>
          <li class="level3"><a href="../configuration/pipeline_labeling.html">Pipeline Labeling</a></li>
          <li class="level3"><a href="../configuration/pipeline_scheduling.html">Pipeline Scheduling</a></li>
          <li class="level3"><a href="../configuration/dev_choose_when_stage_runs.html">Choose When a Stage Runs</a></li>
          <li class="level3"><a href="../configuration/admin_timer.html">Timer Trigger</a></li>
          <li class="level3"><a href="../configuration/admin_lock_pipelines.html">Lock a Pipeline</a></li>
          <li class="level3"><a href="../configuration/job_timeout.html">Job Timeout</a></li>
          <li class="level3"><a href="../configuration/deleting_pipelines.html">Deleting Pipelines</a></li>
          <li class="level3"><a href="../configuration/managing_dependencies.html">Managing Dependencies</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/managing_a_build_cloud.html">Managing Agents</a>
        <ul>
          <li class="level3"><a href="../configuration/elastic_agents.html">Elastic Agents</a></li>
          <li class="level3"><a href="../configuration/clone_existing_agents.html">Clone/Copy Existing Agents</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/managing_environments.html">Managing Environments</a></li>
      <li class="level2"><a href="../configuration/managing_users.html">Managing Users</a>
        <ul>
          <li class="level3"><a href="../configuration/dev_authentication.html">Authentication</a></li>
          <li class="level3"><a href="../configuration/access_tokens.html">Access Tokens</a></li>
          <li class="level3"><a href="../configuration/dev_authorization.html">Authorizing Users</a></li>
          <li class="level3"><a href="../configuration/delegating_group_administration.html">Delegating Group Administration</a></li>
          <li class="level3"><a href="../configuration/pipeline_group_admin_config.html">Pipeline Group Administration</a></li>
          <li class="level3"><a href="../configuration/policy_in_gocd.html">Policy in GoCD</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/secrets_management.html">Secrets Management</a>
      </li>
      <li class="level2">Artifacts
        <ul>
          <li class="level3"><a href="../configuration/dev_upload_test_report.html">Publish Reports and Artifacts</a></li>
          <li class="level3"><a href="../configuration/managing_artifacts_and_reports.html">Managing Artifacts and Reports</a></li>
          <li class="level3"><a href="../configuration/delete_artifacts.html">Auto Delete Artifacts</a></li>
        </ul>
      </li>
      <li class="level2"><a href="../configuration/admin_mailhost_info.html">Email server configuration</a></li>
      <li class="level2"><a href="../configuration/dev_notifications.html">Notifications</a></li>
      <li class="level2"><a href="../configuration/configuration_reference.html">Reference</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Advanced Usage</b></a>
    <ul>
      <li class="level2"><a href="../advanced_usage/pipelines_as_code.html">Pipelines as code</a></li>
      <li class="level2"><a href="../advanced_usage/agent_auto_register.html">Auto Register a Remote Agent</a></li>
      <li class="level2"><a href="../advanced_usage/admin_spawn_multiple_jobs.html">Spawn multiple instances of a Job</a></li>
      <li class="level2"><a href="../advanced_usage/admin_install_multiple_agents.html">Multiple Agents on One Machine</a></li>
      <li class="level2"><a href="../advanced_usage/dev_clean_up_when_cancel.html">Clean on Task Cancel</a></li>
      <li class="level2"><a href="../advanced_usage/dev_conditional_task_execution.html">Conditional Task Execution</a></li>
      <li class="level2"><a href="../advanced_usage/trigger_with_options.html">Trigger With Options</a></li>
      <li class="level2"><a href="../advanced_usage/fan_in.html">Fan In</a></li>
      <li class="level2"><a href="../advanced_usage/logging.html">Logging</a></li>
      <li class="level2"><a href="../advanced_usage/ui_testing.html">UI Testing</a></li>
      <li class="level2"><a href="../advanced_usage/compare_pipelines.html">Compare Builds</a></li>
      <li class="level2"><a href="../advanced_usage/stage_duration_chart.html">Graphs</a></li>
      <li class="level2"><a href="../advanced_usage/one_click_backup.html">Backup GoCD Server</a></li>
      <li class="level2"><a href="../advanced_usage/cron_backup.html">Timer Based GoCD Server Backup</a></li>
      <li class="level2"><a href="../advanced_usage/config_repo.html">Config Repository</a></li>
      <li class="level2"><a href="../advanced_usage/other_config_options.html">Other Config Options</a></li>
      <li class="level2"><a href="../advanced_usage/agent-health-check-api.html">Agent Health Check API</a></li>
      <li class="level2"><a href="../advanced_usage/maintenance_mode.html">Maintenance Mode</a></li>
      <li class="level2"><a href="../advanced_usage/pipeline_activity.html">Pipeline activity</a></li>
      <li class="level2"><a href="../integration/">Integrating GoCD With Other Tools</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>GoCD on Kubernetes</b></a>
    <ul>
      <li class="level2"><a href="../gocd_on_kubernetes/introduction.html">Introduction</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/setup_and_configuration.html">Setup and configuration</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/helm_install.html">Install the GoCD Helm chart</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/importing_a_sample_workflow.html">Importing a sample workflow</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/sample_pipelines_explained.html">An explanation of the sample pipelines</a></li>
      <li class="level2"><a href="../gocd_on_kubernetes/docker_workflows.html">Docker workflows</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>Plugins in GoCD</b></a>
    <ul>
      <li class="level2"><a href="../extension_points/">Available extension points</a></li>
      <li class="level2"><a href="../extension_points/plugin_user_guide.html">Plugin User Guide</a></li>
      <li class="level2"><a href="../extension_points/package_repository_extension.html">Package Repository Extension</a></li>
      <li class="level2"><a href="../extension_points/yum_repository_poller.html">Yum Repository Poller</a></li>
      <li class="level2"><a href="../extension_points/scm_extension.html">SCM Extension</a></li>
      <li class="level2"><a href="../extension_points/task_extension.html">Task Extension</a></li>
    </ul>
  </li>
  <li class="level1 has-children">
    <figure class="menu-arrow"><img src="../images/arrow.png"/>
    </figure>

    <a href="#"><b>FAQ/Troubleshooting</b></a>
    <ul>
      <li class="level2"><a href="../faq/fixing_common_issues.html">Fixing common issues</a></li>
      <li class="level2"><a href="../faq/artifact_integrity.html">Artifact integrity verification</a></li>
      <li class="level2"><a href="../faq/rm_what_is_deployed.html">Check What's Deployed</a></li>
      <li class="level2"><a href="../faq/concurrent_config_modifications.html">Concurrent Modifications to Config</a></li>
      <li class="level2"><a href="../faq/docker_container_ssh_keys.html">Configure SSH Keys for dockerized GoCD</a></li>
      <li class="level2"><a href="../faq/deploy_a_specific_build_to_an_environment.html">Deploy a Specific Build</a></li>
      <li class="level2"><a href="../faq/rm_deploy_to_environment.html">Deploy to an environment</a></li>
      <li class="level2"><a href="../faq/material_update_hung.html">GoCD unable to poll for changes</a></li>
      <li class="level2"><a href="../faq/stage_old_config.html">Historical Configuration</a></li>
      <li class="level2"><a href="../faq/job_rerun.html">How do I re-run jobs?</a></li>
      <li class="level2"><a href="../faq/ordering_of_pipelines.html">Ordering of Pipelines</a></li>
      <li class="level2"><a href="../faq/dependency_management.html">Run Tests against new Builds</a></li>
      <li class="level2"><a href="../faq/admin_out_of_disk_space.html">Running out of Disk Space</a></li>
      <li class="level2"><a href="../faq/dev_see_artifact_as_tab.html">See artifacts as sub-tabs</a></li>
      <li class="level2"><a href="../faq/tester_what_has_changed.html">See changes in new binary</a></li>
      <li class="level2"><a href="../faq/dev_use_current_revision_in_build.html">Using Environment variables</a></li>
      <li class="level2"><a href="../faq/dev_understand_why_build_broken.html">Why the Build is Broken?</a></li>
    </ul>
  </li>
</ul>




</nav>
    </aside>

    
    <div class="navigation-bar">
    <a href="#" class="navigation navigation-prev">
        <i class="fa fa-angle-left"></i> &lt; Previous Page
    </a>

    <a href="#" class="navigation navigation-next">
        <i class="fa fa-angle-right"></i> Next Page &gt;
    </a>
</div>

    <div class="book-page ">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="../svg/menu.svg" />
  </label>
  <strong>Reference</strong>
</header>

      
<div class="has-results">
    <h1 id="searchResultTitle" class="search-results-title hide"></h1>
    <ul id="results"></ul>
</div>
<div class="no-results hide">
    Your query search resulted in no results.
</div>

      
<article class="markdown"><p><a id="top"></a></p>
<h1 id="gocd-configuration-reference">GoCD Configuration Reference</h1>
<big>
<pre>
<a href="#cruise">&lt;cruise&gt;</a>
    <a href="#server">&lt;server&gt;</a>
        <a href="#siteUrls">&lt;siteUrls&gt;</a>
            <a href="#siteUrl">&lt;siteUrl/&gt;</a>
            <a href="#secureSiteUrl">&lt;secureSiteUrl/&gt;</a>
        <a href="#site_urls">&lt;/siteUrls&gt;</a>
        <a href="#security">&lt;security&gt;</a>
            <a href="#ldap">&lt;ldap&gt;</a>
                <a href="#bases">&lt;bases&gt;</a>
                    <a href="#base">&lt;base/&gt;</a>
                <a href="#bases">&lt;/bases&gt;</a>
            <a href="#ldap">&lt;/ldap&gt;</a>
            <a href="#passwordFile">&lt;passwordFile/&gt;</a>
            <a href="#authConfigs">&lt;authConfigs&gt;</a>
              <a href="#authConfig">&lt;authConfig&gt;</a>
                <a href="#property">&lt;property&gt;</a>
                  <a href="#key">&lt;key/&gt;</a>
                  <a href="#value">&lt;value/&gt;</a>
                <a href="#property">&lt;/property&gt;</a>
              <a href="#authConfig">&lt;/authConfig&gt;</a>
            <a href="#authConfigs">&lt;/authConfigs&gt;</a>
            <a href="#roles">&lt;roles&gt;</a>
                <a href="#role_definition">&lt;role&gt;</a>
                    <a href="#policyinrole">&lt;policy&gt;</a>
                      <a href="#allow_permission_in_policy">&lt;allow/&gt;</a>
                      <a href="#deny_permission_in_policy">&lt;deny/&gt;</a>
                    <a href="#policyinrole">&lt;/policy&gt;</a>
                    <a href="#usersinrole">&lt;users/&gt;</a>
                        <a href="#userinrole">&lt;user/&gt;</a>
                <a href="#role_definition">&lt;/role&gt;</a>
                <a href="#plugin_role_definition">&lt;pluginRole/&gt;</a>
                    <a href="#policyinrole">&lt;policy&gt;</a>
                      <a href="#allow_permission_in_policy">&lt;allow/&gt;</a>
                      <a href="#deny_permission_in_policy">&lt;deny/&gt;</a>
                    <a href="#policyinrole">&lt;/policy&gt;</a>
                    <a href="#property">&lt;property&gt;</a>
                      <a href="#key">&lt;key/&gt;</a>
                      <a href="#value">&lt;value/&gt;</a>
                    <a href="#property">&lt;/property&gt;</a>
                <a href="#plugin_role_definition">&lt;/pluginRole&gt;</a>
            <a href="#roles">&lt;/roles&gt;</a>
            <a href="#admins">&lt;admins&gt;</a>
                <a href="#roleinadmin">&lt;role/&gt;</a>
                <a href="#user">&lt;user/&gt;</a>
            <a href="#admins">&lt;/admins&gt;</a>
        <a href="#security">&lt;/security&gt;</a>
        <a href="#mailhost">&lt;mailhost/&gt;</a>
        <a href="#backup">&lt;backup/&gt;</a>
        <a href="#artifacts">&lt;artifacts&gt;</a>
            <a href="#artifactDir">&lt;artifactsDir/&gt;</a>
            <a href="#purgeSettings">&lt;purgeSettings&gt;</a>
                <a href="#purgeStartDiskSpace">&lt;purgeStartDiskSpace/&gt;</a>
                <a href="#purgeUptoDiskSpace">&lt;purgeUptoDiskSpace/&gt;</a>
            <a href="#purgeSettings">&lt;/purgeSettings/&gt;</a>
         <a href="#artifacts">&lt;/artifacts&gt;</a>
    <a href="#server">&lt;/server&gt;</a>
    <a href="#elastic">&lt;elastic&gt;</a>
        <a href="#agentProfiles">&lt;agentProfiles&gt;</a>
            <a href="#agentProfile">&lt;agentProfile&gt;</a>
                <a href="#property">&lt;property&gt;</a>
                    <a href="#key">&lt;key/&gt;</a>
                    <a href="#value">&lt;value/&gt;</a>
                <a href="#property">&lt;/property&gt;</a>
            <a href="#agentProfile">&lt;/agentProfile&gt;</a>
        <a href="#agentProfiles">&lt;/agentProfiles&gt;</a>
        <a href="#clusterProfiles">&lt;clusterProfiles&gt;</a>
            <a href="#clusterProfile">&lt;clusterProfile/&gt;</a>
        <a href="#clusterProfiles">&lt;/clusterProfiles&gt;</a>
    <a href="#elastic">&lt;/elastic&gt;</a>
    <a href="#repositories">&lt;repositories&gt;</a>
        <a href="#repository">&lt;repository&gt;</a>
            <a href="#pluginConfiguration">&lt;pluginConfiguration/&gt;</a>
            <a href="#configuration">&lt;configuration&gt;</a>
                <a href="#property">&lt;property&gt;</a>
                    <a href="#key">&lt;key/&gt;</a>
                    <a href="#value">&lt;value/&gt;</a>
                <a href="#property">&lt;/property&gt;</a>
            <a href="#configuration">&lt;/configuration&gt;</a>
            <a href="#packages">&lt;packages&gt;</a>
                <a href="#package">&lt;package&gt;</a>
                    <a href="#configuration">&lt;configuration&gt;</a>
                        <a href="#property">&lt;property&gt;</a>
                            <a href="#key">&lt;key/&gt;</a>
                            <a href="#value">&lt;value/&gt;</a>
                        <a href="#property">&lt;/property&gt;</a>
                    <a href="#configuration">&lt;/configuration&gt;</a>
                <a href="#package">&lt;/package&gt;</a>
            <a href="#packages">&lt;/packages&gt;</a>
        <a href="#repository">&lt;/repository&gt;</a>
    <a href="#repositories">&lt;/repositories&gt;</a>
    <a href="#config-repos">&lt;config-repos&gt;</a>
      <a href="#config-repo">&lt;config-repo&gt;</a>
        <a href="#config-repo-svn">&lt;svn /&gt;</a>
        <a href="#config-repo-hg">&lt;hg /&gt;</a>
        <a href="#config-repo-p4">&lt;p4 /&gt;</a>
        <a href="#config-repo-git">&lt;git /&gt;</a>
        <a href="#config-repo-tfs">&lt;tfs /&gt;</a>
        <a href="#config-repo-scm">&lt;scm /&gt;</a>
        <a href="#config-repo-configuration">&lt;configuration&gt;</a>
            <a href="#config-repo-property">&lt;property&gt;</a>
                <a href="#config-repo-property-key">&lt;key/&gt;</a>
                <a href="#config-repo-property-value">&lt;value/&gt;</a>
            <a href="#config-repo-property">&lt;/property&gt;</a>
        <a href="#config-repo-configuration">&lt;/configuration&gt;</a>
        <a href="#config-repo-rules">&lt;rules&gt;</a>
            <a href="#config-repo-allow">&lt;allow&gt;</a>
            <a href="#config-repo-allow">&lt;/allow&gt;</a>
            <a href="#config-repo-deny">&lt;deny&gt;</a>
            <a href="#config-repo-deny">&lt;/deny&gt;</a>
        <a href="#config-repo-rules">&lt;/rules&gt;</a>
      <a href="#config-repo">&lt;/config-repo&gt;</a>
    <a href="#config-repos">&lt;/config-repos&gt;</a>
    <a href="#artifactStores">&lt;artifactStores&gt;</a>
        <a href="#artifactStore">&lt;artifactStore&gt;</a>
            <a href="#property">&lt;property&gt;</a>
                <a href="#key">&lt;key/&gt;</a>
                <a href="#value">&lt;value/&gt;</a>
            <a href="#property">&lt;/property&gt;</a>
        <a href="#artifactStore">&lt;/artifactStore&gt;</a>
    <a href="#artifactStores">&lt;/artifactStores&gt;</a>
    <a href="#secretConfigs">&lt;secretConfigs&gt;</a>
        <a href="#secretConfig">&lt;secretConfig&gt;</a>
            <a href="#description">&lt;description&gt;</a>
            <a href="#description">&lt;/description&gt;</a>
            <a href="#configuration">&lt;configuration&gt;</a>
                <a href="#property">&lt;property&gt;</a>
                    <a href="#key">&lt;key/&gt;</a>
                    <a href="#value">&lt;value/&gt;</a>
                <a href="#property">&lt;/property&gt;</a>
            <a href="#configuration">&lt;/configuration&gt;</a>
            <a href="#rules">&lt;rules&gt;</a>
                <a href="#allow">&lt;allow&gt;</a>
                <a href="#allow">&lt;/allow&gt;</a>
                <a href="#deny">&lt;deny&gt;</a>
                <a href="#deny">&lt;/deny&gt;</a>
            <a href="#rules">&lt;/rules&gt;</a>
        <a href="#secretConfig">&lt;/secretConfig&gt;</a>
    <a href="#secretConfigs">&lt;/secretConfigs&gt;</a>
    <a href="#pipelines">&lt;pipelines&gt;</a>
        <a href="#group_authorization">&lt;authorization&gt;</a>
            <a href="#group_admins">&lt;admins&gt;</a>
                <a href="#user">&lt;user/&gt;</a>
                <a href="#role">&lt;role/&gt;</a>
            <a href="#group_admins">&lt;/admins&gt;</a>
            <a href="#view">&lt;view&gt;</a>
                <a href="#user">&lt;user/&gt;</a>
                <a href="#role">&lt;role/&gt;</a>
            <a href="#view">&lt;/view&gt;</a>
            <a href="#group_operate">&lt;operate&gt;</a>
                <a href="#user">&lt;user/&gt;</a>
                <a href="#role">&lt;role/&gt;</a>
            <a href="#group_operate">&lt;/operate&gt;</a>
        <a href="#group_authorization">&lt;/authorization&gt;</a>
        <a href="#pipeline">&lt;pipeline&gt;</a>
            <a href="#params">&lt;params&gt;</a>
                <a href="#param">&lt;param/&gt;</a>
            <a href="#params">&lt;/params&gt;</a>
            <a href="#trackingtool">&lt;trackingtool/&gt;</a>
            <a href="#timer">&lt;timer/&gt;</a>
            <a href="#environmentvariables">&lt;environmentvariables&gt;</a>
                <a href="#variable">&lt;variable&gt;</a>
                    &lt;value/&gt;
                <a href="#variable">&lt;/variable&gt;</a>
            <a href="#environmentvariables">&lt;/environmentvariables&gt;</a>
            <a href="#materials">&lt;materials&gt;</a>
                <a href="#svn">&lt;svn&gt;</a>
                    <a href="#filter">&lt;filter&gt;</a>
                        <a href="#ignore">&lt;ignore/&gt;</a>
                    <a href="#filter">&lt;/filter&gt;</a>
                <a href="#svn">&lt;/svn&gt;</a>
                <a href="#hg">&lt;hg&gt;</a>
                    <a href="#filter">&lt;filter&gt;</a>
                        <a href="#ignore">&lt;ignore/&gt;</a>
                    <a href="#filter">&lt;/filter&gt;</a>
                <a href="#hg">&lt;/hg&gt;</a>
                <a href="#p4">&lt;p4&gt;</a>
                    &lt;view/&gt;
                    <a href="#filter">&lt;filter&gt;</a>
                        <a href="#ignore">&lt;ignore/&gt;</a>
                    <a href="#filter">&lt;/filter&gt;</a>
                <a href="#p4">&lt;/p4&gt;</a>
                <a href="#git">&lt;git&gt;</a>
                    <a href="#filter">&lt;filter&gt;</a>
                        <a href="#ignore">&lt;ignore/&gt;</a>
                    <a href="#filter">&lt;/filter&gt;</a>
                <a href="#git">&lt;/git&gt;</a>
                <a href="#tfs">&lt;tfs&gt;</a>
                    <a href="#filter">&lt;filter&gt;</a>
                        <a href="#ignore">&lt;ignore/&gt;</a>
                    <a href="#filter">&lt;/filter&gt;</a>
                <a href="#tfs">&lt;/tfs&gt;</a>
                <a href="#package-material">&lt;package/&gt;</a>
                <a href="#pipeline-dependency-material">&lt;pipeline/&gt;</a>
            <a href="#materials">&lt;/materials&gt;</a>
            <a href="#stage">&lt;stage&gt;</a>
                <a href="#approval">&lt;approval&gt;</a>
                    <a href="#authorization">&lt;authorization&gt;</a>
                        <a href="#role">&lt;role/&gt;</a>
                        <a href="#user">&lt;user/&gt;</a>
                    <a href="#authorization">&lt;/authorization&gt;</a>
                <a href="#approval">&lt;/approval&gt;</a>
                <a href="#environmentvariables">&lt;environmentvariables&gt;</a>
                    <a href="#variable">&lt;variable&gt;</a>
                        &lt;value/&gt;
                    <a href="#variable">&lt;/variable&gt;</a>
                <a href="#environmentvariables">&lt;/environmentvariables&gt;</a>
                <a href="#jobs">&lt;jobs&gt;</a>
                    <a href="#job">&lt;job&gt;</a>
                        <a href="#environmentvariables">&lt;environmentvariables&gt;</a>
                            <a href="#variable">&lt;variable&gt;</a>
                                &lt;value/&gt;
                            <a href="#variable">&lt;/variable&gt;</a>
                        <a href="#environmentvariables">&lt;/environmentvariables&gt;</a>
                        <a href="#resources">&lt;resources&gt;</a>
                            <a href="#resource">&lt;resource/&gt;</a>
                        <a href="#resources">&lt;/resources&gt;</a>
                        <a href="#tasks">&lt;tasks&gt;</a>
                            <a href="#fetchartifact">&lt;fetchartifact&gt;</a>
                                <a href="#runif">&lt;runif/&gt;</a>
                                <a href="#oncancel">&lt;oncancel/&gt;</a>
                            <a href="#fetchartifact">&lt;/fetchartifact&gt;</a>
                            <a href="#ant">&lt;ant&gt;</a>
                                <a href="#runif%20">&lt;runif/&gt;</a>
                                <a href="#oncancel">&lt;oncancel/&gt;</a>
                            <a href="#ant">&lt;/ant&gt;</a>
                            <a href="#nant">&lt;nant&gt;</a>
                                <a href="#runif%20">&lt;runif/&gt;</a>
                                <a href="#oncancel">&lt;oncancel/&gt;</a>
                            <a href="#nant">&lt;/nant&gt;</a>
                            <a href="#rake">&lt;rake&gt;</a>
                                <a href="#runif%20">&lt;runif/&gt;</a>
                                <a href="#oncancel">&lt;oncancel/&gt;</a>
                            <a href="#rake">&lt;/rake&gt;</a>
                            <a href="#exec">&lt;exec&gt;</a>
                                <a href="#arg">&lt;arg/&gt;</a>
                                <a href="#runif%20">&lt;runif/&gt;</a>
                                <a href="#oncancel">&lt;oncancel/&gt;</a>
                            <a href="#exec">&lt;/exec&gt;</a>
                        <a href="#tasks">&lt;/tasks&gt;</a>
                        <a href="#artifacts">&lt;artifacts&gt;</a>
                            <a href="#artifact">&lt;artifact/&gt;</a>
                        <a href="#artifacts">&lt;/artifacts&gt;</a>
                        <a href="#tabs">&lt;tabs&gt;</a>
                            <a href="#tab">&lt;tab/&gt;</a>
                        <a href="#tabs">&lt;/tabs&gt;</a>
                    <a href="#job">&lt;/job&gt;</a>
                <a href="#jobs">&lt;/jobs&gt;</a>
            <a href="#stage">&lt;/stage&gt;</a>
        <a href="#pipeline">&lt;/pipeline&gt;</a>
    <a href="#pipelines">&lt;/pipelines&gt;</a>
    <a href="#templates">&lt;templates&gt;</a>
        <a href="#pipeline-template">&lt;pipeline&gt;</a>
            <a href="#stage">&lt;stage&gt;</a>
                ...
            <a href="#stage">&lt;/stage&gt;</a>
        <a href="#pipeline-template">&lt;/pipeline&gt;</a>
    <a href="#templates">&lt;/templates&gt;</a>
    <a href="#environments">&lt;environments&gt;</a>
        <a href="#environment">&lt;environment&gt;</a>
            <a href="#environmentvariables">&lt;environmentvariables&gt;</a>
                <a href="#variable">&lt;variable&gt;</a>
                    &lt;value/&gt;
                <a href="#variable">&lt;/variable&gt;</a>
            <a href="#environmentvariables">&lt;/environmentvariables&gt;</a>
            <a href="#environment-pipelines">&lt;pipelines&gt;</a>
                <a href="#environment-pipeline">&lt;pipeline/&gt;</a>
            <a href="#environment-pipelines">&lt;/pipelines&gt;</a>
        <a href="#environment">&lt;/environment&gt;</a>
    <a href="#environments">&lt;/environments&gt;</a>
<a href="#cruise">&lt;/cruise&gt;</a>
</pre></big>
<p><a href="#gocd-configuration-reference">top</a></p>
<h1 id="configuration-reference">Configuration reference</h1>
<h2 id="cruise">&lt;cruise&gt;</h2>
<p>The <code>&lt;cruise&gt;</code> element is the root element of the configuration.</p>
<p><a href="#gocd-configuration-reference">top</a></p>
<h2 id="server">&lt;server&gt;</h2>
<p>The <code>&lt;server&gt;</code> element can be used to define information and attributes of the Go Server.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>jobTimeout</td>
<td>No</td>
<td>This entry will be used as the default timeout value for hung jobs. A job is considered as hung if it does not generate any console output for &ldquo;jobTimeout&rdquo; minutes. If the attribute is not specified job will never timeout.</td>
</tr>
<tr>
<td>serverId</td>
<td>Yes (auto-generated)</td>
<td>This value uniquely identifies a Go server installation. It may be used by features that require unique names/identifiers across different Go server installations. This attribute need not be specified for a new server. In case no value is given, server auto-generates a random UUID an assigns it as serverId. This value should never be changed for an existing server. Administrator should clear this attribute before copying configuration to a different installation.</td>
</tr>
<tr>
<td>agentAutoRegisterKey</td>
<td>No</td>
<td>The key specified here is used by agents for <a href="../advanced_usage/agent_auto_register.html">auto-registration</a>.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;server</span> <span style="color:#b44">jobTimeout=</span><span style="color:#b44">&#39;30&#39;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/server&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="siteUrls">&lt;siteUrls&gt;</h2>
<p>The <code>&lt;siteUrls&gt;</code> element is used to define <a href="#siteUrl"><code>&lt;siteUrl&gt;</code></a> and <a href="#secureSiteUrl"><code>&lt;secureSiteUrl&gt;</code></a>.</p>
<p><strong>Notes</strong></p>
<ul>
<li>If both <code>&lt;siteUrl&gt;</code> and <code>&lt;secureSiteUrl&gt;</code> are not defined, GoCD URLs will use the default domain which in most cases will be <code>http://your-go-server:8153</code></li>
<li>If only <code>&lt;siteUrl&gt;</code> is defined and is not HTTPS, GoCD URLs will be composed from the <code>&lt;siteUrl&gt;</code> entry. In this case, the secure pages of GoCD will not be navigable.</li>
<li>If only <code>&lt;siteUrl&gt;</code> is defined and is HTTPS, GoCD URLs will be composed from the <code>&lt;siteUrl&gt;</code> entry and all pages will be HTTPS.</li>
<li>If only <code>&lt;secureSiteUrl&gt;</code> is defined, GoCD URLs will use the default domain for non-HTTPS pages, while HTTPS pages will be composed from the <code>&lt;secureSiteUrl&gt;</code> entry.</li>
</ul>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;siteUrls&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;siteUrl&gt;</span>http://siteUrl.com<span style="color:#008000;font-weight:bold">&lt;/siteUrl&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;secureSiteUrl&gt;</span>https://secureSiteUrl.com<span style="color:#008000;font-weight:bold">&lt;/secureSiteUrl&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/siteUrls&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="siteUrl">&lt;siteUrl&gt;</h2>
<p>The <code>&lt;siteUrl&gt;</code> element is used by GoCD Server to generate links for emails, feeds etc., where we cannot have relative URLs. For example, if you have fronted GoCD with a reverse proxy, this value should be the base URL for the proxy and not the internal GoCD address. For this reason, it is necessary to specify this configuration. <code>Format: [protocol]://[host]:[port]</code>. You need to define the [port] in case GoCD uses a non-standard port. The [Protocol] can be HTTP or HTTPS.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;siteUrls&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;siteUrl&gt;</span>http://siteUrl.com<span style="color:#008000;font-weight:bold">&lt;/siteUrl&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/siteUrls&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="secureSiteUrl">&lt;secureSiteUrl&gt;</h2>
<p>The <code>&lt;secureSiteUrl&gt;</code> element is used to specify value of the base HTTPS URL.Certain features in GoCD require an HTTPS(SSL) endpoint. If you wish that your primary site URL be HTTP, but still want to have HTTPS endpoints for the features that require SSL,you can use this element. Format: <code>https://[host]:[port]</code>. You need to define the [port] in case GoCD uses a non-standard port.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;siteUrls&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;secureSiteUrl&gt;</span>https://secureSiteUrl.com<span style="color:#008000;font-weight:bold">&lt;/secureSiteUrl&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/siteUrls&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="security">&lt;security&gt;</h2>
<p>The <code>&lt;security&gt;</code> element can be used to enable authentication. If the element is not defined anyone can use Go without logging in. We currently support enabling authentication using Authorization plugin endpoint. Support for LDAP and simple password-file authentication is available out of box via the bundled plugins for the same. You can use more than one authentication mechanism if you want. Support for inbuilt <a href="#ldap">LDAP</a> and <a href="#passwordFile">password file</a> tags in configuration has been deprecated.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;server</span> <span style="color:#b44">artifactsdir=</span><span style="color:#b44">&#34;/var/lib/go/big-artifacts-folder&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;security&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;authConfigs&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;authConfig</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;profile-id&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;cd.go.authentication.ldap&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>Url<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>ldap://xxx.yourcompany.com<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>ManagerDN<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>cn=Acitivity Directory LDap User,ou=InformationSystems,ou=SharedAccounts,ou=Principal,dc=xxxx,dc=yyyy,dc=com<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>Password<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>secret<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>SearchBases<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>ou=Employees,ou=Enterprise,ou=Principal,dc=xxxx,dc=yyyy,dc=com<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>UserLoginFilter<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>(sAMAccountName={0})<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>UserSearchFilter<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>(sAMAccountName={0})<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>DisplayNameAttribute<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>displayName<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>EmailAttribute<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>mail<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;/authConfig&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;/authConfigs&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/security&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/server&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="mailhost">&lt;mailhost&gt;</h2>
<p>The <code>&lt;mailhost&gt;</code> element is used to configure mail notifications. Mail notifications require <a href="#security">security</a> to be enabled.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>hostname</td>
<td>Yes</td>
<td>The SMTP mail server which Go will use to send email. For example, hostname=&ldquo;mailhost.yourcompany.com&rdquo;</td>
</tr>
<tr>
<td>port</td>
<td>Yes</td>
<td>The mail port to use. Typically this will be the default mail port of 25.</td>
</tr>
<tr>
<td>username</td>
<td>Yes</td>
<td>The username which Go should use to login to the mail host.</td>
</tr>
<tr>
<td>password</td>
<td>Yes</td>
<td>The password to access the mailhost.</td>
</tr>
<tr>
<td>tls</td>
<td>No</td>
<td>Use TLS(Transport Layer Security) or not. The default value is &lsquo;false&rsquo;. Use &rsquo;true&rsquo; to enable TLS security.</td>
</tr>
<tr>
<td>from</td>
<td>Yes</td>
<td>Go will attempt to set this email address as the &lsquo;from&rsquo; address for email that it sends. Note that this setting may not be honoured by the SMTP server that you use. For example, from=&ldquo;<a href="mailto:go-admin@yourcompany.com">go-admin@yourcompany.com</a>&rdquo;.</td>
</tr>
<tr>
<td>admin</td>
<td>Yes</td>
<td>Go admintrator&rsquo;s email address. Go will send diagnostic messages to this email address. For example, Go will send a warning message if it is running out of disk space.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;mailhost</span> <span style="color:#b44">hostname=</span><span style="color:#b44">&#34;mailhost.yourcompany.com&#34;</span> <span style="color:#b44">port=</span><span style="color:#b44">&#34;25&#34;</span> <span style="color:#b44">username=</span><span style="color:#b44">&#34;go-user&#34;</span> <span style="color:#b44">password=</span><span style="color:#b44">&#34;crs123&#34;</span> <span style="color:#b44">tls=</span><span style="color:#b44">&#34;false&#34;</span> <span style="color:#b44">from=</span><span style="color:#b44">&#34;go@yourcompany.com&#34;</span> <span style="color:#b44">admin=</span><span style="color:#b44">&#34;goadministrator@yourcompany.com&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="backup">&lt;backup&gt;</h2>
<p>The <code>&lt;backup&gt;</code> element is used to configure backups.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Attribute</th>
<th style="text-align:left">Required</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">schedule</td>
<td style="text-align:left">No</td>
<td style="text-align:left">The cron-like specification to perform a backup.</td>
</tr>
<tr>
<td style="text-align:left">postBackupScript</td>
<td style="text-align:left">No</td>
<td style="text-align:left">A script that will be invoked on the GoCD server after backup is performed (successfully, or otherwise). See <a href="../advanced_usage/cron_backup.html">cron backups</a> for details about this script.</td>
</tr>
<tr>
<td style="text-align:left">emailOnSuccess</td>
<td style="text-align:left">No</td>
<td style="text-align:left">Boolean indicating whether email should be sent on a successful backup. Requires that <a href="#mailhost">mailhost</a> config be setup.</td>
</tr>
<tr>
<td style="text-align:left">emailOnFailure</td>
<td style="text-align:left">No</td>
<td style="text-align:left">Boolean indicating whether email should be sent on a failed backup backup. Requires that <a href="#mailhost">mailhost</a> config be setup.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p>For example: to perform a backup once a night at 10pm on weekdays and call the <code>/usr/local/bin/upload-to-s3</code> script after the backup is done.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;server&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;backup</span> <span style="color:#b44">schedule=</span><span style="color:#b44">&#34;0 0 22 ? * MON-FRI&#34;</span> <span style="color:#b44">postBackupScript=</span><span style="color:#b44">&#34;/usr/local/bin/upload-to-s3&#34;</span> <span style="color:#b44">emailOnSuccess=</span><span style="color:#b44">&#34;false&#34;</span> <span style="color:#b44">emailOnFailure=</span><span style="color:#b44">&#34;true&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/server&gt;</span>
</span></span></code></pre></div><p>Go uses the <a href="https://www.quartz-scheduler.org/documentation/quartz-2.3.0/quick-start.html">Quartz</a> scheduler internally. For convenience we reproduce the <a href="https://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html">Quartz cron documentation</a> here:</p>
<p><strong>Format</strong></p>
<p>A cron expression is a string comprised of 6 or 7 fields separated by white space. Fields can contain any of the allowed values, along with
various combinations of the allowed special characters for that field. The fields are as follows:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Mandatory?</th>
<th>Allowed Values</th>
<th>Allowed Special Characters</th>
</tr>
</thead>
<tbody>
<tr>
<td>Seconds</td>
<td>YES</td>
<td>0-59</td>
<td>, - * /</td>
</tr>
<tr>
<td>Minutes</td>
<td>YES</td>
<td>0-59</td>
<td>, - * /</td>
</tr>
<tr>
<td>Hours</td>
<td>YES</td>
<td>0-23</td>
<td>, - * /</td>
</tr>
<tr>
<td>Day of month</td>
<td>YES</td>
<td>1-31</td>
<td>, - * ? / L W\</td>
</tr>
<tr>
<td>Month</td>
<td>YES</td>
<td>1-12 or JAN-DEC</td>
<td>, - * /</td>
</tr>
<tr>
<td>Day of week</td>
<td>YES</td>
<td>1-7 or SUN-SAT</td>
<td>, - * ? / L #</td>
</tr>
<tr>
<td>Year</td>
<td>NO</td>
<td>empty, 1970-2099</td>
<td>, - * /</td>
</tr>
</tbody>
</table>
<p>So cron expressions can be as simple as this: <code>* * * * * ?</code> or more complex, like this: <code>0 15 10 ? * 6L 2002-2005</code></p>
<p><strong>Special characters</strong></p>
<ul>
<li>
<p><code>*</code> (<em>&ldquo;all values&rdquo;</em>) - used to select all values within a field. For example, &ldquo;*&rdquo; in the minute field means <em>&ldquo;every minute&rdquo;</em>.</p>
</li>
<li>
<p><code>?</code> (<em>&ldquo;no specific value&rdquo;</em>) - useful when you need to specify something in one of the two fields in which the character is allowed, but not the other. For example, if I want my trigger to fire on a particular day of the month (say, the 10th), but don&rsquo;t care what day of the week that happens to be, I would put &ldquo;10&rdquo; in the day-of-month field, and &ldquo;?&rdquo; in the day-of-week field. See the examples below for clarification.</p>
</li>
<li>
<p><code>-</code> - used to specify ranges. For example, &ldquo;10-12&rdquo; in the hour field means <em>&ldquo;the hours 10, 11 and 12&rdquo;</em>.</p>
</li>
<li>
<p><code>,</code> - used to specify additional values. For example, &ldquo;MON,WED,FRI&rdquo; in the day-of-week field means <em>&ldquo;the days Monday, Wednesday, and Friday&rdquo;</em>.</p>
</li>
<li>
<p><code>/</code> - used to specify increments. For example, &ldquo;0/15&rdquo; in the seconds field means <em>&ldquo;the seconds 0, 15, 30, and 45&rdquo;</em>. And &ldquo;5/15&rdquo; in the seconds field means <em>&ldquo;the seconds 5, 20, 35, and 50&rdquo;</em>. You can also specify &lsquo;/&rsquo; after the &lsquo;<strong>&rsquo; character - in this case &lsquo;</strong>&rsquo; is equivalent to having &lsquo;0&rsquo; before the &lsquo;/&rsquo;. &lsquo;1/3&rsquo; in the day-of-month field means <em>&ldquo;fire every 3 days starting on the first day of the month&rdquo;</em>.</p>
</li>
<li>
<p><code>L</code> (<em>&ldquo;last&rdquo;</em>) - has different meaning in each of the two fields in which it is allowed. For example, the value &ldquo;L&rdquo; in the day-of-month field means <em>&ldquo;the last day of the month&rdquo;</em> - day 31 for January, day 28 for February on non-leap years. If used in the day-of-week field by itself, it simply means &ldquo;7&rdquo; or &ldquo;SAT&rdquo;. But if used in the day-of-week field after another value, it means <em>&ldquo;the last xxx day of the month&rdquo;</em> - for example &ldquo;6L&rdquo; means <em>&ldquo;the last friday of the month&rdquo;</em>. When using the &lsquo;L&rsquo; option, it is important not to specify lists, or ranges of values, as you&rsquo;ll get confusing results.</p>
</li>
<li>
<p><code>W</code> (<em>&ldquo;weekday&rdquo;</em>) - used to specify the weekday (Monday-Friday) nearest the given day. As an example, if you were to specify &ldquo;15W&rdquo; as the value for the day-of-month field, the meaning is: <em>&ldquo;the nearest weekday to the 15th of the month&rdquo;</em>. So if the 15th is a Saturday, the trigger will fire on Friday the 14th. If the 15th is a Sunday, the trigger will fire on Monday the 16th. If the 15th is a Tuesday, then it will fire on Tuesday the 15th. However if you specify &ldquo;1W&rdquo; as the value for day-of-month, and the 1st is a Saturday, the trigger will fire on Monday the 3rd, as it will not &lsquo;jump&rsquo; over the boundary of a month&rsquo;s days. The &lsquo;W&rsquo; character can only be specified when the day-of-month is a single day, not a range or list of days. The &lsquo;L&rsquo; and &lsquo;W&rsquo; characters can also be combined in the day-of-month field to yield &lsquo;LW&rsquo;, which translates to <em>&ldquo;last weekday of the month&rdquo;</em>.</p>
</li>
<li>
<p><code>#</code> - used to specify &ldquo;the nth&rdquo; XXX day of the month. For example, the value of &ldquo;6#3&rdquo; in the day-of-week field means <em>&ldquo;the third Friday of the month&rdquo;</em> (day 6 = Friday and &ldquo;#3&rdquo; = the 3rd one in the month). Other examples: &ldquo;2#1&rdquo; = the first Monday of the month and &ldquo;4#5&rdquo; = the fifth Wednesday of the month. Note that if you specify &ldquo;#5&rdquo; and there is not 5 of the given day-of-week in the month, then no firing will occur that month. The legal characters and the names of months and days of the week are not case sensitive. <code>MON</code> is the same as <code>mon</code>.</p>
</li>
</ul>
<p><strong>Examples</strong></p>
<p>Here are some full examples:</p>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0 0 12 * * ?</code></td>
<td>Fire at 12pm (noon) every day</td>
</tr>
<tr>
<td><code>0 15 10 ? * *</code></td>
<td>Fire at 10:15am every day</td>
</tr>
<tr>
<td><code>0 15 10 * * ?</code></td>
<td>Fire at 10:15am every day</td>
</tr>
<tr>
<td><code>0 15 10 * * ? *</code></td>
<td>Fire at 10:15am every day</td>
</tr>
<tr>
<td><code>0 15 10 * * ? 2005</code></td>
<td>Fire at 10:15am every day during the year 2005</td>
</tr>
<tr>
<td><code>0 * 14 * * ?</code></td>
<td>Fire every minute starting at 2pm and ending at 2:59pm, every day</td>
</tr>
<tr>
<td><code>0 0/5 14 * * ?</code></td>
<td>Fire every 5 minutes starting at 2pm and ending at 2:55pm, every day</td>
</tr>
<tr>
<td><code>0 0/5 14,18 * * ?</code></td>
<td>Fire every 5 minutes starting at 2pm and ending at 2:55pm, AND fire every 5 minutes starting at 6pm and ending at 6:55pm, every day</td>
</tr>
<tr>
<td><code>0 0-5 14 * * ?</code></td>
<td>Fire every minute starting at 2pm and ending at 2:05pm, every day</td>
</tr>
<tr>
<td><code>0 10,44 14 ? 3 WED</code></td>
<td>Fire at 2:10pm and at 2:44pm every Wednesday in the month of March.</td>
</tr>
<tr>
<td><code>0 15 10 ? * MON-FRI</code></td>
<td>Fire at 10:15am every Monday, Tuesday, Wednesday, Thursday and Friday</td>
</tr>
<tr>
<td><code>0 15 10 15 * ?</code></td>
<td>Fire at 10:15am on the 15th day of every month</td>
</tr>
<tr>
<td><code>0 15 10 L * ?</code></td>
<td>Fire at 10:15am on the last day of every month</td>
</tr>
<tr>
<td><code>0 15 10 ? * 6L</code></td>
<td>Fire at 10:15am on the last Friday of every month</td>
</tr>
<tr>
<td><code>0 15 10 ? * 6L</code></td>
<td>Fire at 10:15am on the last Friday of every month</td>
</tr>
<tr>
<td><code>0 15 10 ? * 6L 2002-2005</code></td>
<td>Fire at 10:15am on every last friday of every month during the years 2002, 2003, 2004 and 2005</td>
</tr>
<tr>
<td><code>0 15 10 ? * 6#3</code></td>
<td>Fire at 10:15am on the third Friday of every month</td>
</tr>
<tr>
<td><code>0 0 12 1/5 * ?</code></td>
<td>Fire at 12pm (noon) every 5 days every month, starting on the first day of the month.</td>
</tr>
<tr>
<td><code>0 11 11 11 11 ?</code></td>
<td>Fire every November 11th at 11:11am.</td>
</tr>
</tbody>
</table>
<p>Pay attention to the effects of &lsquo;?&rsquo; and &lsquo;*&rsquo; in the day-of-week and day-of-month fields!</p>
<p><strong>Notes</strong></p>
<ul>
<li>Support for specifying both a day-of-week and a day-of-month value is not complete (you must currently use the &lsquo;?&rsquo; character in one of these fields).</li>
<li>Be careful when setting fire times between mid-night and 1:00 AM - &ldquo;daylight savings&rdquo; can cause a skip or a repeat depending on whether the time moves back or jumps forward.</li>
</ul>
<p><a href="#top">top</a></p>
<h2 id="artifacts">&lt;artifacts&gt;</h2>
<p>The <code>&lt;artifacts&gt;</code> element can be used to define information related to artifacts.In this, artifact directory can be defined using  <a href="#artifactDir"><code>&lt;artifactsDir&gt;</code></a> and purge settings can be using <a href="#purgeSettings"><code>&lt;purgeSettings&gt;</code></a></p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;artifacts&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;artifactsDir&gt;</span>artifacts<span style="color:#008000;font-weight:bold">&lt;/artifactsDir&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;purgeSettings&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;purgeStartDiskSpace&gt;</span>30.0<span style="color:#008000;font-weight:bold">&lt;/purgeStartDiskSpace&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;purgeUptoDiskSpace&gt;</span>60.0<span style="color:#008000;font-weight:bold">&lt;/purgeUptoDiskSpace&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/purgeSettings&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/artifacts&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="artifactDir">&lt;artifactDir&gt;</h2>
<p>The <code>&lt;artifactsDir&gt;</code> element is used to define the directory where GoCD will store its information, including artifacts published by jobs.The <strong>default value</strong> is &lsquo;artifacts&rsquo; in the folder where the GoCD Server is installed. You can use an absolute path or a relative path which will take the server installed directory as the root.</p>
<p><strong>Notes:</strong></p>
<p>If you specify the attribute, please check whether GoCD has permission to access that directory. Also you should be aware of that changing this value while Go Server is running won&rsquo;t take effect until GoCD Server is restarted.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;artifacts&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;artifactsDir&gt;</span>artifacts<span style="color:#008000;font-weight:bold">&lt;/artifactsDir&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/artifacts&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="purgeSettings">&lt;purgeSettings&gt;</h2>
<p>The <code>&lt;purgeSettings&gt;</code> element is used to configure GoCD to automatically delete old artifacts when the available disk space on the server is low.</p>
<p>The <code>&lt;purgeSettings&gt;</code> can be configured with <code>&lt;purgeStartDiskSpace&gt;</code> and <code>&lt;purgeUptoDiskSpace&gt;</code>. If available disk space on the server is lower than <code>&lt;purgeStartDiskSpace&gt;</code> GB, GoCD will purge old artifacts till the available disk space is greater than <code>&lt;purgeUptoDiskSpace&gt;</code>GB.</p>
<p><strong>Notes</strong></p>
<ul>
<li>
<p>Artifacts will never be deleted if <code>purgeStartDiskSpace</code> and <code>purgeUptoDiskSpace</code> are not defined.</p>
</li>
<li>
<p>If <code>purgeStartDiskSpace</code> is defined,<code>purgeUptoDiskSpace</code>should be defined.</p>
</li>
</ul>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;purgeSettings&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;purgeStartDiskSpace&gt;</span>30.0<span style="color:#008000;font-weight:bold">&lt;/purgeStartDiskSpace&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;purgeUptoDiskSpace&gt;</span>60.0<span style="color:#008000;font-weight:bold">&lt;/purgeUptoDiskSpace&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/purgeSettings&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="purgeStartDiskSpace">&lt;purgeStartDiskSpace&gt;</h2>
<p>The <code>&lt;purgeStartDiskSpace&gt;</code> element is used to define the limit of available disk space. If actual available disk space is less than the limit, GoCD will start purging the artifacts.</p>
<p><strong>Notes</strong></p>
<ul>
<li>It should be smaller than <code>&lt;purgeUptoDiskSpace&gt;</code>.</li>
</ul>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;purgeSettings&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;purgeStartDiskSpace&gt;</span>30.0<span style="color:#008000;font-weight:bold">&lt;/purgeStartDiskSpace&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/purgeSettings&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="purgeUptoDiskSpace">&lt;purgeUptoDiskSpace&gt;</h2>
<p>The <code>&lt;purgeUptoDiskSpace&gt;</code> element is used to define the limit of available disk space. GoCD will stop purging artifacts, when the available disk space reaches the specified limit.</p>
<p><strong>Notes</strong></p>
<ul>
<li>It should be greater than <code>&lt;purgeStartDiskSpace&gt;</code>.</li>
</ul>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;purgeSettings&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;purgeUptoDiskSpace&gt;</span>30.0<span style="color:#008000;font-weight:bold">&lt;/purgeUptoDiskSpace&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/purgeSettings&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="ldap">&lt;ldap&gt; [<em>Deprecated</em>]</h2>
<p>The <code>&lt;ldap&gt;</code> element is used to specify the ldap server. Users can access
with their username and password from this ldap server.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>uri</td>
<td>Yes</td>
<td>uri for the ldap server. For example, uri=&ldquo;ldap://ldap.yourcompany.com&rdquo;</td>
</tr>
<tr>
<td>managerDn</td>
<td>Yes</td>
<td>For example, managerDn=&ldquo;cn=Active Directory Ldap User,ou=InformationSystems,ou=SharedAccounts,ou=Principal,dc=xxxxx,dc=yyyy,dc=com&rdquo;</td>
</tr>
<tr>
<td>managerPassword</td>
<td>Yes</td>
<td>Go will connect to the LDAP server with this password</td>
</tr>
<tr>
<td>searchFilter</td>
<td>No</td>
<td>e.g. searchFilter=&quot;(sAMAccountName={0})&quot;</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;security&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;ldap</span> <span style="color:#b44">uri=</span><span style="color:#b44">&#34;ldap://xxx.yourcompany.com&#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#b44">managerDn=</span><span style="color:#b44">&#34;cn=Acitivity Directory LDap User,ou=InformationSystems,ou=SharedAccounts,ou=Principal,dc=xxxx,dc=yyyy,dc=com&#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#b44">managerPassword=</span><span style="color:#b44">&#34;password&#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#b44">searchFilter=</span><span style="color:#b44">&#34;(sAMAccountName={0})&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;bases&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;base</span> <span style="color:#b44">value=</span><span style="color:#b44">&#34;ou=Employees,ou=Enterprise,ou=Principal,dc=xxxx,dc=yyyy,dc=com&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/bases&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;passwordFile</span> <span style="color:#b44">path=</span><span style="color:#b44">&#34;/home/go/admins.properties&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;roles&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;role</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;go-admin&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>Jez<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/roles&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;admins&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;role&gt;</span>go-admin<span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/admins&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/security&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="bases">&lt;bases&gt;</h2>
<p>The <code>&lt;bases&gt;</code> element is used to specify a list of search bases (the distinguished name of the search base object) which defines
the location in the directory from which the LDAP search begins.</p>
<p><a href="#top">top</a></p>
<h2 id="base">&lt;base&gt;</h2>
<p>The <code>&lt;base&gt;</code> element is used to specify a search base (the distinguished name of the search base object) defines the location in
the directory from which the LDAP search begins.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>value</td>
<td>Yes</td>
<td>The search base.</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;ldap</span> <span style="color:#b44">uri=</span><span style="color:#b44">&#34;ldap://xxx.yourcompany.com&#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#b44">managerDn=</span><span style="color:#b44">&#34;cn=Acitivity Directory LDap User,ou=InformationSystems,ou=SharedAccounts,ou=Principal,dc=xxxx,dc=yyyy,dc=com&#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#b44">managerPassword=</span><span style="color:#b44">&#34;password&#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#b44">searchFilter=</span><span style="color:#b44">&#34;(sAMAccountName={0})&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;bases&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;base</span> <span style="color:#b44">value=</span><span style="color:#b44">&#34;ou=Employees,ou=Enterprise,ou=Principal,dc=xxxx,dc=yyyy,dc=com&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/bases&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/ldap&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="passwordFile">&lt;passwordFile&gt; [<em>Deprecated</em>]</h2>
<p>The <code>&lt;passwordFile&gt;</code> element is used to specify a file which has a set of username and password pairs. The format of username and password in this file is ${username}=${password which has been encrypted with SHA1}, with one line per user.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>path</td>
<td>Yes</td>
<td>The absolute path of the password file.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p>Suppose the password file is <strong>admins.properties</strong>, which is located in <strong>/home/go</strong>. You want to create two users as Administrators:</p>
<ul>
<li>one username is <strong>Jez</strong>, the password encrypted with SHA1 is <strong>ThmbShxAtJepX80c2JY1FzOEmUk=</strong></li>
<li>the other one is <strong>lqiao</strong>, the password encrypted with SHA1 is <strong>TfkgShslgJepX80c2JY1trwEskT=</strong></li>
</ul>
<p>The configuration could look like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;security&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;passwordFile</span> <span style="color:#b44">path=</span><span style="color:#b44">&#34;/home/go/admins.properties&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/security&gt;</span>
</span></span></code></pre></div><p>The username and password could be set in admins.properties as follows:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#b8860b">Jez</span><span style="color:#666">=</span>ThmbShxAtJepX80c2JY1FzOEmUk
</span></span><span style="display:flex;"><span><span style="color:#b8860b">lqiao</span><span style="color:#666">=</span>TfkgShslgJepX80c2JY1trwEskT
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="authConfigs">&lt;authConfigs&gt;</h2>
<p>Using <code>&lt;authConfigs&gt;</code> element GoCD administrators can provide one or more authorization configurations to connect with the authorization server(s).</p>
<p><strong>Example</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;authConfigs&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;authConfig</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;file-auth-config&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;cd.go.authentication.passwordfile&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/authConfig&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;authConfig</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;ldap&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;cd.go.authentication.ldap&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/authConfig&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/authConfigs&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="authConfig">&lt;authConfig&gt;</h2>
<p>The <code>&lt;authConfig&gt;</code> specifies the <a href="#property">configuration</a> to be used by the authorization plugin. This will usually allow administrators to configure the connection settings for your authorization plugin, and may include configuration like URLs and credentials, among others.</p>
<p>An <code>authConfig</code> should have a unique <code>id</code> attribute and should be associated to plugin through the <code>pluginId</code> attribute.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Unique Id of authConfig.</td>
</tr>
<tr>
<td>pluginId</td>
<td>Yes</td>
<td>The Id of authorization plugin.</td>
</tr>
<tr>
<td>allowOnlyKnownUsersToLogin</td>
<td>No</td>
<td>Allow only those users to login who have been explicitly added by an admin. If false, any new user who tries to login and is present in your password file or LDAP will be automatically created as a Go user. (Default=false)</td>
</tr>
</tbody>
</table>
<p>Refer to your plugin&rsquo;s documentation to know the <code>property</code> keys to be configured.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;authConfig</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;file-auth-config&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;cd.go.authentication.passwordfile&#34;</span> <span style="color:#b44">allowOnlyKnownUsersToLogin=</span><span style="color:#b44">&#34;false&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>PasswordFilePath<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>/etc/go/password.properties<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/authConfig&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="roles">&lt;roles&gt;</h2>
<p>The <code>&lt;roles&gt;</code> element is a container for roles that users defined. It can&rsquo;t be defined without <code>&lt;role&gt;</code>.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;security&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;roles&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;role</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;go-admin&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>Jez<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/roles&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/security&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="role_definition">&lt;role&gt;</h2>
<p>The <code>&lt;role&gt;</code> element is used to define a group of users who perform similar tasks. Optionally, the <code>&lt;role&gt;</code> element can specify a policy which defines the permission model for the users defined as part of the current role.
In a <code>&lt;role&gt;</code> element, Users are added by adding the sub-tag <a href="#usersinrole"><code>&lt;users&gt;</code></a> and Policy is added by adding the sub-tag <a href="#policyinrole"><code>&lt;policy&gt;</code></a>.</p>
<p><strong>Notes:</strong></p>
<ul>
<li>If you want to define roles, you must define an authentication method, either <a href="#ldap"><code>&lt;ldap&gt;</code></a> or <a href="#passwordFile"><code>&lt;passwordFile&gt;</code></a>.</li>
<li>These roles are not associated with roles defined in LDAP; they only work within Go. For example, you can assign a role to the <a href="#approval">manual-approval</a> in a stage, so that only the users in that role can approve the stage to run.</li>
</ul>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>The name of the role.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p>Two users would be in the role &rsquo;environment-operators&rsquo;, they are <strong>Jez</strong> and <strong>lqiao</strong> have access to administer all the environments expect environments matching <code>prod_*</code> name.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;roles&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;role</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;environment-operators&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;policy&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;deny</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;environment&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>prod_*<span style="color:#008000;font-weight:bold">&lt;/deny&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;environment&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/policy&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;users&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>Jez<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/users&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/roles&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="usersinrole">&lt;users&gt;</h2>
<p>List of users in a role.</p>
<p><a href="#top">top</a></p>
<p>One <code>&lt;user&gt;</code> element defines a particular user in a role. You can add as many as you like.</p>
<h2 id="userinrole">&lt;user&gt;</h2>
<p>One <code>&lt;user&gt;</code> element defines a particular user in a role. You can add as many as you like.</p>
<p><strong>Notes:</strong></p>
<ul>
<li>The user must be in your <a href="#ldap">LDAP</a> or <a href="#passwordFile">passwordFile</a>.</li>
</ul>
<p><strong>Examples</strong></p>
<p>Two users would be in the role &lsquo;pipeline-operators&rsquo;, they are <strong>Jez</strong> and <strong>lqiao</strong>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;role</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;pipeline-operators&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;users&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>Jez<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/users&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span></code></pre></div><h2 id="policyinrole">&lt;policy&gt;</h2>
<p>The <code>&lt;policy&gt;</code> element defines the permissions for the users belonging to the users of a role.</p>
<p>In a <code>&lt;policy&gt;</code> element, the <em>allow</em> permission can added by adding the sub-tag <a href="#allow_permission_in_policy"><code>&lt;allow&gt;</code></a> and <em>deny</em> permission can be added by adding the sub-tag <a href="#deny_permission_in_policy"><code>&lt;deny&gt;</code></a>.</p>
<p><strong>Examples</strong></p>
<p>The following policy would grant users the permissions to <code>administer</code> to all environments expect environments matching <code>prod_*</code> name.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;policy&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;deny</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;environment&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>prod_*<span style="color:#008000;font-weight:bold">&lt;/deny&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;environment&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/policy&gt;</span>
</span></span></code></pre></div><h2 id="allow_permission_in_policy">&lt;allow&gt;</h2>
<p>The <code>&lt;allow&gt;</code> element under <code>policy</code> grants permissions to the defined GoCD entity based on the type, action and resource.</p>
<p>The value of the <code>allow</code> element defines the resource on which policy should be applied.</p>
<p><strong>Notes:</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>The type of the GoCD entity to grant permissions on. The supported values for type are <code>environment</code> and <code>config_repo</code>.</td>
</tr>
<tr>
<td>action</td>
<td>Yes</td>
<td>The operation that can be performed on the GoCD entity. The supported values for action are <code>administer</code> and <code>view</code>.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p>The following policy would grant users the permissions to <code>administer</code> to all environments matching <code>prod_*</code> name.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;environment&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>prod_*<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span></code></pre></div><p>An administrator can use <code>*</code> to provide allow access of all type and action.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;*&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;*&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span></code></pre></div><h2 id="deny_permission_in_policy">&lt;deny&gt;</h2>
<p>The <code>&lt;deny&gt;</code> element under <code>policy</code> deny the access to the defined GoCD entity based on the type, action and resource.</p>
<p>The value of the <code>deny</code> element defines the resource on which policy should be applied.</p>
<p><strong>Notes:</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>The type of the GoCD entity to deny the access on. The supported values for type are <code>environment</code> and <code>config_repo</code>.</td>
</tr>
<tr>
<td>action</td>
<td>Yes</td>
<td>The operation that can not be performed on the GoCD entity. The supported values for action are <code>administer</code> and <code>view</code>.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p>The following policy would deny the <code>administer</code> access to all environments matching <code>prod_*</code> name.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;deny</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;environment&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>prod_*<span style="color:#008000;font-weight:bold">&lt;/deny&gt;</span>
</span></span></code></pre></div><p>An administrator can use <code>*</code> to deny all the access of all type and action.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;deny</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;*&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;*&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*<span style="color:#008000;font-weight:bold">&lt;/deny&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="plugin_role_definition">&lt;pluginRole&gt;</h2>
<p>The <code>&lt;pluginRole&gt;</code> element is used to define roles in GoCD. Unlike <code>role</code> which contains a list of <code>users</code>, <code>pluginRole</code> provides <a href="#property">configuration</a> to map a GoCD role to a role defined in an external authorization server managed by an Authorization plugin. e.g pluginRole can be used to define mappings between LDAP group and GoCD roles.</p>
<p>Optionally, the <code>&lt;pluginRole&gt;</code> element can specify a <a href="#policyinrole">policy</a> which defines the permission model for the users of the current role.</p>
<p><strong>Notes:</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>The name of the role.</td>
</tr>
<tr>
<td>authConfigId</td>
<td>Yes</td>
<td>Id of an <a href="#authConfig">authorization config</a>.</td>
</tr>
</tbody>
</table>
<p>Refer to your plugin&rsquo;s documentation to know the <code>property</code> keys to be configured for the <code>pluginRole</code>.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;roles&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pluginRole</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;SuperAdmin&#34;</span> <span style="color:#b44">authConfigId=</span><span style="color:#b44">&#34;auth_config_id&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;policy&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;deny</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;environment&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>prod_*<span style="color:#008000;font-weight:bold">&lt;/deny&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;administer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;environment&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/policy&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>MemberOfAttribute<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>memberOf<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>MatchingGroups<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>CN=Dev,OU=Groups,DC=some,DC=enterprise,DC=com<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pluginRole&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/roles&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="admins">&lt;admins&gt;</h2>
<p>The <code>&lt;admins&gt;</code> element specifies which users are administrators. Only administrators can open the Administration tab to maintain Go Configuration. Administrators can perform all functions in Go (including triggering pipelines, deploying to environments etc.)</p>
<p><strong>Notes:</strong></p>
<p>The user must be in your <a href="#ldap">LDAP</a> or <a href="#passwordFile">passwordFile</a>.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;security&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;admins&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;role&gt;</span>go-admin<span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/admins&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/security&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="roleinadmin">&lt;role&gt;</h2>
<p>One <code>&lt;role&gt;</code> element in <a href="#admins"><code>&lt;admins&gt;</code></a> is used to specify a group as administrators. You can add as many as you like.</p>
<p><strong>Notes:</strong></p>
<ul>
<li>The role must refer to <a href="#roles"><code>&lt;roles&gt;</code></a>.</li>
</ul>
<p><strong>Examples</strong></p>
<p>The users in role &lsquo;<strong>go-admin</strong>&rsquo; would be administrators.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;admins&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;role&gt;</span>go-admin<span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/admins&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="user">&lt;user&gt;</h2>
<p><strong>Notes:</strong></p>
<ul>
<li>The user must be in your <a href="#ldap">LDAP</a> or <a href="#passwordFile">passwordFile</a>.</li>
</ul>
<p><strong>Examples</strong></p>
<p>Two users would be administrators, they are <strong>Jez</strong> and <strong>lqiao</strong>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;admins&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>Jez<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/admins&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="role">&lt;role&gt;</h2>
<p><strong>Notes:</strong></p>
<ul>
<li>The role must be defined in <a href="#roles"><code>&lt;roles&gt;</code></a>.</li>
</ul>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;view&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;user&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;role&gt;</span>_readonly_member<span style="color:#008000;font-weight:bold">&lt;role&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/view&gt;</span>
</span></span></code></pre></div><h2 id="elastic">&lt;elastic&gt;</h2>
<p>The <code>&lt;elastic&gt;</code> element is used to provide configurations for the elastic agents.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>jobStarvationTimeout</td>
<td>No</td>
<td>Timeout in minutes. If a job that requires an elastic agent is not assigned within the specified period, the elastic agent plugin will be <a href="https://plugin-api.gocd.org/current/elastic-agents/#create-agent">notified</a> to create a new elastic agent.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;elastic</span> <span style="color:#b44">jobStarvationTimeout=</span><span style="color:#b44">&#34;10&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;agentProfiles&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;agentProfile</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;aws.small&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;aws&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/agentProfile&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/agentProfiles&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/elastic&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="agentProfiles">&lt;agentProfiles&gt;</h2>
<p><code>&lt;agentProfiles&gt;</code> element specifies the profiles to configure elastic agents.</p>
<p>There can be zero or more profiles.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;agentProfiles&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;agentProfile</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;aws.small&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;aws&#34;</span> <span style="color:#b44">clusterProfileId=</span><span style="color:#b44">&#34;cluster-profile-id&#34;</span> <span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/agentProfile&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/agentProfiles&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="agentProfile">&lt;agentProfile&gt;</h2>
<p><code>&lt;agentProfile&gt;</code> specifies the <a href="#property">configuration</a> to be used to create an elastic-agent instance.
A profile should have a unique <code>id</code> attribute, should be associated with a cluster via <code>clusterProfileId</code> attribute and with plugin through the <code>pluginId</code> attribute.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Unique Id of profile.</td>
</tr>
<tr>
<td>pluginId</td>
<td>Yes</td>
<td>The Id of elastic-agent plugin.</td>
</tr>
<tr>
<td>clusterProfileId</td>
<td>Yes</td>
<td>The Id of cluster profile.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;agentProfile</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;ec2.small-us-east&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;com.example.ec2&#34;</span> <span style="color:#b44">clusterProfileId=</span><span style="color:#b44">&#34;cluster-profile-id&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>ami-id<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>ami-6ac7408f<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>region<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>us-east-1<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/agentProfile&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="clusterProfiles">&lt;clusterProfiles&gt;</h2>
<p><code>&lt;clusterProfiles&gt;</code> element specifies the profiles to configure clusters.</p>
<p>There can be zero or more cluster profile.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;clusterProfiles&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;clusterProfile</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;cluster.small&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;aws&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/clusterProfile&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/clusterProfiles&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="clusterProfile">&lt;clusterProfile&gt;</h2>
<p><code>&lt;clusterProfile&gt;</code> specifies the <a href="#property">configuration</a> to be used to to create/manage a cluster.
A cluster profile should have a unique <code>id</code> attribute and should be associated to plugin through the <code>pluginId</code> attribute.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Unique Id of cluster profile.</td>
</tr>
<tr>
<td>pluginId</td>
<td>Yes</td>
<td>The Id of elastic-agent plugin.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;clusterProfile</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;cluster-us-east&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;com.example.ec2&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>GoServerUrl<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>https://your-server-host/go<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>ClusterName<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>Cluster<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/profile&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="config-repos">&lt;config-repos&gt;</h2>
<p>The <code>&lt;config-repos&gt;</code> element is a container of many <code>&lt;config-repo&gt;</code>.</p>
<p><strong>Example</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;config-repos&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;config-repo</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;json.config.plugin&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;gocd-json-config-example&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;git</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;https://github.com/tomzo/gocd-json-config-example.git&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/config-repo&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;config-repo</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;yaml.config.plugin&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;gocd-yaml-config-example&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;git</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;https://github.com/tomzo/gocd-yaml-config-example.git&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>file_pattern<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>**/*.gocd.yaml<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/config-repo&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/config-repos&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="config-repo">&lt;config-repo&gt;</h2>
<p>The <code>&lt;config-repo&gt;</code> element specifies a single configuration repository. It must contain exactly one SCM material and may contain additional configuration section.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>pluginId</td>
<td>Yes</td>
<td>The ID of configuration repository plugin. E.g. <code>json.config.plugin</code>.</td>
</tr>
<tr>
<td>id</td>
<td>Yes</td>
<td>The ID of the configuration repository. ID must be a unique alphanumeric string. It can also contain <code>-</code>,<code>_</code>,<code>.</code>.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;config-repos&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;config-repo</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;yaml.config.plugin&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;gocd-yaml-config-example&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;git</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;https://github.com/tomzo/gocd-yaml-config-example.git&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>file_pattern<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>**/*.gocd.yaml<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/config-repo&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/config-repos&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><strong>&lt;configuration&gt; {#config-repo-configuration}</strong></p>
<p>The <code>&lt;configuration&gt;</code> element is optional part of config repo definition.
Keys and values are specified and handled by particular plugin. This section
can be used to <strong>customize how config repo plugin works when parsing this specific repository</strong>.</p>
<p>#<strong>Example</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>file_pattern<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>*.go.yaml<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>allowed_pipelines_regex<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>project-X-.*<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="config-repo-svn">&lt;svn&gt;</h2>
<p>The config repo <code>&lt;svn&gt;</code> material element specifies the location of your code base in Subversion repository.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL for the remote repository. Go supports the following protocols for subversion: http, https, svn and svn+ssh, but does not support &lsquo;file:///&rsquo;.</td>
</tr>
<tr>
<td>username</td>
<td>No</td>
<td>The user account for the remote repository.</td>
</tr>
<tr>
<td>password</td>
<td>No</td>
<td>The password for the specified user</td>
</tr>
<tr>
<td>encryptedPassword</td>
<td>No</td>
<td>The encrypted password for the specified user</td>
</tr>
<tr>
<td>checkexternals</td>
<td>No</td>
<td>The default value is false, the value should be either one of true/false or 1/0. &rsquo;true&rsquo; or &lsquo;1&rsquo; means that the changes of externals will be included as part of configuration.</td>
</tr>
<tr>
<td>materialName</td>
<td>No</td>
<td>The name to identify a material. Material name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen, but whitespace is not allowed. A material name is case insensitive and starting with fullstop is invalid. The max length is 255 characters.</td>
</tr>
<tr>
<td>autoUpdate</td>
<td>No</td>
<td>By default Go polls the repository for changes automatically. If autoUpdate is set to false then Go will not poll the repository for changes. For config repo materials, autoUpdate is always set to true.</td>
</tr>
</tbody>
</table>
<p><strong>Notes:</strong></p>
<p>Go cannot automatically accept svn SSL certificates. If you are using https for svn repository, you have to go to the Server,
and as the user &lsquo;go&rsquo; do a command &ldquo;svn update&rdquo; to store the certificates in the cache permanently.</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;config-repo</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;json.config.plugin&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;repo1&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;svn</span>  <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://svn-server.com/framework&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/config-repo&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="config-repo-hg">&lt;hg&gt;</h2>
<p>The config repo <code>&lt;hg&gt;</code> material element specifies the location of your code base in a Mercurial repository. Go supports the following protocols for Mercurial: http, ssh.</p>
<p><strong>Notes:</strong></p>
<p>You must install Mercurial 1.5 or above on the Go Server. Go does not ship with Mercurial.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL to fetch source code from the Mercurial repository. If you specify the username and password for the Mercurial repository, you should put them into the url. Mercurial supports an optional identifier after # in the url, which indicates a particular branch, tag or changeset. This option can be used to configure mercurial branches in Go.</td>
</tr>
<tr>
<td>materialName</td>
<td>No</td>
<td>The name to identify a material. Material name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed. Material name is case insensitive. The max length is 255 characters.</td>
</tr>
<tr>
<td>autoUpdate</td>
<td>No</td>
<td>By default Go polls the repository for changes automatically. If autoUpdate is set to false then Go will not poll the repository for changes. For config repo materials, autoUpdate is always set to true.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;config-repo</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;json.config.plugin&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;repo1&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;hg</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://username:password@your-hg/&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/config-repo&gt;</span>
</span></span></code></pre></div><p>#<strong>Specifying a mercurial branch.</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;config-repo</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;json.config.plugin&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;repo1&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;hg</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://username:password@your-hg#branch_name&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/config-repo&gt;</span>
</span></span></code></pre></div><p>Note: Do not use <strong>configrepo</strong> material type for config-repo pipeline material configuration when using mercurial branch as it will result in merge error.</p>
<p><a href="#top">top</a></p>
<h2 id="config-repo-p4">&lt;p4&gt;</h2>
<p>The config repo <code>&lt;p4&gt;</code> material element specifies the location of your code base in a Perforce repository.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>port</td>
<td>Yes</td>
<td>Perforce server connection to use (host:port). This is the same as you would pass in the p4port parameter for the p4 command line or in the P4PORT environment variable.</td>
</tr>
<tr>
<td>username</td>
<td>No</td>
<td>Perforce username to use.</td>
</tr>
<tr>
<td>password</td>
<td>No</td>
<td>Password for the specified user.</td>
</tr>
<tr>
<td>encryptedPassword</td>
<td>No</td>
<td>Encrypted Password for the specified user.</td>
</tr>
<tr>
<td>useTickets</td>
<td>No</td>
<td>Set to true to work with perforce tickets. Go will do a p4 login using the supplied password before each command. We recommend that you make your user a part of a p4 group, and set the ticket timeout to unlimited as described <a href="https://www.perforce.com/manuals/cmdref/Content/CmdRef/p4_login.html">here</a>.</td>
</tr>
<tr>
<td>view</td>
<td>Yes</td>
<td>Valid Perforce view. The view should be a sub-element of P4. Click <a href="https://www.perforce.com/perforce/doc.082/manuals/p4guide/02_config.html#1066090">here</a> to see details about VIEW of Perforce.</td>
</tr>
<tr>
<td>materialName</td>
<td>No</td>
<td>The name to identify a material. Material name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed. Material name is case insensitive. The max length is 255 characters.</td>
</tr>
<tr>
<td>autoUpdate</td>
<td>No</td>
<td>By default Go polls the repository for changes automatically. If autoUpdate is set to false then Go will not poll the repository for changes. For config repo materials, autoUpdate is always set to true.</td>
</tr>
</tbody>
</table>
<p><strong>Notes:</strong></p>
<p>Views consist of multiple mappings. Each mapping has two parts:</p>
<ol>
<li>The left-hand side specifies one or more files in the depot and has the form: //depotname/file_specification</li>
<li>The right-hand side specifies one or more files in the client workspace and has the form: //clientname/file_specification</li>
</ol>
<p>Go creates a p4 client to check out files into its sandbox with the &lsquo;clobber&rsquo; option set. All other options use default values as defined by Perforce. Client name is generated automatically by Go. Hence, you can use anything as &lsquo;clientname&rsquo; on the right-hand side in view mapping. The client name format is: cruise-[hostname]-[config repo id]-[a random hash code], for example &ldquo;cruise-myhostname-configrepo1-wOaJ9kjpfgOLQCncki19ikXt5Q&rdquo;.</p>
<p>Go views are in the same format as that used by Perforce itself. In fact you should be able to copy a Perforce view from your existing Perforce
setup and paste it into the view section.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;config-repo</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;json.config.plugin&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;repo1&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;p4</span> <span style="color:#b44">port=</span><span style="color:#b44">&#34;10.18.3.102:1666&#34;</span> <span style="color:#b44">username=</span><span style="color:#b44">&#34;userName&#34;</span> <span style="color:#b44">password=</span><span style="color:#b44">&#34;passwd&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;view&gt;</span><span style="color:#080">&lt;![CDATA[
</span></span></span><span style="display:flex;"><span><span style="color:#080">    //depot/dev/src...          //anything/src/...
</span></span></span><span style="display:flex;"><span><span style="color:#080">    //depot/dev/test...         //anything/test/...
</span></span></span><span style="display:flex;"><span><span style="color:#080">    //depot/dev/main/docs/...   //anything/docs/...
</span></span></span><span style="display:flex;"><span><span style="color:#080">      ]]&gt;</span><span style="color:#008000;font-weight:bold">&lt;/view&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/p4&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/config-repo&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="config-repo-git">&lt;git&gt;</h2>
<p>The config repo <code>&lt;git&gt;</code> material element specifies the location of your code base in a GIT repository. Go only supports remote repositories.</p>
<p><strong>Notes:</strong></p>
<p>git versions 1.9 and above are supported by Go.</p>
<p>If &lsquo;branch&rsquo; is defined, Go will check out the specified branch. Otherwise, Go will check out the master branch.</p>
<p>If there are submodules in the repository, Go will check out them as well.</p>
<p>While installing msysGit On Windows machines for Go server, please choose Option iii, namely <em>Run Git and included UNIX tools from
windows command prompt</em></p>
<p>If you are using git through SSH on windows, please ensure that the HOME user environment variable is set to the full path of the parent
directory where the .ssh/ directory is located.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>Yes</td>
<td>git url for the repository.</td>
</tr>
<tr>
<td>branch</td>
<td>No</td>
<td>a branch name in the repository.</td>
</tr>
<tr>
<td>materialName</td>
<td>No</td>
<td>The name to identify a material. Material name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed. Material name is case insensitive. The max length is 255 characters.</td>
</tr>
<tr>
<td>autoUpdate</td>
<td>No</td>
<td>By default Go polls the repository for changes automatically. If autoUpdate is set to false then Go will not poll the repository for changes. For config repo materials, autoUpdate is always set to true.</td>
</tr>
</tbody>
</table>
<p><strong>Examples are:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;config-repo</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;json.config.plugin&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;repo1&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;git</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;git://127.0.0.1/precommit.git&#34;</span> <span style="color:#b44">branch=</span><span style="color:#b44">&#34;1.3branch&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/config-repo&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="config-repo-tfs">&lt;tfs&gt;</h2>
<p>The config repo <code>&lt;tfs&gt;</code> material element specifies the location of your code base in a TFS Source repository.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>Yes</td>
<td>url for the Collection on the TFS Server.</td>
</tr>
<tr>
<td>Domain</td>
<td>No</td>
<td>Domain name for TFS authentication credentials.</td>
</tr>
<tr>
<td>Username</td>
<td>Yes</td>
<td>Username of the account to access the TFS collection.</td>
</tr>
<tr>
<td>Password</td>
<td>Yes</td>
<td>Password of the account to access the TFS collection.</td>
</tr>
<tr>
<td>encryptedPassword</td>
<td>No</td>
<td>Encrypted Password of the account to access the TFS collection.</td>
</tr>
<tr>
<td>Project Path</td>
<td>Yes</td>
<td>The project path within the TFS collection.</td>
</tr>
<tr>
<td>materialName</td>
<td>No</td>
<td>The name to identify a material. Material name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed. Material name is case insensitive. The max length is 255 characters.</td>
</tr>
<tr>
<td>autoUpdate</td>
<td>No</td>
<td>By default Go polls the repository for changes automatically. If autoUpdate is set to false then Go will not poll the repository for changes. For config repo materials, autoUpdate is always set to true.</td>
</tr>
</tbody>
</table>
<p><strong>Examples are:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;config-repo</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;json.config.plugin&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;repo1&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;tfs</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://10.21.3.210:8080/tfs/New&#34;</span> <span style="color:#b44">domain=</span><span style="color:#b44">&#34;DOMAIN&#34;</span> <span style="color:#b44">username=</span><span style="color:#b44">&#34;jim&#34;</span> <span style="color:#b44">password=</span><span style="color:#b44">&#34;as802nsk9==&#34;</span> <span style="color:#b44">projectPath=</span><span style="color:#b44">&#34;$/webapp&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/config-repo&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="config-repo-scm">&lt;scm&gt;</h2>
<p>The config repo <code>&lt;scm&gt;</code> material element specifies the location of your code base in any of the  SCM repositories.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ref</td>
<td>Yes</td>
<td>The unique package repository id.</td>
</tr>
</tbody>
</table>
<p><strong>Examples are:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;config-repo</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;json.config.plugin&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;repo1&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;scm</span> <span style="color:#b44">ref=</span><span style="color:#b44">&#34;e289f497-057b-46bc-bb69-8043454f5c1b&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/config-repo&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="config-repo-rules">&lt;rules&gt;</h2>
<p>The config repo <code>&lt;rules&gt;</code> rules element is a container for <code>allow</code> and <code>deny</code> rule. More about <code>rules</code> can be read from <a href="../advanced_usage/pipelines_as_code.html#specifying-rules">here</a>.</p>
<p><strong>Examples are:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;rules&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;refer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;environment&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>dev<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;deny</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;refer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;environment&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>prod<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/rules&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="config-repo-allow">&lt;allow&gt;</h2>
<p>The <code>&lt;allow&gt;</code> element is the rule which allows referring the specified configured type and resource.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>action</td>
<td>Yes</td>
<td>Action for the entity specified under attribute <code>type</code>. Supported values are <code>refer</code>.</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>The GoCD entity type for which rule will be applied. Supported values are <code>*, environment, pipeline_group, pipeline</code>.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;refer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;*&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="config-repo-deny">&lt;deny&gt;</h2>
<p>The <code>&lt;deny&gt;</code> element is the rule which denies the referral of the defined type and resource.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>action</td>
<td>Yes</td>
<td>Action for the entity specified under attribute <code>type</code>. Supported values are <code>refer</code>.</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>The GoCD entity type for which rule will be applied. Supported values are <code>*, environment, pipeline_group, pipeline</code>.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;deny</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;refer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;*&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*<span style="color:#008000;font-weight:bold">&lt;/deny&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="repositories">&lt;repositories&gt;</h2>
<p>The <code>&lt;repositories&gt;</code> element is a container of package repositories.</p>
<p><strong>Example</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;repositories&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;repository</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;repo-id&#34;</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;repo-name&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;pluginConfiguration</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;plugin-id&#34;</span> <span style="color:#b44">version=</span><span style="color:#b44">&#34;plugin-version&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>property-name<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>property-value<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;packages&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;package</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;package-id&#34;</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;package-name&#34;</span>  <span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>property-name<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>property-value<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/package&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/packages&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/repository&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/repositories&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="repository">&lt;repository&gt;</h2>
<p>The <code>&lt;repository&gt;</code> element specifies a single repository. Repository must be be unique by id and name (name is case-insensitive) across repositories configuration.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>No</td>
<td>The id uniquely identifies a package repository by GO. This attribute need not be specified. In case no value is given, server auto-generates a random UUID and assigns it as repository id.</td>
</tr>
<tr>
<td>name</td>
<td>Yes</td>
<td>The name uniquely identifies a package repository which will be specified by user and same will be used to display on screen. Repository name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed. Name is case-insensitive in Go and the length should be less than 255 characters.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;repositories&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;repository</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;repo-id&#34;</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;repo-name&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;pluginConfiguration</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;plugin-id&#34;</span> <span style="color:#b44">version=</span><span style="color:#b44">&#34;plugin-version&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>property-name<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>property-value<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;packages&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;package</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;package-id&#34;</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;package-name&#34;</span>  <span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>property-name<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>property-value<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/package&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/packages&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/repository&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/repositories&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="pluginConfiguration">&lt;pluginConfiguration&gt;</h2>
<p>The <code>&lt;pluginConfiguration&gt;</code> element specifies configuration related to plugin.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Specifies plugin id which is going to handle repository configuration</td>
</tr>
<tr>
<td>version</td>
<td>Yes</td>
<td>Specifies plugin version which is going to handle repository configuration</td>
</tr>
</tbody>
</table>
<p><a href="#top">top</a></p>
<h2 id="configuration">&lt;configuration&gt;</h2>
<p>The <code>&lt;configuration&gt;</code> element specifies configuration related repository or package as one or more properties.</p>
<p><a href="#top">top</a></p>
<h2 id="property">&lt;property&gt;</h2>
<p>The <code>&lt;property&gt;</code> element holds key and value.</p>
<p><a href="#top">top</a></p>
<h2 id="key">&lt;key&gt;</h2>
<p>The <code>&lt;key&gt;</code> element specifies name of property.</p>
<p><a href="#top">top</a></p>
<h2 id="value">&lt;value&gt;</h2>
<p>The <code>&lt;value&gt;</code> element specifies value of property.</p>
<p><a href="#top">top</a></p>
<h2 id="packages">&lt;packages&gt;</h2>
<p>The <code>&lt;packages&gt;</code> element specifies list of packages under a repository.</p>
<p><a href="#top">top</a></p>
<h2 id="package">&lt;package&gt;</h2>
<p>The <code>&lt;package&gt;</code> element specifies single package under a repository. This tag holds configuration related to package</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>No</td>
<td>The id uniquely identifies a package by GO across repositories. This attribute need not be specified. In case no value is given, server auto-generates a random UUID and assigns it as package id.</td>
</tr>
<tr>
<td>name</td>
<td>Yes</td>
<td>The name uniquely identifies a package within a repository, name will be specified by user and same will be used to display on screen. Package name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed. Name is case-insensitive in Go and the length should be less than 255 characters.</td>
</tr>
<tr>
<td>autoUpdate</td>
<td>No</td>
<td>By default Go polls the repository for changes automatically. If autoUpdate is set to false then Go will not poll the repository for changes. Instead it will check for changes only when you trigger a pipeline that contains this material.</td>
</tr>
</tbody>
</table>
<p><a href="#top">top</a></p>
<h2 id="artifactStores">&lt;artifactStores&gt;</h2>
<p>The <code>&lt;artifactStores&gt;</code> element is a container of many <code>&lt;artifactStore&gt;</code>.</p>
<p><strong>Example</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;artifactStores&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;artifactStore</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;dockerhub&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;cd.go.artifact.docker.registry&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>RegistryURL<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>https://index.docker.io/v1/<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>Username<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>boohoo<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>Password<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>password<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/artifactStore&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/artifactStores&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="artifactStore">&lt;artifactStore&gt;</h2>
<p>The <code>&lt;artifactStore&gt;</code> element specifies a global artifact store to publish/fetch external artifacts. It can contain zero or more <code>&lt;property&gt;</code> elements to specify the plugin properties.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>pluginId</td>
<td>Yes</td>
<td>The ID of artifact plugin. E.g. <code>cd.go.artifact.docker.registry</code>.</td>
</tr>
<tr>
<td>id</td>
<td>Yes</td>
<td>The ID of the artifact store. ID must be a unique alphanumeric string. It can also contain <code>-</code>,<code>_</code>,<code>.</code>. This will be used later in the publish config</td>
</tr>
</tbody>
</table>
<p><a href="#top">top</a></p>
<h2 id="secretConfigs">&lt;secretConfigs&gt;</h2>
<p>The <code>&lt;secretConfigs&gt;</code> element is a container of secret configurations.</p>
<p>There can be zero or more secret configurations.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;secretConfigs&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;secretConfig</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;secret&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;secret-plugin&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/secretConfig&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/secretConfigs&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="secretConfig">&lt;secretConfig&gt;</h2>
<p>The <code>&lt;secretConfig&gt;</code> element specifies a single secret configuration. It must be unique (including case) across the entire configuration.</p>
<p>A <code>secretConfig</code> should have a unique <code>id</code> attribute and should be associated to plugin through the <code>pluginId</code> attribute.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>The id is used to identify a secret config, and must be unique. The id can contain the following characters: a-z, A-Z, 0-9, period (.), underscore (_) and hyphen (-). Spaces are not allowed. The length should be less than 255 characters.</td>
</tr>
<tr>
<td>pluginId</td>
<td>Yes</td>
<td>The <code>id</code> of secrets plugin.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;secretconfig</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;secret&#34;</span> <span style="color:#b44">pluginId=</span><span style="color:#b44">&#34;secret-plugin&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>SecretsFilePath<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>/users/go/secret.db<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/secretconfig&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="description">&lt;description&gt;</h2>
<p>The <code>&lt;description&gt;</code> element specifies description for the element.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;description&gt;</span>
</span></span><span style="display:flex;"><span>This is a sample description.
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/description&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="rules">&lt;rules&gt;</h2>
<p>The <code>&lt;rules&gt;</code> element is a container for <code>allow</code> and <code>deny</code> rule. More about <code>rules</code> can be read from <a href="./secrets_management.html#more-about-rules">here</a>.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;rules&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;refer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;*&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;deny</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;refer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;*&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*<span style="color:#008000;font-weight:bold">&lt;/deny&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/rules&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="allow">&lt;allow&gt;</h2>
<p>The <code>&lt;allow&gt;</code> element is the rule which allows the usage of the defined secret based on action, configured type and resource.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>action</td>
<td>Yes</td>
<td>Action for the entity specified under attribute <code>type</code>.</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Any GoCD entity type for which rule will be applied.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;allow</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;refer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;*&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*<span style="color:#008000;font-weight:bold">&lt;/allow&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="deny">&lt;deny&gt;</h2>
<p>The <code>&lt;deny&gt;</code> element is the rule which denies the usage of the defined secret based on action, configured type and resource.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>action</td>
<td>Yes</td>
<td>Action for the entity specified under attribute <code>type</code>.</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>Any GoCD entity type for which rule will be applied.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;deny</span> <span style="color:#b44">action=</span><span style="color:#b44">&#34;refer&#34;</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;*&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>*<span style="color:#008000;font-weight:bold">&lt;/deny&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="pipelines">&lt;pipelines&gt;</h2>
<p>The <code>&lt;pipelines&gt;</code> element is a container of pipelines.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>group</td>
<td>No</td>
<td>The name is used to identify a pipeline group, and must be unique. The name can contain the following characters: a-z, A-Z, 0-9, period (.), underscore (_) and hyphen (-). Spaces are not allowed. The length should be less than 255 characters. The default name is &lsquo;defaultGroup&rsquo;.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;pipelines</span> <span style="color:#b44">group=</span><span style="color:#b44">&#34;studios&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span> <span style="color:#b44">labeltemplate=</span><span style="color:#b44">&#34;foo-1.0.${COUNT}&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;svn</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://your-svn/&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;stage</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;ut&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;jobs&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;linux&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>linux<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/resources&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;unit-test&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/jobs&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/stage&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/pipelines&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="authorization">&lt;authorization&gt;</h2>
<p>The <code>&lt;authorization&gt;</code> tag allows you to specify the what users and roles are able to administer, view or operate any particular group of pipelines.</p>
<p><a href="#top">top</a></p>
<h2 id="admins">&lt;admins&gt;</h2>
<p>The <code>&lt;admins&gt;</code> element is a permission section to specify who can administer the pipeline group. Go administrators can define roles and users in the tag.</p>
<p>Users and Roles defined as group admins can view and operate on all pipelines in this pipeline group. They are allowed to navigate to the admin page where they can only see and edit this pipeline group which includes creating and modifying pipelines in this group,via the Pipeline Configuration Tab. They have no permission to view or modify the Pipeline Templates even if they are used by any pipeline in this group.</p>
<p><strong>Note:</strong> Go Administrators (<a href="#admins">admins</a>) defined in <a href="#security">security</a> tab, can administer all pipeline groups.</p>
<p><strong>Examples</strong></p>
<p>Given the following configuration only <a href="#admins">admins</a>, lqiao and any users having the role &lsquo;studios_group_admin&rsquo;.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;pipelines</span> <span style="color:#b44">group=</span><span style="color:#b44">&#34;studios&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;authorization&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;admins&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#008000;font-weight:bold">&lt;role&gt;</span>studios_group_admin<span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/admins&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/authorization&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span> <span style="color:#b44">labeltemplate=</span><span style="color:#b44">&#34;foo-1.0.${COUNT}&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    ......
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/pipelines&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="view">&lt;view&gt;</h2>
<p>The <code>&lt;view&gt;</code> element is a permission section to specify who can see the pipelines under the pipeline group. You can define roles and users in the tag.</p>
<p>**Note:**Administrators (<a href="#admins">admins</a>) can see all pipeline groups. Any other users or roles that are not listed under the <code>&lt;view&gt;</code> tag will be unable to see this pipeline group</p>
<p><strong>Examples</strong></p>
<p>Given the following configuration only administrators can operate the pipeline group, and only <a href="#admins">admins</a>, lqiao and any users having the role &lsquo;go_readonly_member&rsquo; can see the pipeline.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;pipelines</span> <span style="color:#b44">group=</span><span style="color:#b44">&#34;studios&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;authorization&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;view&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#008000;font-weight:bold">&lt;role&gt;</span>go_readonly_member<span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/view&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/authorization&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span> <span style="color:#b44">labeltemplate=</span><span style="color:#b44">&#34;foo-1.0.${COUNT}&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    ......
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/pipelines&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="operate">&lt;operate&gt;</h2>
<p>The <code>&lt;operate&gt;</code> element specifies who can operate the pipelines under the pipeline group. You can define roles and users.</p>
<p>**Note:**Any users/roles that are not listed under the <a href="#view"><code>&lt;view&gt;</code></a> tag will be unable to see this pipeline group (even if they are listed as being allowed to <code>&lt;operate&gt;</code> that pipeline group)</p>
<p><strong>Examples</strong></p>
<p>Given the following configuration, only <a href="#admins">admins</a>, lqiao, jez and the users having the role &lsquo;go_core_member&rsquo; can operate the pipeline group. Only <a href="#admins">admins</a>, lqiao and the users having the role &lsquo;go_readonly_member&rsquo; can see the pipeline (jez and go_core_member cannot).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;pipelines</span> <span style="color:#b44">group=</span><span style="color:#b44">&#34;studios&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;authorization&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;view&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#008000;font-weight:bold">&lt;role&gt;</span>go_readonly_member<span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/view&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;operate&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>jez<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#008000;font-weight:bold">&lt;role&gt;</span>go_core_member<span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/operate&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/authorization&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span> <span style="color:#b44">labeltemplate=</span><span style="color:#b44">&#34;foo-1.0.${COUNT}&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    ......
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/pipelines&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="pipeline">&lt;pipeline&gt;</h2>
<p>The <code>&lt;pipeline&gt;</code> element specifies a single pipeline. It must be unique (including case) across the entire configuration (not only in the
pipeline group).</p>
<p><strong>Notes:</strong></p>
<p>There should be at least one stage in one pipeline. Go uses the pipeline name to identify the pipeline. If you change the pipeline name, you will lose the history of the pipeline.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>The name is used to identify a pipeline, so each pipeline name must be unique. Pipeline name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed. Name is case-insensitive in Go and the length should be less than 255 characters.</td>
</tr>
<tr>
<td>labeltemplate</td>
<td>No</td>
<td>Both of material names and ${COUNT} are available in the labeltemplate and the default value of labeltemplate is &lsquo;${COUNT}&rsquo;. If you just specify labeltemplate=&ldquo;foo-1.0-${COUNT}&rdquo;, your pipeline will show foo-1.0-1, foo-1.0-2, and so on. When you reference material names in the labeltemplate, Go will use the revisions of the reference materials to populate the pipeline label. For example, given a mateial name is &lsquo;svnrepo&rsquo; in a pipeline, when you specify labeltemplate=&ldquo;foo-1.0-${svnrepo}&rdquo;, then your pipeline would show foo-1.0-3123, foo-1.0-3124, and so on. Material names are case insensitive. The max length of a pipeline label is 255. If a material name is &lsquo;svnrepo&rsquo;, the following labeltemplates are valid: ${COUNT}, ${svnrepo}, foo-${COUNT}-${SVNrepo}, foo-${svnrepo}-${COUNT}-bar.</td>
</tr>
<tr>
<td>lockBehavior</td>
<td>No</td>
<td>The possible values are &ldquo;none&rdquo;, &ldquo;lockOnFailure&rdquo; or &ldquo;unlockWhenFinished&rdquo;.The default value is &ldquo;none&rdquo;. When set to &ldquo;lockOnFailure&rdquo;, GoCD ensures that only a single instance of a pipeline can be run at a time and the pipeline <a href="../configuration/admin_lock_pipelines.html">will be locked</a> if it fails, unless it is the last stage which fails. When set to &ldquo;unlockWhenFinished&rdquo;, GoCD ensures that only a single instance of a pipeline can be run at a time, and the pipeline will be unlocked as soon as it finishes (success or failure), or reaches a manual stage.</td>
</tr>
<tr>
<td>template</td>
<td>No</td>
<td>The name of the template that this pipeline references. If this is set, no stages may be defined in this pipeline.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipelines&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span> <span style="color:#b44">labeltemplate=</span><span style="color:#b44">&#34;foo-1.0.${COUNT}-${svn}&#34;</span> <span style="color:#b44">lockBehavior=</span><span style="color:#b44">&#34;lockOnFailure&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;environmentvariables&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;variable</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;FOO&#34;</span><span style="color:#008000;font-weight:bold">&gt;&lt;value&gt;</span>bar<span style="color:#008000;font-weight:bold">&lt;/value&gt;&lt;/variable&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;/environmentvariables&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;svn</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://your-svn/&#34;</span> <span style="color:#b44">materialName=</span><span style="color:#b44">&#34;svn&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;stage</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;ut&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;jobs&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;linux&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>linux<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/resources&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;unit-test&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/jobs&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/stage&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipelines&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="params">&lt;params&gt;</h2>
<p>The element <code>&lt;params&gt;</code> specifies the list of parameters (Element <a href="#param">param</a>) elements to be used in a pipeline or a pipeline template. You can specify these under a <a href="#pipeline"><code>&lt;pipeline&gt;</code></a> and can be used anywhere inside pipeline/stage/job definition.</p>
<p><a href="#top">top</a></p>
<h2 id="param">&lt;param&gt;</h2>
<p>A <code>&lt;param&gt;</code> defines the parameter name that will be substituted with the paramerter value that will be substituted in a pipeline or a pipeline
template.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;params&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;param</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;COMMAND&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>echo<span style="color:#008000;font-weight:bold">&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;param</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;WORKING_DIR&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>/repo/branch<span style="color:#008000;font-weight:bold">&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/params&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="trackingtool">&lt;trackingtool&gt;</h2>
<p>The <code>&lt;trackingtool&gt;</code> element can be used to specify links to an issue tracker. Go will construct a link based on the commit message that you
can use to take you to your tracking tool (JIRA issue, Trac issue etc).</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>link</td>
<td>Yes</td>
<td>a URL with a string &lsquo;${ID}&rsquo;. Go will replace the string &lsquo;${ID}&rsquo; with the first matched group value at run-time.</td>
</tr>
<tr>
<td>regex</td>
<td>Yes</td>
<td>A <a href="">regex</a> to identify the IDs. Go will find the first matched group in your commit messages and use it to construct the hyper-link.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p>Suppose you are using a Web Application to manage your tasks or bugs, and the link looks like <code>http://your-trackingtool/yourproject/512</code>, &lsquo;512&rsquo;
is your task ID. Your configuration would be:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;trackingtool</span> <span style="color:#b44">link=</span><span style="color:#b44">&#34;http://your-trackingtool/yourproject/${ID}&#34;</span> <span style="color:#b44">regex=</span><span style="color:#b44">&#34;evo-(\d+)&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p>If you check in some code with a commit message which includes the characters &rsquo;evo-512&rsquo; then that will appear in the modification pop-up
box as a link. When you click it, Go will take you to the web page <code>http://your-trackingtool/yourproject/512</code>.</p>
<p>For example: If you use Jira for your task manager, the configuration would be:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;trackingtool</span> <span style="color:#b44">link=</span><span style="color:#b44">&#34;https://your-jira-server/browse/yourproject-${ID}&#34;</span> <span style="color:#b44">regex=</span><span style="color:#b44">&#34;##(\d+)&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p><strong>Notes:</strong> You can not define multiple tracking tools in one pipeline.</p>
<p><a href="#top">top</a></p>
<h2 id="timer">&lt;timer&gt;</h2>
<p>The <code>&lt;timer&gt;</code> element specifies a cron-like schedule to build the pipeline.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>onlyOnChanges</td>
<td>No</td>
<td>Skips scheduling if the previous run of the pipeline was with the latest material(s). This option is typically useful when automatic pipeline scheduling is turned off.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p>For example to run a pipeline once a night at 10pm on weekdays:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;timer&gt;</span>0 0 22 ? * MON-FRI<span style="color:#008000;font-weight:bold">&lt;/timer&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p>Go uses the <a href="https://www.quartz-scheduler.org/documentation/quartz-2.3.0/quick-start.html">Quartz</a> scheduler internally. For convenience we reproduce the <a href="https://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html">Quartz cron documentation</a> here:</p>
<p><strong>Format</strong></p>
<p>A cron expression is a string comprised of 6 or 7 fields separated by white space. Fields can contain any of the allowed values, along with
various combinations of the allowed special characters for that field. The fields are as follows:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Mandatory?</th>
<th>Allowed Values</th>
<th>Allowed Special Characters</th>
</tr>
</thead>
<tbody>
<tr>
<td>Seconds</td>
<td>YES</td>
<td>0-59</td>
<td>, - * /</td>
</tr>
<tr>
<td>Minutes</td>
<td>YES</td>
<td>0-59</td>
<td>, - * /</td>
</tr>
<tr>
<td>Hours</td>
<td>YES</td>
<td>0-23</td>
<td>, - * /</td>
</tr>
<tr>
<td>Day of month</td>
<td>YES</td>
<td>1-31</td>
<td>, - * ? / L W\</td>
</tr>
<tr>
<td>Month</td>
<td>YES</td>
<td>1-12 or JAN-DEC</td>
<td>, - * /</td>
</tr>
<tr>
<td>Day of week</td>
<td>YES</td>
<td>1-7 or SUN-SAT</td>
<td>, - * ? / L #</td>
</tr>
<tr>
<td>Year</td>
<td>NO</td>
<td>empty, 1970-2099</td>
<td>, - * /</td>
</tr>
</tbody>
</table>
<p>So cron expressions can be as simple as this: <code>* * * * * ?</code> or more complex, like this: <code>0 15 10 ? * 6L 2002-2005</code></p>
<p><strong>Special characters</strong></p>
<ul>
<li>
<p><code>*</code> (<em>&ldquo;all values&rdquo;</em>) - used to select all values within a field. For example, &ldquo;*&rdquo; in the minute field means <em>&ldquo;every minute&rdquo;</em>.</p>
</li>
<li>
<p><code>?</code> (<em>&ldquo;no specific value&rdquo;</em>) - useful when you need to specify something in one of the two fields in which the character is allowed, but not the other. For example, if I want my trigger to fire on a particular day of the month (say, the 10th), but don&rsquo;t care what day of the week that happens to be, I would put &ldquo;10&rdquo; in the day-of-month field, and &ldquo;?&rdquo; in the day-of-week field. See the examples below for clarification.</p>
</li>
<li>
<p><code>-</code> - used to specify ranges. For example, &ldquo;10-12&rdquo; in the hour field means <em>&ldquo;the hours 10, 11 and 12&rdquo;</em>.</p>
</li>
<li>
<p><code>,</code> - used to specify additional values. For example, &ldquo;MON,WED,FRI&rdquo; in the day-of-week field means <em>&ldquo;the days Monday, Wednesday, and Friday&rdquo;</em>.</p>
</li>
<li>
<p><code>/</code> - used to specify increments. For example, &ldquo;0/15&rdquo; in the seconds field means <em>&ldquo;the seconds 0, 15, 30, and 45&rdquo;</em>. And &ldquo;5/15&rdquo; in the seconds field means <em>&ldquo;the seconds 5, 20, 35, and 50&rdquo;</em>. You can also specify &lsquo;/&rsquo; after the &lsquo;<strong>&rsquo; character - in this case &lsquo;</strong>&rsquo; is equivalent to having &lsquo;0&rsquo; before the &lsquo;/&rsquo;. &lsquo;1/3&rsquo; in the day-of-month field means <em>&ldquo;fire every 3 days starting on the first day of the month&rdquo;</em>.</p>
</li>
<li>
<p><code>L</code> (<em>&ldquo;last&rdquo;</em>) - has different meaning in each of the two fields in which it is allowed. For example, the value &ldquo;L&rdquo; in the day-of-month field means <em>&ldquo;the last day of the month&rdquo;</em> - day 31 for January, day 28 for February on non-leap years. If used in the day-of-week field by itself, it simply means &ldquo;7&rdquo; or &ldquo;SAT&rdquo;. But if used in the day-of-week field after another value, it means <em>&ldquo;the last xxx day of the month&rdquo;</em> - for example &ldquo;6L&rdquo; means <em>&ldquo;the last friday of the month&rdquo;</em>. When using the &lsquo;L&rsquo; option, it is important not to specify lists, or ranges of values, as you&rsquo;ll get confusing results.</p>
</li>
<li>
<p><code>W</code> (<em>&ldquo;weekday&rdquo;</em>) - used to specify the weekday (Monday-Friday) nearest the given day. As an example, if you were to specify &ldquo;15W&rdquo; as the value for the day-of-month field, the meaning is: <em>&ldquo;the nearest weekday to the 15th of the month&rdquo;</em>. So if the 15th is a Saturday, the trigger will fire on Friday the 14th. If the 15th is a Sunday, the trigger will fire on Monday the 16th. If the 15th is a Tuesday, then it will fire on Tuesday the 15th. However if you specify &ldquo;1W&rdquo; as the value for day-of-month, and the 1st is a Saturday, the trigger will fire on Monday the 3rd, as it will not &lsquo;jump&rsquo; over the boundary of a month&rsquo;s days. The &lsquo;W&rsquo; character can only be specified when the day-of-month is a single day, not a range or list of days. The &lsquo;L&rsquo; and &lsquo;W&rsquo; characters can also be combined in the day-of-month field to yield &lsquo;LW&rsquo;, which translates to <em>&ldquo;last weekday of the month&rdquo;</em>.</p>
</li>
<li>
<p><code>#</code> - used to specify &ldquo;the nth&rdquo; XXX day of the month. For example, the value of &ldquo;6#3&rdquo; in the day-of-week field means <em>&ldquo;the third Friday of the month&rdquo;</em> (day 6 = Friday and &ldquo;#3&rdquo; = the 3rd one in the month). Other examples: &ldquo;2#1&rdquo; = the first Monday of the month and &ldquo;4#5&rdquo; = the fifth Wednesday of the month. Note that if you specify &ldquo;#5&rdquo; and there is not 5 of the given day-of-week in the month, then no firing will occur that month. The legal characters and the names of months and days of the week are not case sensitive. <code>MON</code> is the same as <code>mon</code>.</p>
</li>
</ul>
<p><strong>Examples</strong></p>
<p>Here are some full examples:</p>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0 0 12 * * ?</code></td>
<td>Fire at 12pm (noon) every day</td>
</tr>
<tr>
<td><code>0 15 10 ? * *</code></td>
<td>Fire at 10:15am every day</td>
</tr>
<tr>
<td><code>0 15 10 * * ?</code></td>
<td>Fire at 10:15am every day</td>
</tr>
<tr>
<td><code>0 15 10 * * ? *</code></td>
<td>Fire at 10:15am every day</td>
</tr>
<tr>
<td><code>0 15 10 * * ? 2005</code></td>
<td>Fire at 10:15am every day during the year 2005</td>
</tr>
<tr>
<td><code>0 * 14 * * ?</code></td>
<td>Fire every minute starting at 2pm and ending at 2:59pm, every day</td>
</tr>
<tr>
<td><code>0 0/5 14 * * ?</code></td>
<td>Fire every 5 minutes starting at 2pm and ending at 2:55pm, every day</td>
</tr>
<tr>
<td><code>0 0/5 14,18 * * ?</code></td>
<td>Fire every 5 minutes starting at 2pm and ending at 2:55pm, AND fire every 5 minutes starting at 6pm and ending at 6:55pm, every day</td>
</tr>
<tr>
<td><code>0 0-5 14 * * ?</code></td>
<td>Fire every minute starting at 2pm and ending at 2:05pm, every day</td>
</tr>
<tr>
<td><code>0 10,44 14 ? 3 WED</code></td>
<td>Fire at 2:10pm and at 2:44pm every Wednesday in the month of March.</td>
</tr>
<tr>
<td><code>0 15 10 ? * MON-FRI</code></td>
<td>Fire at 10:15am every Monday, Tuesday, Wednesday, Thursday and Friday</td>
</tr>
<tr>
<td><code>0 15 10 15 * ?</code></td>
<td>Fire at 10:15am on the 15th day of every month</td>
</tr>
<tr>
<td><code>0 15 10 L * ?</code></td>
<td>Fire at 10:15am on the last day of every month</td>
</tr>
<tr>
<td><code>0 15 10 ? * 6L</code></td>
<td>Fire at 10:15am on the last Friday of every month</td>
</tr>
<tr>
<td><code>0 15 10 ? * 6L</code></td>
<td>Fire at 10:15am on the last Friday of every month</td>
</tr>
<tr>
<td><code>0 15 10 ? * 6L 2002-2005</code></td>
<td>Fire at 10:15am on every last friday of every month during the years 2002, 2003, 2004 and 2005</td>
</tr>
<tr>
<td><code>0 15 10 ? * 6#3</code></td>
<td>Fire at 10:15am on the third Friday of every month</td>
</tr>
<tr>
<td><code>0 0 12 1/5 * ?</code></td>
<td>Fire at 12pm (noon) every 5 days every month, starting on the first day of the month.</td>
</tr>
<tr>
<td><code>0 11 11 11 11 ?</code></td>
<td>Fire every November 11th at 11:11am.</td>
</tr>
</tbody>
</table>
<p>Pay attention to the effects of &lsquo;?&rsquo; and &lsquo;*&rsquo; in the day-of-week and day-of-month fields!</p>
<p><strong>Notes</strong></p>
<ul>
<li>Support for specifying both a day-of-week and a day-of-month value is not complete (you must currently use the &lsquo;?&rsquo; character in one of these fields).</li>
<li>Be careful when setting fire times between mid-night and 1:00 AM - &ldquo;daylight savings&rdquo; can cause a skip or a repeat depending on whether the time moves back or jumps forward.</li>
</ul>
<p><a href="#top">top</a></p>
<h2 id="materials">&lt;materials&gt;</h2>
<p>The <code>&lt;materials&gt;</code> element specifies the source of the pipeline changes. Generally this will be your codebase in your source control repository.</p>
<p><strong>Notes:</strong></p>
<p>Go supports multiple materials with the restriction that every material must contain a unique &ldquo;dest&rdquo; folder (that is not a subfolder of any
other material). Go will check out the source code into this folder for each material.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span> <span style="color:#b44">labeltemplate=</span><span style="color:#b44">&#34;foo-1.0.${COUNT}&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;svn</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://your-svn/&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p>Multiple materials:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span> <span style="color:#b44">labeltemplate=</span><span style="color:#b44">&#34;foo-1.0.${COUNT}&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;svn</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://your-svn/&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;svn-folder&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;git</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;git://127.0.0.1/precommit.git&#34;</span> <span style="color:#b44">branch=</span><span style="color:#b44">&#34;1.3branch&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;git-folder&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;hg</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://your-hg/&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;hg-folder&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;p4</span> <span style="color:#b44">port=</span><span style="color:#b44">&#34;10.18.3.102:1666&#34;</span> <span style="color:#b44">username=</span><span style="color:#b44">&#34;userName&#34;</span> <span style="color:#b44">password=</span><span style="color:#b44">&#34;passwd&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;p4-folder&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;view&gt;</span><span style="color:#080">&lt;![CDATA[
</span></span></span><span style="display:flex;"><span><span style="color:#080">    //depot/dev/src...          //anything/src/...
</span></span></span><span style="display:flex;"><span><span style="color:#080">      ]]&gt;</span><span style="color:#008000;font-weight:bold">&lt;/view&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/p4&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="filter">&lt;filter&gt;</h2>
<p>The <code>&lt;filter&gt;</code> element specifies files in changesets that should not trigger a pipeline automatically. When a pipeline is triggered by files that are not ignored the filtered files will still be updated with other files. You can only define one filter under each SCM material. When you trigger a pipeline manually, it will update to most recent revision, including filtered files.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;svn</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://your-svn/&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;filter&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;ignore</span> <span style="color:#b44">pattern=</span><span style="color:#b44">&#34;doc/**/*.*&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/filter&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/svn&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="ignore">&lt;ignore&gt;</h2>
<p>The <code>&lt;ignore&gt;</code> element is used to specify a set of files that are ignored when Go checks for changes. Repository changesets which only
contain these files will not trigger a pipeline automatically.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>pattern</td>
<td>Yes</td>
<td>defines a pattern (Ant-style) for the files to be ignored. Changes of thoes files will not trigger the pipeline. the pattern is relative to the root of the SCM repository, not the sandbox of the pipeline.</td>
</tr>
</tbody>
</table>
<p><strong>Notes</strong></p>
<ul>
<li><code>&lt;ignore&gt;</code> can occur multiple times under <a href="#filter"><code>&lt;filter&gt;</code></a>.</li>
<li>The pattern is relative to the root directory of the SCM repository, not the sandbox in the agent side or the materials URL.</li>
<li>Ignored files are still updated when other files are updated.</li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;ignore</span> <span style="color:#b44">pattern=</span><span style="color:#b44">&#34;doc/**/*&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span></code></pre></div><p>Ignore everything under the folder <strong>&lsquo;doc&rsquo;</strong>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;ignore</span> <span style="color:#b44">pattern=</span><span style="color:#b44">&#34;doc/*&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span></code></pre></div><p>Ignore files under the folder <strong>&lsquo;doc&rsquo;</strong>, excluding any subfolder.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;ignore</span> <span style="color:#b44">pattern=</span><span style="color:#b44">&#34;framework/helper/*.doc&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span></code></pre></div><p>Ignore files that are under the directory &lsquo;framework/helper&rsquo; and the file extension is <strong>.doc</strong>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;ignore</span> <span style="color:#b44">pattern=</span><span style="color:#b44">&#34;*.pdf&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span></code></pre></div><p>Ignore files that are under the root directory of SCM repository and the file extension is <strong>.pdf</strong>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;ignore</span> <span style="color:#b44">pattern=</span><span style="color:#b44">&#34;**/helper/*.pdf&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span></code></pre></div><p>Ignore all the files that is under any <strong>&lsquo;helper&rsquo;</strong> folder and the file extension is <strong>.pdf</strong>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;ignore</span> <span style="color:#b44">pattern=</span><span style="color:#b44">&#34;helper/**/*.pdf&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span></code></pre></div><p>Ignore all the files that are in the nested directory under folder <strong>&lsquo;helper&rsquo;</strong> of the repository and the file extension is <strong>.pdf</strong>.</p>
<p><a href="#top">top</a></p>
<h2 id="svn">&lt;svn&gt;</h2>
<p>The <code>&lt;svn&gt;</code> element specifies the location of your code base in Subversion repository.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL for the remote repository. Go supports the following protocols for subversion: http, https, svn and svn+ssh, but does not support &lsquo;file:///&rsquo;.</td>
</tr>
<tr>
<td>username</td>
<td>No</td>
<td>The user account for the remote repository.</td>
</tr>
<tr>
<td>password</td>
<td>No</td>
<td>The password for the specified user</td>
</tr>
<tr>
<td>checkexternals</td>
<td>No</td>
<td>The default value is false, the value should be either one of true/false or 1/0. &rsquo;true&rsquo; or &lsquo;1&rsquo; means that the changes of externals will trigger the pipeline automatically.</td>
</tr>
<tr>
<td>dest</td>
<td>Required if there are multiple materials</td>
<td>The directory where the code will be checked out. This is relative to the sandbox of the Go Agent. Go prevents the destination folder from being outside the agent&rsquo;s sandbox.</td>
</tr>
<tr>
<td>materialName</td>
<td>Required if this material is referenced in pipeline labeltemplate</td>
<td>The name to identify a material. Material name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen, but whitespace is not allowed. A material name is case insensitive and starting with fullstop is invalid. It needs to be unique within a pipeline. The max length is 255 characters.</td>
</tr>
<tr>
<td>autoUpdate</td>
<td>No</td>
<td>By default Go polls the repository for changes automatically. If autoUpdate is set to false then Go will not poll the repository for changes. Instead it will check for changes only when you trigger a pipeline that contains this material or it receives a notification through a post-commit hook. If the same material is specified more than once in the configuration file, all of them must have the same value for autoUpdate.</td>
</tr>
<tr>
<td>invertFilter</td>
<td>No</td>
<td>Inverts any <code>filter</code> elements, turning them into allowlists. Only files that <em>match</em> the filter will trigger a new build.</td>
</tr>
</tbody>
</table>
<p><strong>Notes:</strong></p>
<p>Go cannot automatically accept svn SSL certificates. If you are using https for svn repository, you have to go to the Server and each Agent,
and as the user &lsquo;go&rsquo; do a command &ldquo;svn update&rdquo; to store the certificates in the cache permanently.</p>
<p><strong>Examples:</strong></p>
<p>For a Go Agent on linux with the following configuration:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;myproduct&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;svn</span>  <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://svn-server.com/framework&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;framework&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;svn</span>  <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://svn-server.com/componentOne&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;mycomponent&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p>Go Agent will check out source code from <code>http://svn-server.com/framework</code> to <code>/var/lib/go-agent/pipelines/myproduct/framwork</code>, and from <code>http://svn-server.com/componentOne</code> to <code>/var/lib/go-agent/pipelines/myproduct/mycomponent</code>.</p>
<p><a href="#top">top</a></p>
<h2 id="hg">&lt;hg&gt;</h2>
<p>The <code>&lt;hg&gt;</code> element specifies the location of your code base in a Mercurial repository. Go supports the http and ssh for Mercurial.</p>
<p><strong>Notes:</strong></p>
<p>You must install Mercurial 1.5 or above on the Go Server and Go Agents for the jobs need Mercurial. Go does not ship with Mercurial.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>Yes</td>
<td>URL to fetch source code from the Mercurial repository. If you specify the username and password for the Mercurial repository, you should put them into the url. Mercurial supports an optional identifier after # in the url, which indicates a particular branch, tag or changeset. This option can be used to configure mercurial branches in Go.</td>
</tr>
<tr>
<td>dest</td>
<td>Only for multiple materials</td>
<td>The directory where the code will be checked out. This is relative to the sandbox of the Go Agent. Go prevents the destination folder from being outside the agent&rsquo;s sandbox.</td>
</tr>
<tr>
<td>materialName</td>
<td>Required if this material is referenced in pipeline labeltemplate</td>
<td>The name to identify a material. Material name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed. Material name is case insensitive. It needs to be unique within a pipeline. The max length is 255 characters.</td>
</tr>
<tr>
<td>autoUpdate</td>
<td>No</td>
<td>By default Go polls the repository for changes automatically. If autoUpdate is set to false then Go will not poll the repository for changes. Instead it will check for changes only when you trigger a pipeline that contains this material. If the same material is specified more than once in the configuration file, all of them must have the same value for autoUpdate.</td>
</tr>
<tr>
<td>invertFilter</td>
<td>No</td>
<td>Inverts any <code>filter</code> elements, turning them into allowlists. Only files that <em>match</em> the filter will trigger a new build.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;hg</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://username:password@your-hg/&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p>#<strong>Specifying a mercurial branch.</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject_branch&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;hg</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://username:password@your-hg##branch_name&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p>Note that # needs to be escaped with another # - hence the ## in the url above.</p>
<p><a href="#top">top</a></p>
<h2 id="p4">&lt;p4&gt;</h2>
<p>The <code>&lt;p4&gt;</code> element specifies the location of your code base in a Perforce repository.</p>
<p><strong>Notes:</strong></p>
<p>Go will use directory under pipelines/{pipelineName} in agent side as Perforce root directory of perforce client workspace.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>port</td>
<td>Yes</td>
<td>Perforce server connection to use (host:port). This is the same as you would pass in the p4port parameter for the p4 command line or in the P4PORT environment variable.</td>
</tr>
<tr>
<td>username</td>
<td>No</td>
<td>Perforce username to use.</td>
</tr>
<tr>
<td>password</td>
<td>No</td>
<td>Password for the specified user.</td>
</tr>
<tr>
<td>useTickets</td>
<td>No</td>
<td>Set to true to work with perforce tickets. Go will do a p4 login using the supplied password before each command. We recommend that you make your user a part of a p4 group, and set the ticket timeout to unlimited as described <a href="https://www.perforce.com/manuals/cmdref/Content/CmdRef/p4_login.html">here</a>.</td>
</tr>
<tr>
<td>dest</td>
<td>Only for multiple materials</td>
<td>The directory where the code will be checked out. This is relative to the sandbox of the Go Agent. Go prevents the destination folder from being outside the agent&rsquo;s sandbox.</td>
</tr>
<tr>
<td>view</td>
<td>Yes</td>
<td>Valid Perforce view. The view should be a sub-element of P4. Click <a href="https://www.perforce.com/perforce/doc.082/manuals/p4guide/02_config.html#1066090">here</a> to see details about VIEW of Perforce.</td>
</tr>
<tr>
<td>materialName</td>
<td>Required if this material is referenced in pipeline labeltemplate</td>
<td>The name to identify a material. Material name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed. Material name is case insensitive. It needs to be unique within a pipeline. The max length is 255 characters.</td>
</tr>
<tr>
<td>autoUpdate</td>
<td>No</td>
<td>By default Go polls the repository for changes automatically. If autoUpdate is set to false then Go will not poll the repository for changes. Instead it will check for changes only when you trigger a pipeline that contains this material. If the same material is specified more than once in the configuration file, all of them must have the same value for autoUpdate.</td>
</tr>
<tr>
<td>invertFilter</td>
<td>No</td>
<td>Inverts any <code>filter</code> elements, turning them into allowlists. Only files that <em>match</em> the filter will trigger a new build.</td>
</tr>
</tbody>
</table>
<p><strong>Notes:</strong></p>
<p>You do not need to specify the above attributes if you have already defined them as system variables. So if you have a P4PASSWD variable
defined then you can leave out the &ldquo;password&rdquo; tag defined above. If you already have them defined as system variables and also in Go
configuration, Go will overwrite them before running p4.</p>
<p>Views consist of multiple mappings. Each mapping has two parts:</p>
<ol>
<li>The left-hand side specifies one or more files in the depot and has the form: //depotname/file_specification</li>
<li>The right-hand side specifies one or more files in the client workspace and has the form: //clientname/file_specification</li>
</ol>
<p>Go creates a p4 client to check out files into its sandbox with the &lsquo;clobber&rsquo; option set. This means, during material update all writable-but-unopened files in the workspace would be overwritten on the agent. All other options use default values as defined by Perforce. Client name is generated automatically by Go. Hence, you can use anything as &lsquo;clientname&rsquo; on the right-hand side in view mapping. The client name format is: cruise-[hostname]-[pipeline name]-[a random hash code], for example &ldquo;cruise-myhostname-mypipelinename-wOaJ9kjpfgOLQCncki19ikXt5Q&rdquo;. THE GO_P4_CLIENT environment variable will have the client name used. This variable can be used in scripts to get the client name</p>
<p>Go views are in the same format as that used by Perforce itself. In fact you should be able to copy a Perforce view from your existing Perforce
setup and paste it into the view section.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;perforce-example&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;p4</span> <span style="color:#b44">port=</span><span style="color:#b44">&#34;10.18.3.102:1666&#34;</span> <span style="color:#b44">username=</span><span style="color:#b44">&#34;userName&#34;</span> <span style="color:#b44">password=</span><span style="color:#b44">&#34;passwd&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;view&gt;</span><span style="color:#080">&lt;![CDATA[
</span></span></span><span style="display:flex;"><span><span style="color:#080">    //depot/dev/src...          //anything/src/...
</span></span></span><span style="display:flex;"><span><span style="color:#080">    //depot/dev/test...         //anything/test/...
</span></span></span><span style="display:flex;"><span><span style="color:#080">    //depot/dev/main/docs/...   //anything/docs/...
</span></span></span><span style="display:flex;"><span><span style="color:#080">      ]]&gt;</span><span style="color:#008000;font-weight:bold">&lt;/view&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/p4&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="git">&lt;git&gt;</h2>
<p>The <code>&lt;git&gt;</code> element specifies the location of your code base in a GIT repository. Go only supports remote repositories.</p>
<p><strong>Notes:</strong></p>
<p>git versions 1.7 and above are supported by Go.</p>
<p>If &lsquo;branch&rsquo; is defined, Go will check out the specified branch. Otherwise, Go will check out the master branch.</p>
<p>If there are submodules in the repository, Go will check out them as well.</p>
<p>msysGit on Windows has a <a href="https://github.com/msysgit/msysgit/issues/43">defect</a> which causes an error when using Go. Please ensure to use a build which fixes this.</p>
<p>While installing msysGit On Windows machines for Go server or agents, please choose Option iii, namely <em>Run Git and included UNIX tools from
windows command prompt</em></p>
<p>If you are using git through SSH on windows, please ensure that the HOME user environment variable is set to the full path of the parent
directory where the .ssh/ directory is located.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>Yes</td>
<td>GIT URL for the repository.</td>
</tr>
<tr>
<td>branch</td>
<td>No</td>
<td>a branch name in the repository.</td>
</tr>
<tr>
<td>shallowClone</td>
<td>No</td>
<td>Add a <code>--depth=N</code> option to git cloning command on Go agent. Shallow clone truncates history to latest revisions, thus helps accelerating clone operation for repositories with long history. Cloning depth is dynamically calculated to ensure revisions from <a href="#env-var-GO_FROM_REVISION">GO_FROM_REVISION</a> to <a href="#env-var-GO_TO_REVISION">GO_TO_REVISION</a> are included in the cloned repository.</td>
</tr>
<tr>
<td>dest</td>
<td>Only for multiple materials</td>
<td>The directory under the sandbox of Go Agent. Go will check out the source code into this directory.</td>
</tr>
<tr>
<td>materialName</td>
<td>Required if this material is referenced in pipeline labeltemplate</td>
<td>The name to identify a material. Material name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed. Material name is case insensitive. It needs to be unique within a pipeline. The max length is 255 characters.</td>
</tr>
<tr>
<td>autoUpdate</td>
<td>No</td>
<td>By default Go polls the repository for changes automatically. If autoUpdate is set to false then Go will not poll the repository for changes. Instead it will check for changes only when you trigger a pipeline that contains this material. If the same material is specified more than once in the configuration file, all of them must have the same value for autoUpdate.</td>
</tr>
<tr>
<td>invertFilter</td>
<td>No</td>
<td>Inverts any <code>filter</code> elements, turning them into allowlists. Only files that <em>match</em> the filter will trigger a new build.</td>
</tr>
</tbody>
</table>
<p><strong>Examples are:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;git</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;git://127.0.0.1/precommit.git&#34;</span> <span style="color:#b44">branch=</span><span style="color:#b44">&#34;1.3branch&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;git</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://ccegit:pst@goserver.yourcompany.com/httpgit.git&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="tfs">&lt;tfs&gt;</h2>
<p>The <code>&lt;tfs&gt;</code> element specifies the location of your code base in a TFS Source repository.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>URL</td>
<td>Yes</td>
<td>URL for the Collection on the TFS Server.</td>
</tr>
<tr>
<td>Domain</td>
<td>No</td>
<td>Domain name for TFS authentication credentials.</td>
</tr>
<tr>
<td>Username</td>
<td>Yes</td>
<td>Username of the account to access the TFS collection.</td>
</tr>
<tr>
<td>Password</td>
<td>Yes</td>
<td>Password of the account to access the TFS collection.</td>
</tr>
<tr>
<td>Project Path</td>
<td>Yes</td>
<td>The project path within the TFS collection.</td>
</tr>
<tr>
<td>dest</td>
<td>Only for multiple materials</td>
<td>The directory where the code will be checked out. This is relative to the sandbox of the Go Agent. Go prevents the destination folder from being outside the agent&rsquo;s sandbox.</td>
</tr>
<tr>
<td>invertFilter</td>
<td>No</td>
<td>Inverts any <code>filter</code> elements, turning them into allowlists. Only files that <em>match</em> the filter will trigger a new build.</td>
</tr>
</tbody>
</table>
<p><strong>Examples are:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;webproject&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;tfs</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://10.21.3.210:8080/tfs/New&#34;</span> <span style="color:#b44">domain=</span><span style="color:#b44">&#34;DOMAIN&#34;</span> <span style="color:#b44">username=</span><span style="color:#b44">&#34;jim&#34;</span> <span style="color:#b44">password=</span><span style="color:#b44">&#34;as802nsk9==&#34;</span> <span style="color:#b44">projectPath=</span><span style="color:#b44">&#34;$/webapp&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;myproject&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;tfs</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://tfshost.tw.com:8080/tfs/DefaultCollection&#34;</span> <span style="color:#b44">domain=</span><span style="color:#b44">&#34;DOMAIN&#34;</span> <span style="color:#b44">username=</span><span style="color:#b44">&#34;jim&#34;</span> <span style="color:#b44">password=</span><span style="color:#b44">&#34;as802nsk9==&#34;</span> <span style="color:#b44">projectPath=</span><span style="color:#b44">&#34;$/webapp/component/branch&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="package">&lt;package&gt;</h2>
<p>The <code>&lt;package&gt;</code> element refers to package which is defined as part of repositories configuration.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ref</td>
<td>Yes</td>
<td>The ref tag holds the id of the package</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;repositories&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;repository</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;repo-id&#34;</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;repo-name&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;pluginConfiguration</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;plugin-id&#34;</span> <span style="color:#b44">version=</span><span style="color:#b44">&#34;plugin-version&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>property-name<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>property-value<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;packages&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;package</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;1234-12242-232312&#34;</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;sample-package&#34;</span> <span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>property-name<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>property-value<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/package&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/packages&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/repository&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/repositories&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;pipelines</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;webproject&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;webproject&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;package</span> <span style="color:#b44">ref=</span><span style="color:#b44">&#34;1234-12242-232312&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;/pipelines&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="pipeline-dependency-material">&lt;pipeline&gt;</h2>
<p>The <code>&lt;pipeline&gt;</code> element specifies that successful completion of a stage in another pipeline will trigger the current pipeline to start.</p>
<p>If there are multiple pipeline dependencies, then any one of them passing will trigger a new pipeline.</p>
<p>Note that you can not specify two (or more) dependencies for the same upstream pipeline.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>pipelineName</td>
<td>Yes</td>
<td>The name of a pipeline that this pipeline depends on.</td>
</tr>
<tr>
<td>stageName</td>
<td>Yes</td>
<td>The name of a stage which will trigger this pipeline once it is successful.</td>
</tr>
<tr>
<td>materialName</td>
<td>By default the materialName is the name of the upstream pipeline (the pipelineName). This is required if this material is referenced in pipeline labeltemplate</td>
<td>The name to identify a material. Material name can contain the following characters: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed. Material name is case insensitive. It needs to be unique within a pipeline. The max length is 255 characters.</td>
</tr>
<tr>
<td>ignoreForScheduling</td>
<td>No (false by default)</td>
<td>Controls whether the pipeline will run if the specified upstream pipeline/stage passes. <ul><li>When set to <code>false</code>, the pipeline will run.</li><li>When set to <code>true</code>, the pipeline will not run.</li></ul><p>However, if the pipeline is triggered through other means (e.g., by another material, manually, or via timer), it will always pick up the latest successful run of the upstream pipeline stage specified by this material.</td>
</tr>
</tbody>
</table>
<p><strong>Notes:</strong></p>
<p>The downstream pipeline will only run if the upstream pipeline stage has passed.</p>
<p><strong>Examples</strong></p>
<p>Suppose there are four pipelines: <code>commonLib1</code>, <code>commonLib2</code>, <code>Server</code>, and <code>Client</code>.</p>
<p>We can configure these such that:</p>
<ul>
<li>When the stage <code>distStage</code> from pipeline <code>commonLib1</code> passes, it will run pipelines <code>Server</code> and <code>Client</code></li>
<li>When the stage <code>pkgstage</code> from pipeline <code>commonLib2</code> passes, it will run the <code>Server</code> pipeline</li>
</ul>
<p>The corresponding configuration would be:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;Server&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">pipelineName=</span><span style="color:#b44">&#34;commonLib1&#34;</span> <span style="color:#b44">stageName=</span><span style="color:#b44">&#34;distStage&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">pipelineName=</span><span style="color:#b44">&#34;commonLib2&#34;</span> <span style="color:#b44">stageName=</span><span style="color:#b44">&#34;pkgStage&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;Client&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">pipelineName=</span><span style="color:#b44">&#34;commonLib1&#34;</span> <span style="color:#b44">stageName=</span><span style="color:#b44">&#34;distStage&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p>If instead, we want the <code>Server</code> pipeline to run when the stage <code>commonLib2/distStage</code> passes but not on <code>commonLib1/pkgStage</code>, we can set the <code>ignoreForScheduling</code> flag to <code>true</code> on the <code>commonLib1/pkgStage</code> material:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;Server&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">pipelineName=</span><span style="color:#b44">&#34;commonLib1&#34;</span> <span style="color:#b44">stageName=</span><span style="color:#b44">&#34;distStage&#34;</span> <span style="color:#b44">ignoreForScheduling=</span><span style="color:#b44">&#34;true&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">pipelineName=</span><span style="color:#b44">&#34;commonLib2&#34;</span> <span style="color:#b44">stageName=</span><span style="color:#b44">&#34;pkgStage&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="stage">&lt;stage&gt;</h2>
<p>The <code>&lt;stage&gt;</code> element specifies a set of jobs. If any job in a given stage fails then the stage will fail. If a stage has an <a href="#approval"><code>&lt;approval&gt;</code></a> configuration with manual type it can only be triggered manually (i.e. a user must click on the trigger button on the UI). If the previous stage has failed, you can still trigger the following stage manually.</p>
<p><strong>Notes:</strong></p>
<p>There must be at least one job in stage.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>The name is used to identify a stage in the pipeline, so it has to be unique (case insensitive) for that <code>&lt;pipeline&gt;</code>. The available characters in stage name are following: a-z, A-Z, 0-9, fullstop, underscore and hyphen. Spaces are not allowed.</td>
</tr>
<tr>
<td>fetchMaterials</td>
<td>No (Default: true)</td>
<td><strong>Perform material updates or checkouts on the agent</strong>. Set this attribute to false to skip this operation.</td>
</tr>
<tr>
<td>cleanWorkingDir</td>
<td>No (Default: false)</td>
<td>Remove all files/directories in the working directory on the agent. By default this operation is skipped.</td>
</tr>
<tr>
<td>artifactCleanupProhibited</td>
<td>No (Default: false)</td>
<td>Never cleanup artifacts for this stage, if purging artifacts is configured at the Server Level.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;stage</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;ut&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;environmentvariables&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;variable</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;FOO&#34;</span><span style="color:#008000;font-weight:bold">&gt;&lt;value&gt;</span>bar<span style="color:#008000;font-weight:bold">&lt;/value&gt;&lt;/variable&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;/environmentvariables&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;jobs&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;linux&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>linux<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/resources&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;unit-test&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/jobs&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/stage&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="jobs">&lt;jobs&gt;</h2>
<p>The <code>&lt;jobs&gt;</code> element specify the set of jobs for a stage.</p>
<p><strong>Note:</strong></p>
<p><code>&lt;jobs&gt;</code> can contain several <a href="#job"><code>&lt;job&gt;</code></a> elements. These jobs can run in parallel on different agents.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;stage</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;ut&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;jobs&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;linux&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>linux<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/resources&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;unit-test&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/jobs&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/stage&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="job">&lt;job&gt;</h2>
<p>A job is the basic unit of work. It is executed on an agent. A job can fetch artifacts from Go Server, execute tasks and publish artifacts back
to Go Server.</p>
<p>A job can also be associated with a set of <a href="#resources"><code>&lt;resources&gt;</code></a> or an <a href="#agentProfile"><code>elastic profile</code></a> through the elasticProfileId attribute.
Resources are used to match a Job to an Agent. ElasticProfileId is used to match a job to an Elastic Agent. An Agent can run a Job if it has all the resources or elasticProfileId that the Job specifies.</p>
<p>A job cannot have both <a href="#resources">resources</a> as well as <a href="#agentProfile">elasticProfileId</a>.
If a Job has no resources then it can be built by any Agent (But not by an elastic agent)</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>The name of the job. The name must be unique (ignoring case) within a <code>&lt;stage&gt;</code>. The name can contain: a-z, A-Z, 0-9, fullstop, underscore and hyphen only. Spaces are not allowed.</td>
</tr>
<tr>
<td>runOnAllAgents</td>
<td>No</td>
<td>If set to &rsquo;true&rsquo; then the Job will run on all agents that can run the job.</td>
</tr>
<tr>
<td>runInstanceCount</td>
<td>No</td>
<td>If set to &lsquo;x&rsquo; (integer) then &lsquo;x&rsquo; instances of Job will be spawned during scheduling. Environment variables <code>GO_JOB_RUN_INDEX</code> (with values 1-x for every Job) and <code>GO_JOB_RUN_COUNT</code> (with value x for each Job) will be exposed to each task of Job.</td>
</tr>
<tr>
<td>timeout</td>
<td>No</td>
<td>A job can be configured to time out if it does not generate any console output for a period of time. Use this attribute to define the timeout value in minutes. Define timeout as 0 if the job should never time out. If the attribute is not defined, the default <code>&lt;server&gt;</code> level timeout behaviour will apply.</td>
</tr>
<tr>
<td>elasticProfileId</td>
<td>No</td>
<td>A job can be configured to run on an elastic agent by specifying this attribute, which maps to the id of an existing <a href="#agentProfile"><code>&lt;agentProfile&gt;</code></a>. MUST NOT be specified along with <code>resources</code>.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;linux&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;environmentvariables&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;variable</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;FOO&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>bar<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/variable&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/environmentvariables&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>linux<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/resources&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;unit-test&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;run-upgrade&#34;</span> <span style="color:#b44">runOnAllAgents=</span><span style="color:#b44">&#34;true&#34;</span> <span style="color:#b44">timeout=</span><span style="color:#b44">&#39;30&#39;</span> <span style="color:#b44">elasticProfileId=</span><span style="color:#b44">&#34;aws.small&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;upgrade&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;run-upgrade&#34;</span> <span style="color:#b44">runInstanceCount=</span><span style="color:#b44">&#34;5&#34;</span> <span style="color:#b44">timeout=</span><span style="color:#b44">&#39;30&#39;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>linux<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/resources&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;upgrade&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="resources">&lt;resources&gt;</h2>
<p><code>&lt;resources&gt;</code> specifies the <a href="#resource">resources</a> needed for a job. A job can have zero or more resources.</p>
<p>If a job has no resources it can be built on any agent.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;linux&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>jdk5<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>tomcat5<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>mercurial<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/resources&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="resource">&lt;resource&gt;</h2>
<p>A <code>&lt;resource&gt;</code> is a text tag that specifies a resource which a job requires to build. An Agent must have all the Resources specified for a Job to be able to run that Job.</p>
<p><strong>Validations:</strong></p>
<p>Resources are case-insensitive. A resource name can contain alphanumeric characters, hyphens (-), spaces, periods (.) and pipes (|).</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>jdk5<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>tomcat5<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>mercurial<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/resources&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="tasks">&lt;tasks&gt;</h2>
<p><code>&lt;tasks&gt;</code> specifies the tasks (like <a href="#ant"><code>&lt;ant&gt;</code></a>, <a href="#rake"><code>&lt;rake&gt;</code></a> etc) that will run as part of a job.</p>
<p>There can be zero or more tasks. These tasks are executed in the order specified in the configuration file. If a task fails, the subsequent tasks are not run unless they have <a href="#runif"><code>&lt;runif status=&quot;failed&quot; /&gt;</code></a> defined.</p>
<p>The following environment variables are set for all tasks:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GO_SERVER_URL</code></td>
<td>The base URL for the server, including &lsquo;/go&rsquo;. For example: <code>http://localhost:8153/go</code></td>
</tr>
<tr>
<td><code>GO_PIPELINE_NAME</code></td>
<td>The name of the pipeline to which the job belongs to</td>
</tr>
<tr>
<td><code>GO_PIPELINE_LABEL</code></td>
<td>The label of the pipeline to which the job belongs to</td>
</tr>
<tr>
<td><code>GO_STAGE_NAME</code></td>
<td>The name of the stage to which the job belongs to</td>
</tr>
<tr>
<td><code>GO_STAGE_COUNTER</code></td>
<td>The re-run counter of the stage to which the job belongs to</td>
</tr>
<tr>
<td><code>GO_JOB_NAME</code></td>
<td>The name of the job that is being run</td>
</tr>
<tr>
<td><code>GO_DEPENDENCY_LABEL_&lt;upstream_pipeline_name&gt;_&lt;upstream_stage_name&gt;</code></td>
<td>The label of the upstream pipeline which triggered the pipeline which the job belongs to. For example: &lsquo;GO_DEPENDENCY_LABEL_FRAMEWORK_DEV&rsquo; is the environment variable where the name of the upstream pipeline is &lsquo;framework&rsquo; and the upstream stage is &lsquo;dev&rsquo;. Hyphen (&rsquo;-&rsquo;) is an illegal character in an environment variable. So if a pipeline name or stage name contains &lsquo;-&rsquo;, it will be converted into an underscore. For example, &lsquo;pipeline-foo&rsquo; with stage &lsquo;stage-foo&rsquo; becomes: GO_DEPENDENCY_LABEL_PIPELINE_FOO_STAGE_FOO.</td>
</tr>
<tr>
<td><span id="env-var-GO_TO_REVISION"><code>GO_TO_REVISION_&lt;material_name&gt;</code></span></td>
<td>The lastest revision in modifications that the build running against for each configured SCM material.</td>
</tr>
<tr>
<td><span id="env-var-GO_FROM_REVISION"><code>GO_FROM_REVISION_&lt;material_name&gt;</code></span></td>
<td>The earlist revision in modifications that the build running against for each configured SCM material.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;linux&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;unit-test&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="ant">&lt;ant&gt;</h2>
<p>Specifies an Ant build to run. Ant is assumed to be present from the command line on the agent. Go depends on and uses JDK 1.6. If JDK 1.4 or 1.5 binaries are required by a build, it can be specified in the Ant <a href="https://ant.apache.org/manual/Tasks/javac.html">javac</a> task.</p>
<p>All paths specified are relative to the pipeline working directory.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>buildfile</td>
<td>No</td>
<td>Path to Ant build file. If not specified, the path defaults to &lsquo;build.xml&rsquo;.</td>
</tr>
<tr>
<td>target</td>
<td>No</td>
<td>Ant target(s) to run. If not specified, the target defaults to &lsquo;default&rsquo;</td>
</tr>
<tr>
<td>workingdir</td>
<td>No</td>
<td>The directory from where Ant is invoked</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<ul>
<li>
<p>Invoke Ant, specifying a set of targets to run:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;-Drun=all clean.ivy.localivy clean ft.long_running&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>Invoke Ant in a specific working directory with a set of targets:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">workingdir=</span><span style="color:#b44">&#34;build&#34;</span> <span style="color:#b44">buildfile=</span><span style="color:#b44">&#34;mybuild.xml&#34;</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;-Drun=all clean.ivy.localivy clean ft.long_running&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span></code></pre></div></li>
</ul>
<p><a href="#top">top</a></p>
<h2 id="exec">&lt;exec&gt;</h2>
<p>Runs a specified command. The build fails if the command cannot be run or if it returns an error.</p>
<p>All paths specified are relative to the pipeline working directory.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>command</td>
<td>Yes</td>
<td>The command or script to be executed, relative to the working directory</td>
</tr>
<tr>
<td>args</td>
<td>No</td>
<td>Set of arguments (as a single string) to be passed to the command or script. Note that for complex or quoted arguments we suggest that you use separate <code>&lt;arg&gt;</code> tags for each argument.</td>
</tr>
<tr>
<td>workingdir</td>
<td>No</td>
<td>The directory in which the script or command is to be executed. Note that this directory is relative to the directory where the agent checks out the materials.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<ul>
<li>
<p>Invoke ruby, specifying the working directory as <strong>tools/my-ruby-tool</strong> and executing the ruby script <strong>backup.rb</strong>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;exec</span> <span style="color:#b44">command=</span><span style="color:#b44">&#34;/usr/local/bin/ruby&#34;</span> <span style="color:#b44">args=</span><span style="color:#b44">&#34;backup.rb&#34;</span> <span style="color:#b44">workingdir=</span><span style="color:#b44">&#34;tools/my-ruby-tool&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span></code></pre></div></li>
</ul>
<p><a href="#top">top</a></p>
<h2 id="arg">&lt;arg&gt;</h2>
<p>Specify a single argument for <a href="#exec">exec</a> command.</p>
<p>This element is optional and can occur multiple times. It serves as an alternative to the &ldquo;args&rdquo; attribute of <a href="#exec">exec</a>, but it allows the
use of any character required for making argument. For example, you can specify double quote using the xml escaped format: &quot;</p>
<p>**Note:**When running commands on Windows, Go won&rsquo;t launch your command with system shell (cmd.exe), so you can&rsquo;t use shell commands (like echo) directly. If you want, you can pass your shell command as arguments to the cmd.exe.</p>
<p>On Windows you should specify the full name of your script file such as &ldquo;mybuild.bat&rdquo;. (Only specifying &ldquo;mybuild&rdquo; won&rsquo;t work)</p>
<p><strong>Examples</strong></p>
<ul>
<li>
<p>Echo something on Windows:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;exec</span> <span style="color:#b44">command=</span><span style="color:#b44">&#34;cmd&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;arg&gt;</span>/c<span style="color:#008000;font-weight:bold">&lt;/arg&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;arg&gt;</span>echo<span style="color:#008000;font-weight:bold">&lt;/arg&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;arg&gt;</span>something to print out<span style="color:#008000;font-weight:bold">&lt;/arg&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/exec&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>Run command with pipe character in arguments:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;exec</span> <span style="color:#b44">command=</span><span style="color:#b44">&#34;MsBuild&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;arg&gt;</span>D:\projects\project\project-8.sln<span style="color:#008000;font-weight:bold">&lt;/arg&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;arg&gt;</span>/REBUILD<span style="color:#008000;font-weight:bold">&lt;/arg&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;arg&gt;</span>/CFG=&#34;Release_99|Win32&#34;<span style="color:#008000;font-weight:bold">&lt;/arg&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/exec&gt;</span>
</span></span></code></pre></div></li>
</ul>
<p><a href="#top">top</a></p>
<h2 id="nant">&lt;nant&gt;</h2>
<p>Specifies a NAnt build to run. NAnt is assumed to be present from the command line on the agent.</p>
<p>All paths specified must be relative to the pipeline working directory.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>buildfile</td>
<td>No</td>
<td>Path to NAnt build file. If not specified, the path defaults to &lsquo;default.build&rsquo;. The path is relative to the sandbox directory and cannot be outside the sandbox.</td>
</tr>
<tr>
<td>target</td>
<td>No</td>
<td>NAnt target(s) to run. If not specified, defaults to the default target of the build file.</td>
</tr>
<tr>
<td>workingdir</td>
<td>No</td>
<td>The directory from where NAnt is invoked</td>
</tr>
<tr>
<td>nantpath</td>
<td>No</td>
<td>Path of the directory in which NAnt is installed. By default Go will assume that NAnt is in the system environment variable ${PATH}. If the path is specified, then the path must be the same in all agents which run the job.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p>Invoke NAnt, specifying a set of targets to run:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;nant</span> <span style="color:#b44">buildfile=</span><span style="color:#b44">&#34;myproject.build&#34;</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;smoke-test&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="rake">&lt;rake&gt;</h2>
<p>Specifies a Rake build to be run. Ruby and Rake are assumed to be present from the command line on the agent.</p>
<p>All paths specified must be relative to the pipeline working directory.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>buildfile</td>
<td>No</td>
<td>Path to Rake file. If not specified, the path defaults to &lsquo;rakefile&rsquo;. The path cannot start from &lsquo;.&rsquo;</td>
</tr>
<tr>
<td>target</td>
<td>No</td>
<td>Rake target(s) to run. If not specified, defaults to the default target of the build file</td>
</tr>
<tr>
<td>workingdir</td>
<td>No</td>
<td>The directory from where Rake is invoked</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p>Invoke rake, specifying a set of targets to run:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;rake</span> <span style="color:#b44">buildfile=</span><span style="color:#b44">&#34;rakefile&#34;</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;smoke-test&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="fetchartifact">&lt;fetchartifact&gt;</h2>
<p>Fetch artifacts from:</p>
<ul>
<li>1. previous stages in the same pipeline, or</li>
<li>2. stages of pipelines that this pipeline depends on, directly or indirectly (ancestor pipelines).</li>
</ul>
<p>When pointed to parent/ancestor pipeline, fetch task can pull artifacts from the upstream-stage or stages before it. This restriction has been
introduced in 12.2. Stages after the upstream stage can not be fetched from, because they may not be complete when the fetch call executes.</p>
<p>All file paths specified are relative to the pipeline working directory.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>artifactOrigin</td>
<td>Yes</td>
<td>Indicates where the artifact needs to be pulled from. Supported values are <code>gocd</code> and <code>external</code>. <code>gocd</code> implies that the artifact needs to be fetched from the gocd server, <code>external</code> implies that the artifact must be fetched from an external artifact store.</td>
</tr>
<tr>
<td>pipeline</td>
<td>No</td>
<td>This value can either be: 1. the name of upstream pipeline on which the pipeline of the job depends on. The pipeline should be added as a dependency under <code>&lt;materials&gt;</code>, or 2. the hierarchy of an ancestor pipeline of the current pipeline. Example, The value &ldquo;BuildPipeline/AcceptancePipeline&rdquo; denotes that the fetch task attempts to fetch artifacts from its ancestor &lsquo;BuildPipeline&rsquo;. The given hierarchy denotes that the current pipeline depends on &lsquo;AcceptancePipeline&rsquo; which in turn depends on &lsquo;BuildPipeline&rsquo; using the dependency material definition given under materials. Defaults to current pipeline if not specified.</td>
</tr>
<tr>
<td>stage</td>
<td>Yes</td>
<td>The name of the stage to fetch artifacts from</td>
</tr>
<tr>
<td>job</td>
<td>Yes</td>
<td>The name of the job to fetch artifacts from</td>
</tr>
<tr>
<td>srcdir</td>
<td>One of srcdir/srcfile if artifact origin is <code>gocd</code></td>
<td>The path of the artifact directory of a specific job, relative to the sandbox directory. If the directory does not exist, the job is failed. Should be specified if artifactOrigin is <code>gocd</code>.</td>
</tr>
<tr>
<td>srcfile</td>
<td>One of srcdir/srcfile if artifact origin is <code>gocd</code></td>
<td>The path of the artifact file of a specific job. Should be specified if artifactOrigin is <code>gocd</code>.</td>
</tr>
<tr>
<td>dest</td>
<td>No</td>
<td>The path of the directory where the artifact is fetched to. The directory is overwritten if it already exists. The directory path is relative to the pipeline working directory. Should be specified if artifactOrigin is <code>gocd</code>.</td>
</tr>
<tr>
<td>artifactId</td>
<td>Yes, if artifact origin is <code>external</code></td>
<td>The id of the external artifact that is published by the plugin in the upstream job. Should be specified if the artifact origin is <code>external</code>.</td>
</tr>
<tr>
<td>configuration</td>
<td>No</td>
<td>&lsquo;A list of <code>key</code>-<code>value</code> pairs which defines the plugin configuration. Should be specified if artifact origin is <code>external</code>.</td>
</tr>
</tbody>
</table>
<p>Note: If the file does not exist, the job will fail.
Go will not fetch the artifact again if it has not changed. The directory path is relative to the pipeline working directory. |</p>
<p><strong>Example:</strong></p>
<ol>
<li>
<p>Fetch all artifacts in the directory &lsquo;pkg&rsquo; from the previous stage in the same pipeline and put them under the directory &rsquo;lib&rsquo;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipelines&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;go&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;stage</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;dev&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;jobs&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;unit&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;artifacts&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;build&#34;</span> <span style="color:#b44">src=</span><span style="color:#b44">&#34;target/deployable.jar&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;pkg&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;external&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;artifact_jar&#34;</span> <span style="color:#b44">storeId=</span><span style="color:#b44">&#34;dummy-s3&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>Filename<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>target/deployable.jar<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/artifact&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/artifacts&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/jobs&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/stage&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;stage</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;ft&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;jobs&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;functional&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;fetchartifact</span> <span style="color:#b44">artifactOrigin=</span><span style="color:#b44">&#34;gocd&#34;</span> <span style="color:#b44">stage=</span><span style="color:#b44">&#34;dev&#34;</span> <span style="color:#b44">job=</span><span style="color:#b44">&#34;unit&#34;</span> <span style="color:#b44">srcdir=</span><span style="color:#b44">&#34;pkg&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;lib&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;fetchartifact</span> <span style="color:#b44">artifactOrigin=</span><span style="color:#b44">&#34;external&#34;</span> <span style="color:#b44">stage=</span><span style="color:#b44">&#34;dev&#34;</span> <span style="color:#b44">job=</span><span style="color:#b44">&#34;unit&#34;</span> <span style="color:#b44">artifactId=</span><span style="color:#b44">&#34;artifact_jar&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>dest_on_agent<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>release_candidate.jar<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/fetchartifact&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/jobs&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/stage&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipelines&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>Fetch a single artifact from a stage in the upstream pipeline &lsquo;framework&rsquo; and put it under the directory &rsquo;lib&rsquo;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;go&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;framework&#34;</span> <span style="color:#b44">stage=</span><span style="color:#b44">&#34;ft&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;stage</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;dev&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;jobs&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;unit&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;fetchartifact</span> <span style="color:#b44">origin=</span><span style="color:#b44">&#34;gocd&#34;</span> <span style="color:#b44">pipeline=</span><span style="color:#b44">&#34;framework&#34;</span> <span style="color:#b44">stage=</span><span style="color:#b44">&#34;dev&#34;</span> <span style="color:#b44">job=</span><span style="color:#b44">&#34;unit&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#b44">srcfile=</span><span style="color:#b44">&#34;pkg/deployable.jar&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;lib&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/jobs&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/stage&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>Fetch a single artifact from a stage in an ancestor pipeline &lsquo;Build&rsquo; and put it under the directory &lsquo;pkg&rsquo;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;deploy&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;acceptance&#34;</span> <span style="color:#b44">stage=</span><span style="color:#b44">&#34;ft&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;stage</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;deply-pkg&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;jobs&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;deploy-win&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;fetchartifact</span> <span style="color:#b44">origin=</span><span style="color:#b44">&#34;gocd&#34;</span> <span style="color:#b44">pipeline=</span><span style="color:#b44">&#34;build&#34;</span> <span style="color:#b44">stage=</span><span style="color:#b44">&#34;dist&#34;</span> <span style="color:#b44">job=</span><span style="color:#b44">&#34;create-installer&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#b44">srcfile=</span><span style="color:#b44">&#34;installers/deployable-setup.exe&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;installer&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/jobs&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/stage&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span></code></pre></div></li>
</ol>
<p><a href="#top">top</a></p>
<h2 id="runif">&lt;runif&gt;</h2>
<p>Specifies when a task should be allowed to run. Multiple conditions may be defined for each task.</p>
<p>A running job on an agent has two possible states: passed or failed. A job starts in the state &ldquo;passed&rdquo;. If any task fails, it transitions to
the state &ldquo;failed&rdquo;&quot;&quot;.</p>
<p>A task can specify any of three possible runif filters: &lsquo;passed&rsquo;, &lsquo;failed&rsquo; or &lsquo;any&rsquo;. (&lsquo;passed&rsquo; is the default)</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>Yes</td>
<td>The status is the job&rsquo;s current status. The value should be one of &lsquo;passed&rsquo;, &lsquo;failed&rsquo; or &lsquo;any&rsquo;.</td>
</tr>
</tbody>
</table>
<p><strong><strong>Notes:</strong></strong></p>
<p><a href="#runif"><code>&lt;runif&gt;</code></a> can also be defined under <a href="#exec"><code>&lt;exec&gt;</code></a> task even if <code>&lt;exec&gt;</code> has some <code>&lt;arg&gt;</code>s e.g.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;exec</span> <span style="color:#b44">command=</span><span style="color:#b44">&#34;echo&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;arg</span> <span style="color:#b44">value=</span><span style="color:#b44">&#34;test&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;runif</span> <span style="color:#b44">status=</span><span style="color:#b44">&#34;passed&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/exec&gt;</span>
</span></span></code></pre></div><p><strong>Examples</strong></p>
<p>Given the tasks in a job is following:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;ant</span>  <span style="color:#b44">buildfile=</span><span style="color:#b44">&#34;build.xml&#34;</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;complie-test-source&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;fetchartifact</span> <span style="color:#b44">origin=</span><span style="color:#b44">&#34;gocd&#34;</span> <span style="color:#b44">pipeline=</span><span style="color:#b44">&#34;my_app&#34;</span> <span style="color:#b44">stage=</span><span style="color:#b44">&#34;dist&#34;</span> <span style="color:#b44">job=</span><span style="color:#b44">&#34;package-artifact&#34;</span> <span style="color:#b44">srcdir=</span><span style="color:#b44">&#34;pkg&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;runif</span>  <span style="color:#b44">status=</span><span style="color:#b44">&#34;passed&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/fetchartifact&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;exec</span> <span style="color:#b44">command=</span><span style="color:#b44">&#34;./copy_error_log_to_someplace&#34;</span> <span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008000;font-weight:bold">&lt;runif</span> <span style="color:#b44">status=</span><span style="color:#b44">&#34;failed&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/exec&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span></code></pre></div><p>#<strong>Scenario one:</strong></p>
<p>If task 1 <code>&lt;ant&gt;</code> passed, task 2 <code>&lt;fetchartifact&gt;</code> would be executed.</p>
<p>If task 2 <code>&lt;fetchartifact&gt;</code> passed, task 3 <code>&lt;exec&gt;</code> would NOT be executed.</p>
<p>If task 2 <code>&lt;fetchartifact&gt;</code> failed, task 3 <code>&lt;exec&gt;</code> would be executed.</p>
<p>#<strong>Scenario two:</strong></p>
<p>If task 1 <code>&lt;ant&gt;</code> failed, task 2 <code>&lt;fetchartifact&gt;</code> would NOT be executed.</p>
<p>Instead, task 3 <code>&lt;exec&gt;</code> would be executed.</p>
<p><a href="#top">top</a></p>
<h2 id="oncancel">&lt;oncancel&gt;</h2>
<p>Specifies a task to execute when a stage is cancelled. Only one task can be defined in <code>&lt;oncancel&gt;</code>.</p>
<p>If a job is cancelled during the assigning phase, the job will not start preparing</p>
<p>If a job is cancelled during the preparing phase, preparing will complete, but no tasks will be executed</p>
<p>If a job is cancelled during the building phase:</p>
<ul>
<li>If the currently running task <strong>does not</strong> have <code>&lt;oncancel&gt;</code> defined, the task will be killed</li>
<li>If the currently running task <strong>does</strong> have <code>&lt;oncancel&gt;</code> defined, the task defined within <code>&lt;oncancel&gt;</code> will execute immediately. As soon as both the original task and the <code>&lt;oncancel&gt;</code> task are completed, no other tasks will execute</li>
</ul>
<p>If a job is cancelled during the completing phase, the agent will ignore the request and complete as planned</p>
<p><strong>Examples</strong></p>
<p>The task &lsquo;start_server&rsquo; starts a process on an agent. When the stage is cancelled, the agent will invoke the cancel task &lsquo;kill_server&rsquo; to kill the process early and clean up any extra files.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;start_server&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;oncancel&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;kill_server&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/oncancel&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/ant&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="artifacts">&lt;artifacts&gt;</h2>
<p><code>&lt;artifacts&gt;</code> specifies what files the agent will publish to the server or an external artifact store.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;unit&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;artifacts&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;build&#34;</span> <span style="color:#b44">src=</span><span style="color:#b44">&#34;target/deployable.jar&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;pkg&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;test&#34;</span> <span style="color:#b44">src=</span><span style="color:#b44">&#34;target/junit-output&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;junit&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;external&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;docker-image&#34;</span> <span style="color:#b44">storeId=</span><span style="color:#b44">&#34;dockerhub&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>Image<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>gocd/gocd-demo<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>Tag<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>v${GO_PIPELINE_COUNTER}<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/artifact&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/artifacts&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="artifact">&lt;artifact&gt;</h2>
<p>Publish build or test artifacts to the artifact repository for the job. The src attribute should point towards a folder that contains the test output files. Go will use these to generate a test report if the artifact type is <code>test</code>. Test
information is placed in the Tests sub-tab.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Type can be either <code>build</code> or <code>test</code>. This identifies the type of artifact that is uploaded to the GoCD server</td>
</tr>
<tr>
<td>src</td>
<td>Yes, if type is <code>build</code> or <code>test</code></td>
<td>The file or folders to publish to the server. Go will only upload files that are in the working directory of the job. You can use wildcards to specify the files and folders to upload: ** means any path, * means any file or folder name. Should be specified if type is <code>build</code> or <code>test</code></td>
</tr>
<tr>
<td>dest</td>
<td>No</td>
<td>The destination is relative to the artifacts folder of the current instance on the server side. If it is not specified, the artifact will be stored in the root of the artifacts directory. Should be specified if type is <code>build</code> or <code>test</code></td>
</tr>
<tr>
<td>id</td>
<td>Yes, if type is <code>external</code></td>
<td>The artifact id for an external artifact. This id can be used later in a downstream fetch task. Should be specified if type is <code>external</code>.</td>
</tr>
<tr>
<td>storeId</td>
<td>Yes, if type is <code>external</code></td>
<td>The artifact store id referencing an existing global artifact store. Should be specified if type is <code>external</code>.</td>
</tr>
<tr>
<td>configuration</td>
<td>No</td>
<td>&lsquo;A list of <code>key</code>-<code>value</code> pairs which defines the plugin configuration. Should be specified if type is <code>external</code>.</td>
</tr>
</tbody>
</table>
<p>You can use wildcards to specify which files to upload to the go server in case of build or test artifacts. The wildcard syntax follows the commonly used ant/nant style. So &ldquo;target/**/*.xml&rdquo;
would upload all xml files in the target directory and any of its subdirectories. The original directory structure is preserved on the
server.</p>
<p><strong>Examples for build artifact</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;unit&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;artifacts&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;build&#34;</span> <span style="color:#b44">src=</span><span style="color:#b44">&#34;target/deployable.jar&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;pkg&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/artifacts&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;unit&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;artifacts&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;build&#34;</span> <span style="color:#b44">src=</span><span style="color:#b44">&#34;target/**/*Test.xml&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;pkg&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/artifacts&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><p>The following will upload all xml files to the server&rsquo;s artifact repository.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;unit&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;artifacts&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;build&#34;</span> <span style="color:#b44">src=</span><span style="color:#b44">&#34;target/**/*.xml&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/artifacts&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<p><strong>Examples for test artifact</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;unit&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;artifacts&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;test&#34;</span> <span style="color:#b44">src=</span><span style="color:#b44">&#34;target/junit-output&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;junit&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/artifacts&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><p><strong>Examples for external artifact</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;build_image&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;artifacts&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;external&#34;</span> <span style="color:#b44">id=</span><span style="color:#b44">&#34;docker-image&#34;</span> <span style="color:#b44">storeId=</span><span style="color:#b44">&#34;dockerhub&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>Image<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>gocd/gocd-demo<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;key&gt;</span>Tag<span style="color:#008000;font-weight:bold">&lt;/key&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;value&gt;</span>v${GO_PIPELINE_COUNTER}<span style="color:#008000;font-weight:bold">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/artifact&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/artifacts&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="tabs">&lt;tabs&gt;</h2>
<p>The <code>&lt;tabs&gt;</code> element allows you to add tabs to the Job Details page. You can put any artifact that can be rendered by a web browser into a tab. For example, if your coverage tool produces an html report, you can easily place that report into a tab. Tabs are implemented as iframes (see W3C iframe definition ).</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;unit&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;artifacts&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;build&#34;</span> <span style="color:#b44">src=</span><span style="color:#b44">&#34;target/jcoverage&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;Jcoverage&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/artifacts&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;tabs&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;tab</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;coverage&#34;</span> <span style="color:#b44">path=</span><span style="color:#b44">&#34;Jcoverage/index.html&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/tabs&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="tab">&lt;tab&gt;</h2>
<p>Define a tab with specific name and artifact to show.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>The name of the tab. If should be unique in that job.</td>
</tr>
<tr>
<td>path</td>
<td>Yes</td>
<td>The relative path of a file in the artifact repository of the job.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<p>Given some coverage information in &rsquo;target/Jcoverage&rsquo; folder on the agent side, We configure a tab to show the coverage information by specifying a tab with the index.html file.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;unit&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;artifacts&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;artifact</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;build&#34;</span> <span style="color:#b44">src=</span><span style="color:#b44">&#34;target/jcoverage&#34;</span> <span style="color:#b44">dest=</span><span style="color:#b44">&#34;Jcoverage&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/artifacts&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;tabs&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;tab</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;coverage&#34;</span> <span style="color:#b44">path=</span><span style="color:#b44">&#34;Jcoverage/index.html&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/tabs&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="approval">&lt;approval&gt;</h2>
<p>Specifies how a stage should be triggered. <code>&lt;approval&gt;</code> of type &lsquo;manual&rsquo; or &lsquo;success&rsquo; can be used to stop a pipeline execution at the start of a stage and can only be resumed when it is manually approved on the pipeline activity page, stage details page or through RESTful url.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Yes</td>
<td>Either &lsquo;manual&rsquo; or &lsquo;success&rsquo;. &lsquo;manual&rsquo; means the stage needs to be approved manually. &lsquo;success&rsquo; means the stage will be automatically triggered when the previous stage passes.</td>
</tr>
<tr>
<td>allowOnlyOnSuccess</td>
<td>No</td>
<td>Setting this attribute to &rsquo;true&rsquo; will ensure that the stage can triggered only if the previous stage (if any) has succeeded.</td>
</tr>
</tbody>
</table>
<p><strong>Notes:</strong></p>
<ul>
<li><code>&lt;approval&gt;</code> must be the first sub-element of <a href="#stage"><code>&lt;stage&gt;</code></a>.</li>
<li>If an approval is not specified then the behavior is same as &lsquo;success&rsquo; i.e. the stage will be automatically triggered when the previous stage passes.</li>
<li>If attribute <code>allowOnlyOnSuccess</code> is not specified, then the behaviour is same as <code>false</code>.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;stage</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;ut&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;approval</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;manual&#34;</span> <span style="color:#b44">allowOnlyOnSuccess=</span><span style="color:#b44">&#34;true&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/stage&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="authorization">&lt;authorization&gt;</h2>
<p>You can use <code>&lt;authorization&gt;</code> under an <a href="#approval"><code>&lt;approval&gt;</code></a> with a &lsquo;manual&rsquo; or &lsquo;success&rsquo; type to specify who can approve this stage. There
are two sub-elements: <a href="#user"><code>&lt;user&gt;</code></a> and <a href="#role"><code>&lt;role&gt;</code></a>.</p>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;approval</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;manual&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;authorization&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;role&gt;</span>go_admins<span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/authorization&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/approval&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;approval</span> <span style="color:#b44">type=</span><span style="color:#b44">&#34;success&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;authorization&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>lqiao<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;role&gt;</span>go_admins<span style="color:#008000;font-weight:bold">&lt;/role&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/authorization&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/approval&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="templates">&lt;templates&gt;</h2>
<p>The <code>&lt;templates&gt;</code> element specifies the set of templates known by the server.</p>
<p><a href="#top">top</a></p>
<h2 id="pipeline">&lt;pipeline&gt;</h2>
<p>Allows you to provide a template for pipeline definition</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>Identifier for the pipeline template</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;pipelines</span> <span style="color:#b44">group=</span><span style="color:#b44">&#34;studios&#34;</span> <span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span> <span style="color:#b44">template=</span><span style="color:#b44">&#34;project-template&#34;</span> <span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;materials&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;svn</span> <span style="color:#b44">url=</span><span style="color:#b44">&#34;http://your-svn/&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/materials&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/pipelines&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;templates&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;project-template&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;authorization&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;admins&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#008000;font-weight:bold">&lt;user&gt;</span>jez<span style="color:#008000;font-weight:bold">&lt;/user&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#008000;font-weight:bold">&lt;/admins&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/authorization&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;stage</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;ut&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;jobs&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;job</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;linux&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;resources&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;resource&gt;</span>linux<span style="color:#008000;font-weight:bold">&lt;/resource&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/resources&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;tasks&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&lt;ant</span> <span style="color:#b44">target=</span><span style="color:#b44">&#34;unit-test&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;/tasks&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/job&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/jobs&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/stage&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/templates&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="environments">&lt;environments&gt;</h2>
<p>The <code>&lt;environments&gt;</code> element specifies the set of environments known by the server.</p>
<p><a href="#top">top</a></p>
<h2 id="environment">&lt;environment&gt;</h2>
<p>Allows you to group a set of agents and pipelines together for exclusive use.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>Identifier for an environment</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;cruise&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;pipelines</span> <span style="color:#b44">group=</span><span style="color:#b44">&#34;studios&#34;</span> <span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span> <span style="color:#b44">labeltemplate=</span><span style="color:#b44">&#34;foo-1.0.${COUNT}&#34;</span> <span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/pipeline&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/pipelines&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;environments&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;environment</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;UAT&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;environmentvariables&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;variable</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;FOO&#34;</span><span style="color:#008000;font-weight:bold">&gt;&lt;value&gt;</span>bar<span style="color:#008000;font-weight:bold">&lt;/value&gt;&lt;/variable&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/environmentvariables&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;pipelines&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/pipelines&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;/environment&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/environments&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/cruise&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="environmentvariables">&lt;environmentvariables&gt;</h2>
<p><code>&lt;environmentvariables&gt;</code> specifies the <a href="#variable">variables</a> to pass to jobs and their tasks. You can specify these on a <a href="#pipeline"><code>&lt;pipeline&gt;</code></a>, <a href="#stage"><code>&lt;stage&gt;</code></a>, <a href="#job"><code>&lt;job&gt;</code></a> or an <a href="#environment"><code>&lt;environment&gt;</code></a>. If the same environment variable is definied either on the agent where the job runs or on the pipeline/stage/environment of the job, the precedence is in the order <a href="#job"><code>&lt;job&gt;</code></a>, <a href="#stage"><code>&lt;stage&gt;</code></a>, <a href="#pipeline"><code>&lt;pipeline&gt;</code></a>, <a href="#environment"><code>&lt;environment&gt;</code></a> and the system environment variable. For example, variable &ldquo;FOO&rdquo; defined in a job overrides the variable definied in the job&rsquo;s stage.</p>
<p><a href="#top">top</a></p>
<h2 id="variable">&lt;variable&gt;</h2>
<p>A <code>&lt;variable&gt;</code> defines the variable name and property value that will be passed to a job. It will be set on the system environment when the job
is run. The value can be include multiple lines or CDATA. Note that the behaviour is operating system dependent. Your operating system may not
allow certain variable names and/or values.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>Identifier for an environment variable</td>
</tr>
<tr>
<td>secure</td>
<td>No</td>
<td>This attribute is applicable only at the pipeline level and when set to true, encrypts the environment variable value.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;environmentvariables&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;variable</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;FOO&#34;</span><span style="color:#008000;font-weight:bold">&gt;&lt;value&gt;</span>bar<span style="color:#008000;font-weight:bold">&lt;/value&gt;&lt;/variable&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;variable</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;MULTIPLE_LINES&#34;</span><span style="color:#008000;font-weight:bold">&gt;&lt;value&gt;</span>multiplelines<span style="color:#008000;font-weight:bold">&lt;/value&gt;&lt;/variable&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#008000;font-weight:bold">&lt;variable</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;COMPLEX&#34;</span><span style="color:#008000;font-weight:bold">&gt;&lt;value&gt;</span>![CDATA[This has very <span style="color:#008000;font-weight:bold">&lt;complex&gt;</span> data]]<span style="color:#008000;font-weight:bold">&lt;/value&gt;&lt;/variable&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/environmentvariables&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
<h2 id="environment-pipelines">&lt;pipelines&gt;</h2>
<p>The <code>&lt;pipelines&gt;</code> element inside the <a href="#environment"><code>&lt;environment&gt;</code></a> element specifies the set of pipelines that it references.</p>
<p><a href="#top">top</a></p>
<h2 id="environment-pipeline">&lt;pipeline&gt;</h2>
<p>References a pipeline to be associated with this environment.</p>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>Identifier to an pipeline (must exist in the config file).</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;environment</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;UAT&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;pipelines&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&lt;pipeline</span> <span style="color:#b44">name=</span><span style="color:#b44">&#34;yourproject&#34;</span><span style="color:#008000;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&lt;/pipelines&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/environment&gt;</span>
</span></span></code></pre></div><p><a href="#top">top</a></p>
</article>

      
<div class="align-center book-git-footer justify-between">
  

  
  <div>
    <a href="#" class="navigation navigation-prev">
      <i class="fa fa-angle-left"></i> &lt; Previous Page
    </a>
  </div>
  

  
  <div>
    <a id="suggest-edits" href="https://github.com/gocd/docs.go.cd/edit/master/content/configuration/configuration_reference.md" target="_blank" rel="noopener">
      <img src="../svg/code-fork.svg" /> Suggest edits to this page
    </a>
  </div>
  

  
  <div>
    <a href="#" class="navigation navigation-next">
      <i class="fa fa-angle-right"></i> Next Page &gt;
    </a>
  </div>
  

</div>


    </div>

    

  
  <aside class="book-toc fixed">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#cruise">&lt;cruise&gt;</a></li>
    <li><a href="#server">&lt;server&gt;</a></li>
    <li><a href="#siteUrls">&lt;siteUrls&gt;</a></li>
    <li><a href="#siteUrl">&lt;siteUrl&gt;</a></li>
    <li><a href="#secureSiteUrl">&lt;secureSiteUrl&gt;</a></li>
    <li><a href="#security">&lt;security&gt;</a></li>
    <li><a href="#mailhost">&lt;mailhost&gt;</a></li>
    <li><a href="#backup">&lt;backup&gt;</a></li>
    <li><a href="#artifacts">&lt;artifacts&gt;</a></li>
    <li><a href="#artifactDir">&lt;artifactDir&gt;</a></li>
    <li><a href="#purgeSettings">&lt;purgeSettings&gt;</a></li>
    <li><a href="#purgeStartDiskSpace">&lt;purgeStartDiskSpace&gt;</a></li>
    <li><a href="#purgeUptoDiskSpace">&lt;purgeUptoDiskSpace&gt;</a></li>
    <li><a href="#ldap">&lt;ldap&gt; [<em>Deprecated</em>]</a></li>
    <li><a href="#bases">&lt;bases&gt;</a></li>
    <li><a href="#base">&lt;base&gt;</a></li>
    <li><a href="#passwordFile">&lt;passwordFile&gt; [<em>Deprecated</em>]</a></li>
    <li><a href="#authConfigs">&lt;authConfigs&gt;</a></li>
    <li><a href="#authConfig">&lt;authConfig&gt;</a></li>
    <li><a href="#roles">&lt;roles&gt;</a></li>
    <li><a href="#role_definition">&lt;role&gt;</a></li>
    <li><a href="#usersinrole">&lt;users&gt;</a></li>
    <li><a href="#userinrole">&lt;user&gt;</a></li>
    <li><a href="#policyinrole">&lt;policy&gt;</a></li>
    <li><a href="#allow_permission_in_policy">&lt;allow&gt;</a></li>
    <li><a href="#deny_permission_in_policy">&lt;deny&gt;</a></li>
    <li><a href="#plugin_role_definition">&lt;pluginRole&gt;</a></li>
    <li><a href="#admins">&lt;admins&gt;</a></li>
    <li><a href="#roleinadmin">&lt;role&gt;</a></li>
    <li><a href="#user">&lt;user&gt;</a></li>
    <li><a href="#role">&lt;role&gt;</a></li>
    <li><a href="#elastic">&lt;elastic&gt;</a></li>
    <li><a href="#agentProfiles">&lt;agentProfiles&gt;</a></li>
    <li><a href="#agentProfile">&lt;agentProfile&gt;</a></li>
    <li><a href="#clusterProfiles">&lt;clusterProfiles&gt;</a></li>
    <li><a href="#clusterProfile">&lt;clusterProfile&gt;</a></li>
    <li><a href="#config-repos">&lt;config-repos&gt;</a></li>
    <li><a href="#config-repo">&lt;config-repo&gt;</a></li>
    <li><a href="#config-repo-svn">&lt;svn&gt;</a></li>
    <li><a href="#config-repo-hg">&lt;hg&gt;</a></li>
    <li><a href="#config-repo-p4">&lt;p4&gt;</a></li>
    <li><a href="#config-repo-git">&lt;git&gt;</a></li>
    <li><a href="#config-repo-tfs">&lt;tfs&gt;</a></li>
    <li><a href="#config-repo-scm">&lt;scm&gt;</a></li>
    <li><a href="#config-repo-rules">&lt;rules&gt;</a></li>
    <li><a href="#config-repo-allow">&lt;allow&gt;</a></li>
    <li><a href="#config-repo-deny">&lt;deny&gt;</a></li>
    <li><a href="#repositories">&lt;repositories&gt;</a></li>
    <li><a href="#repository">&lt;repository&gt;</a></li>
    <li><a href="#pluginConfiguration">&lt;pluginConfiguration&gt;</a></li>
    <li><a href="#configuration">&lt;configuration&gt;</a></li>
    <li><a href="#property">&lt;property&gt;</a></li>
    <li><a href="#key">&lt;key&gt;</a></li>
    <li><a href="#value">&lt;value&gt;</a></li>
    <li><a href="#packages">&lt;packages&gt;</a></li>
    <li><a href="#package">&lt;package&gt;</a></li>
    <li><a href="#artifactStores">&lt;artifactStores&gt;</a></li>
    <li><a href="#artifactStore">&lt;artifactStore&gt;</a></li>
    <li><a href="#secretConfigs">&lt;secretConfigs&gt;</a></li>
    <li><a href="#secretConfig">&lt;secretConfig&gt;</a></li>
    <li><a href="#description">&lt;description&gt;</a></li>
    <li><a href="#rules">&lt;rules&gt;</a></li>
    <li><a href="#allow">&lt;allow&gt;</a></li>
    <li><a href="#deny">&lt;deny&gt;</a></li>
    <li><a href="#pipelines">&lt;pipelines&gt;</a></li>
    <li><a href="#authorization">&lt;authorization&gt;</a></li>
    <li><a href="#admins">&lt;admins&gt;</a></li>
    <li><a href="#view">&lt;view&gt;</a></li>
    <li><a href="#operate">&lt;operate&gt;</a></li>
    <li><a href="#pipeline">&lt;pipeline&gt;</a></li>
    <li><a href="#params">&lt;params&gt;</a></li>
    <li><a href="#param">&lt;param&gt;</a></li>
    <li><a href="#trackingtool">&lt;trackingtool&gt;</a></li>
    <li><a href="#timer">&lt;timer&gt;</a></li>
    <li><a href="#materials">&lt;materials&gt;</a></li>
    <li><a href="#filter">&lt;filter&gt;</a></li>
    <li><a href="#ignore">&lt;ignore&gt;</a></li>
    <li><a href="#svn">&lt;svn&gt;</a></li>
    <li><a href="#hg">&lt;hg&gt;</a></li>
    <li><a href="#p4">&lt;p4&gt;</a></li>
    <li><a href="#git">&lt;git&gt;</a></li>
    <li><a href="#tfs">&lt;tfs&gt;</a></li>
    <li><a href="#package">&lt;package&gt;</a></li>
    <li><a href="#pipeline-dependency-material">&lt;pipeline&gt;</a></li>
    <li><a href="#stage">&lt;stage&gt;</a></li>
    <li><a href="#jobs">&lt;jobs&gt;</a></li>
    <li><a href="#job">&lt;job&gt;</a></li>
    <li><a href="#resources">&lt;resources&gt;</a></li>
    <li><a href="#resource">&lt;resource&gt;</a></li>
    <li><a href="#tasks">&lt;tasks&gt;</a></li>
    <li><a href="#ant">&lt;ant&gt;</a></li>
    <li><a href="#exec">&lt;exec&gt;</a></li>
    <li><a href="#arg">&lt;arg&gt;</a></li>
    <li><a href="#nant">&lt;nant&gt;</a></li>
    <li><a href="#rake">&lt;rake&gt;</a></li>
    <li><a href="#fetchartifact">&lt;fetchartifact&gt;</a></li>
    <li><a href="#runif">&lt;runif&gt;</a></li>
    <li><a href="#oncancel">&lt;oncancel&gt;</a></li>
    <li><a href="#artifacts">&lt;artifacts&gt;</a></li>
    <li><a href="#artifact">&lt;artifact&gt;</a></li>
    <li><a href="#tabs">&lt;tabs&gt;</a></li>
    <li><a href="#tab">&lt;tab&gt;</a></li>
    <li><a href="#approval">&lt;approval&gt;</a></li>
    <li><a href="#authorization">&lt;authorization&gt;</a></li>
    <li><a href="#templates">&lt;templates&gt;</a></li>
    <li><a href="#pipeline">&lt;pipeline&gt;</a></li>
    <li><a href="#environments">&lt;environments&gt;</a></li>
    <li><a href="#environment">&lt;environment&gt;</a></li>
    <li><a href="#environmentvariables">&lt;environmentvariables&gt;</a></li>
    <li><a href="#variable">&lt;variable&gt;</a></li>
    <li><a href="#environment-pipelines">&lt;pipelines&gt;</a></li>
    <li><a href="#environment-pipeline">&lt;pipeline&gt;</a></li>
  </ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
